import{a as A}from"./chunk-IPDJJ377.js";import{c as _,d as G,e as T,f as V,g as Y,h as $}from"./chunk-MLXMZDM2.js";import{b as I}from"./chunk-66RT5LSQ.js";import{b as O}from"./chunk-323BPMCN.js";import{a as q,b as P,e as x,h as N}from"./chunk-TW5XL4DD.js";import{A as b,B as k,b as v,g as y,h as C,i as R,k as u,s as F,t as E,w}from"./chunk-ADPCW6JI.js";import{r as S}from"./chunk-6BQAOBQP.js";import{$a as l,Gb as D,Hb as h,Mb as s,Nb as m,Ob as o,Pb as p,ea as c,kc as M,ob as f,pc as d,va as g}from"./chunk-H33Y42PP.js";function B(i,n){i&1&&(m(0,"mat-error"),d(1," Both dates are required "),o())}var j=class i{queryParamsService=c(A);maxDate=g(new Date);today=new Date;firstDayOfMonth=new Date(this.today.getFullYear(),this.today.getMonth(),1);lastDayOfMonth=new Date(this.today.getFullYear(),this.today.getMonth()+1,0);params=this.queryParamsService.getAllParamsSnapshot;dateRange=new R({start:new u(null),end:new u(null)});ngOnInit(){this.dateRange.valueChanges.subscribe(n=>{let e=t=>t?`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,"0")}-${t.getDate().toString().padStart(2,"0")}`:null,a=e(n.start),r=e(n.end);this.queryParamsService.add({start:a,end:r})}),setTimeout(()=>{this.dateRange.patchValue({start:this.params.start?new Date(this.params.start):this.firstDayOfMonth,end:this.params.end?new Date(this.params.end):this.lastDayOfMonth},{emitEvent:!0})},100)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=f({type:i,selectors:[["date-range-selector"]],decls:10,vars:5,consts:[["picker",""],["appearance","outline",1,"w-full"],[3,"formGroup","max","rangePicker"],["matStartDate","","formControlName","start","placeholder","Start date","required",""],["matEndDate","","formControlName","end","placeholder","End date","required",""],["matIconSuffix","",3,"for"]],template:function(e,a){if(e&1&&(m(0,"mat-form-field",1)(1,"mat-label"),d(2,"Date Range"),o(),m(3,"mat-date-range-input",2),p(4,"input",3)(5,"input",4),o(),p(6,"mat-datepicker-toggle",5)(7,"mat-date-range-picker",null,0),D(9,B,2,0,"mat-error"),o()),e&2){let r,t=M(8);l(3),s("formGroup",a.dateRange)("max",a.maxDate())("rangePicker",t),l(3),s("for",t),l(3),h((r=a.dateRange.get("start"))!=null&&r.hasError("required")||(r=a.dateRange.get("end"))!=null&&r.hasError("required")?9:-1)}},dependencies:[S,O,N,q,P,x,I,$,_,G,T,V,Y,k,v,y,C,w,E,F,b],encapsulation:2})};export{j as a};
