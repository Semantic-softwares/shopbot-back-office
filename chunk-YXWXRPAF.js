import{a as h}from"./chunk-LJSEVW7O.js";import{A as n,B as l}from"./chunk-DWCYWQVU.js";import{E as a,aa as u,fa as p,n as i}from"./chunk-5AECHVKR.js";var o=class r{http=p(l);apiUrl=`${h.apiUrl}/guests`;searchGuests(t,e=1,s=10){let b=new n().set("search",t).set("page",e.toString()).set("limit",s.toString());return this.http.get(this.apiUrl,{params:b})}searchGuestByPhone(t){return this.http.get(`${this.apiUrl}/search/phone/${t}`).pipe(a(()=>i(null)))}searchGuestByEmail(t){return this.http.get(`${this.apiUrl}/search/email/${t}`).pipe(a(()=>i(null)))}getGuestById(t){return this.http.get(`${this.apiUrl}/${t}`)}createGuest(t){return this.http.post(this.apiUrl,t)}updateGuest(t,e){return this.http.put(`${this.apiUrl}/${t}`,e)}deleteGuest(t){return this.http.delete(`${this.apiUrl}/${t}`)}getGuestHistory(t){return this.http.get(`${this.apiUrl}/${t}/history`)}updateLoyaltyPoints(t,e,s){return this.http.put(`${this.apiUrl}/${t}/loyalty`,{points:e,reason:s})}getGuestStats(t){let e=new n;return t&&(e=e.set("storeId",t)),this.http.get(`${this.apiUrl}/stats/overview`,{params:e})}static \u0275fac=function(e){return new(e||r)};static \u0275prov=u({token:r,factory:r.\u0275fac,providedIn:"root"})};export{o as a};
