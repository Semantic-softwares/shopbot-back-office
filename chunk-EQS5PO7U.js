import{a as A}from"./chunk-DZDT7WMX.js";import{a as O}from"./chunk-W7B4COE5.js";import"./chunk-CXL66JDJ.js";import"./chunk-IQCUWJKP.js";import"./chunk-62CZFSKL.js";import{i as w}from"./chunk-I4XKOMFF.js";import"./chunk-34VGG7JE.js";import"./chunk-XBTGTIDL.js";import"./chunk-NBBA3J5P.js";import{a as E}from"./chunk-3LEF2TVB.js";import"./chunk-R35DVJIH.js";import"./chunk-BFT2MTJY.js";import{a as k,h as I}from"./chunk-SV3V3KFF.js";import"./chunk-FTUKKUPK.js";import"./chunk-J6S3CU5H.js";import"./chunk-SBJI2VOL.js";import{b as P,c as b}from"./chunk-A5WKFY2Q.js";import"./chunk-PD333HOR.js";import{g as C}from"./chunk-JWHH2AW2.js";import{s as y}from"./chunk-T7PMTSVA.js";import{$b as h,Hb as d,Ib as m,Nb as g,Ob as e,Pb as o,Qb as M,Uc as _,Xb as v,ab as a,bc as S,ea as l,ja as p,ka as u,pb as f,qc as n,ya as x}from"./chunk-ZCSDIQ3M.js";import"./chunk-GAL4ENT6.js";function N(i,t){if(i&1){let r=v();e(0,"mat-card",6),h("click",function(){p(r);let c=S();return u(c.navigateToModule("erp"))}),e(1,"div",7)(2,"mat-icon",8),n(3,"business"),o()(),e(4,"h3",9),n(5,"Enterprise Resource Planning (ERP)"),o(),e(6,"p",10),n(7,"Manage your restaurant operations, orders, inventory, and sales"),o()()}}function T(i,t){if(i&1){let r=v();e(0,"mat-card",6),h("click",function(){p(r);let c=S();return u(c.navigateToModule("hotel"))}),e(1,"div",7)(2,"mat-icon",8),n(3,"hotel"),o()(),e(4,"h3",9),n(5,"Hotel Management"),o(),e(6,"p",10),n(7,"Manage hotel operations, rooms, reservations, and guest services"),o()()}}function D(i,t){if(i&1){let r=v();e(0,"mat-card",6),h("click",function(){p(r);let c=S();return u(c.navigateToModule("pos"))}),e(1,"div",7)(2,"mat-icon",8),n(3,"point_of_sale"),o()(),e(4,"h3",9),n(5,"Point of Sale"),o(),e(6,"p",10),n(7,"Manage sales, transactions, and customer orders"),o()()}}function V(i,t){i&1&&(e(0,"div",5)(1,"mat-icon",11),n(2,"lock"),o(),e(3,"h3",12),n(4,"No Access"),o(),e(5,"p",13),n(6,"You don't have permission to access any modules. Please contact your administrator."),o()())}var R=class i{router=l(C);socketService=l(A);storeStore=l(w);rolesService=l(E);ERP_PERMISSIONS=["erp.inventory.view","erp.inventory.create","erp.inventory.edit","erp.inventory.delete","erp.inventory.adjust","erp.products.view","erp.products.create","erp.products.edit","erp.products.delete","erp.orders.view","erp.orders.create","erp.orders.edit","erp.orders.cancel","erp.orders.refund","erp.suppliers.view","erp.suppliers.create","erp.suppliers.edit","erp.suppliers.delete"];HMS_PERMISSIONS=["hotel.reservations.view","hotel.reservations.create","hotel.reservations.edit","hotel.reservations.delete","hotel.reservations.checkin","hotel.reservations.checkout","hotel.reservations.export","hotel.rooms.view","hotel.rooms.create","hotel.rooms.edit","hotel.rooms.delete","hotel.rooms.status","hotel.roomtypes.view","hotel.roomtypes.create","hotel.roomtypes.edit","hotel.roomtypes.delete","hotel.guests.view","hotel.guests.create","hotel.guests.edit","hotel.guests.delete","hotel.housekeeping.view","hotel.housekeeping.manage","hotel.housekeeping.complete"];POS_PERMISSIONS=this.ERP_PERMISSIONS;canAccessERP=_(()=>this.rolesService.isAdmin()||this.rolesService.hasAny(this.ERP_PERMISSIONS));canAccessHMS=_(()=>this.rolesService.isAdmin()||this.rolesService.hasAny(this.HMS_PERMISSIONS));canAccessPOS=_(()=>this.rolesService.isAdmin()||this.rolesService.hasAny(this.POS_PERMISSIONS));constructor(){x(()=>{let t=this.storeStore.selectedStore();t?._id&&!this.socketService.isConnected()&&(this.socketService.connect(t._id),console.log("\u{1F50C} Socket connected for store:",t.name))})}ngOnInit(){let t=this.storeStore.selectedStore()?._id;t&&(this.socketService.connect(t),console.log("\u{1F50C} Socket connected on menu component init"))}ngOnDestroy(){console.log("\u{1F50C} Socket disconnected on menu component destroy")}navigateToModule(t){t==="erp"?this.router.navigate(["/menu/erp"]):t==="hotel"?this.router.navigate(["/menu/hms"]):t==="pos"&&this.router.navigate(["/menu/pos"])}static \u0275fac=function(r){return new(r||i)};static \u0275cmp=f({type:i,selectors:[["app-menu"]],decls:8,vars:6,consts:[[1,"h-screen","flex","flex-col"],[3,"showMenuButton","title"],[1,"flex-1","flex","items-center","justify-center","p-8","md:p-32"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-8","max-w-4xl","w-full"],["appearance","outlined",1,"p-8","text-center","transition-all","duration-300","ease-in-out","cursor-pointer","border-2","border-transparent","hover:-translate-y-1","hover:shadow-2xl","hover:border-blue-600"],[1,"col-span-1","md:col-span-2","text-center","py-12"],["appearance","outlined",1,"p-8","text-center","transition-all","duration-300","ease-in-out","cursor-pointer","border-2","border-transparent","hover:-translate-y-1","hover:shadow-2xl","hover:border-blue-600",3,"click"],[1,"mb-6"],[1,"!text-6xl","!w-16","!h-16","text-blue-600","md:!text-4xl","md:!w-12","md:!h-12"],[1,"text-gray-800","text-2xl","font-semibold","mb-4","leading-tight","md:text-xl"],[1,"text-gray-600","text-base","leading-relaxed","m-0"],[1,"!text-6xl","!w-24","!h-24","text-gray-400","mb-4"],[1,"text-gray-800","text-2xl","font-semibold","mb-2"],[1,"text-gray-600"]],template:function(r,s){r&1&&(e(0,"div",0),M(1,"app-toolbar",1),e(2,"div",2)(3,"div",3),d(4,N,8,0,"mat-card",4),d(5,T,8,0,"mat-card",4),d(6,D,8,0,"mat-card",4),d(7,V,7,0,"div",5),o()()()),r&2&&(a(),g("showMenuButton",!1)("title","Select Module"),a(3),m(s.canAccessERP()?4:-1),a(),m(s.canAccessHMS()?5:-1),a(),m(s.canAccessPOS()?6:-1),a(),m(!s.canAccessERP()&&!s.canAccessHMS()&&!s.canAccessPOS()?7:-1))},dependencies:[y,b,P,I,k,O],styles:["[_nghost-%COMP%]{display:block}"]})};export{R as MenuComponent};
