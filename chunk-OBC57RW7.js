import{a as kt}from"./chunk-NVPRDFZM.js";import{h as wt}from"./chunk-NGP3QI5W.js";import{a as Gt,b as Et}from"./chunk-DB3A7P3M.js";import"./chunk-HUTJFBBB.js";import{d as Y}from"./chunk-SWNYNPHN.js";import{a as ut,b as pt}from"./chunk-TLN5MM36.js";import{c as st,d as lt}from"./chunk-3BP5U2AG.js";import{a as H}from"./chunk-BF5Y3WJN.js";import{c as yt}from"./chunk-ZNHPNQ3W.js";import{c as St}from"./chunk-TXVLFBH3.js";import{a as gt,b as _t}from"./chunk-OLCCZ3IB.js";import{a as Ct}from"./chunk-CZME4V75.js";import{a as vt}from"./chunk-CQES5GWZ.js";import{a as ft,c as xt,d as bt,e as ht}from"./chunk-CMZGRSEW.js";import"./chunk-K6UY4OSY.js";import"./chunk-GXR3VSCN.js";import{a as ct}from"./chunk-RBYYFQHC.js";import"./chunk-UPBHOZRL.js";import{g as nt}from"./chunk-L2IRRR6J.js";import{a as ot,d as at,h as rt}from"./chunk-27T6VRU4.js";import{C as et,E as it,b as J,g as Q,h as W,m as X,s as Z,t as tt}from"./chunk-LM7FYRY4.js";import"./chunk-ZENMOCFL.js";import{a as dt,b as mt}from"./chunk-EDESGICS.js";import"./chunk-7KAGHLPR.js";import"./chunk-JRF7K3G5.js";import"./chunk-HRGWPEEQ.js";import{Z as z}from"./chunk-BVLPFG4Z.js";import"./chunk-LYY57WCE.js";import"./chunk-5CST2L2O.js";import{a as q,c as K}from"./chunk-QJAAU2EQ.js";import"./chunk-S3JL7UCS.js";import{i as U,m as B,q as R,r as j}from"./chunk-ETP2OZKZ.js";import{Db as c,Eb as u,F as N,Gb as F,Gc as P,Hb as E,Hc as $,Ib as k,J as I,Jb as f,Jc as A,Kb as t,Lb as i,Mb as y,Oc as T,Tb as w,Xb as p,Ya as s,Zb as m,ca as C,ha as g,hc as V,ia as _,lb as L,lc as D,mc as n,nc as x,oc as b,pc as M,qc as O,ta as v,wa as G}from"./chunk-KGWH6IHP.js";import{f as h}from"./chunk-EQDQRRRY.js";var Tt=(r,e)=>e._id;function Nt(r,e){r&1&&(t(0,"div",48),y(1,"mat-spinner",49),i())}function It(r,e){if(r&1){let o=w();t(0,"div",50)(1,"div",52)(2,"mat-icon",53),n(3,"people_outline"),i()(),t(4,"h3",54),n(5,"No guests found"),i(),t(6,"p",55),n(7,"Get started by creating your first guest profile."),i(),t(8,"button",6),p("click",function(){g(o);let l=m(2);return _(l.createGuest())}),t(9,"mat-icon",7),n(10,"person_add"),i(),n(11," Create Guest "),i()()}}function Lt(r,e){if(r&1&&n(0),r&2){let o=m().$implicit;M(" ",o.firstName," ",o.lastName," ")}}function Ft(r,e){if(r&1&&n(0),r&2){let o=m().$implicit;b(" ",o.companyName," ")}}function Vt(r,e){if(r&1&&(t(0,"div",71),n(1),i()),r&2){let o=m().$implicit;s(),b(" ",o.nationality," ")}}function Dt(r,e){r&1&&(t(0,"mat-icon",80),n(1,"star"),i())}function Ot(r,e){r&1&&(t(0,"mat-icon",80),n(1,"block"),i())}function $t(r,e){r&1&&(t(0,"mat-icon",80),n(1,"repeat"),i())}function At(r,e){r&1&&(t(0,"mat-icon",80),n(1,"star_border"),i())}function Ut(r,e){r&1&&(t(0,"span",81)(1,"mat-icon",80),n(2,"star"),i(),n(3," VIP "),i())}function Bt(r,e){r&1&&(t(0,"span",82)(1,"mat-icon",80),n(2,"block"),i(),n(3," Blacklisted "),i())}function Rt(r,e){r&1&&(t(0,"mat-icon",88),n(1,"hourglass_empty"),i())}function jt(r,e){if(r&1&&(t(0,"mat-icon"),n(1),i()),r&2){let o=m().$implicit;s(),x(o.isVip?"star_border":"star")}}function qt(r,e){r&1&&(t(0,"mat-icon",88),n(1,"hourglass_empty"),i())}function Kt(r,e){if(r&1&&(t(0,"mat-icon"),n(1),i()),r&2){let o=m().$implicit;s(),x(o.blacklisted?"check_circle":"block")}}function Yt(r,e){r&1&&(t(0,"mat-icon",88),n(1,"hourglass_empty"),i())}function zt(r,e){r&1&&(t(0,"mat-icon"),n(1,"delete"),i())}function Ht(r,e){if(r&1){let o=w();t(0,"tr",64),p("click",function(){let l=g(o).$implicit,d=m(3);return _(d.viewGuestDetails(l))}),t(1,"td",65)(2,"div",66)(3,"div",67)(4,"div",68)(5,"span"),n(6),i()()(),t(7,"div",69)(8,"div",70),c(9,Lt,1,2)(10,Ft,1,1),i(),c(11,Vt,2,1,"div",71),i()()(),t(12,"td",65)(13,"div")(14,"div",72),n(15),i(),t(16,"div",5),n(17),i()()(),t(18,"td",65)(19,"div",73)(20,"mat-icon",74),n(21,"hotel"),i(),t(22,"div")(23,"div",72),n(24),i(),t(25,"div",75),n(26," lifetime visits "),i()()()(),t(27,"td",65)(28,"div",73)(29,"mat-icon",76),n(30,"attach_money"),i(),t(31,"div")(32,"div",72),n(33),P(34,"currency"),i(),t(35,"div",75),n(36," total revenue "),i()()()(),t(37,"td",65)(38,"div",73)(39,"mat-icon",77),n(40,"schedule"),i(),t(41,"div")(42,"div",72),n(43),i(),t(44,"div",75),n(45," last visit "),i()()()(),t(46,"td",65)(47,"div",78)(48,"span",79),c(49,Dt,2,0,"mat-icon",80),c(50,Ot,2,0,"mat-icon",80),c(51,$t,2,0,"mat-icon",80),c(52,At,2,0,"mat-icon",80),n(53),P(54,"titlecase"),i(),c(55,Ut,4,0,"span",81),c(56,Bt,4,0,"span",82),i()(),t(57,"td",83)(58,"div",84),p("click",function(l){return g(o),_(l.stopPropagation())}),t(59,"button",85)(60,"mat-icon",86),n(61,"more_vert"),i()(),t(62,"mat-menu",null,0)(64,"button",87),p("click",function(){let l=g(o).$implicit,d=m(3);return _(d.viewGuestDetails(l))}),t(65,"mat-icon"),n(66,"visibility"),i(),t(67,"span"),n(68,"View Details"),i()(),t(69,"button",87),p("click",function(){let l=g(o).$implicit,d=m(3);return _(d.editGuest(l))}),t(70,"mat-icon"),n(71,"edit"),i(),t(72,"span"),n(73,"Edit Guest"),i()(),y(74,"mat-divider"),t(75,"button",87),p("click",function(){let l=g(o).$implicit,d=m(3);return _(d.toggleVipStatus(l))}),c(76,Rt,2,0,"mat-icon",88)(77,jt,2,1,"mat-icon"),t(78,"span"),n(79),i()(),t(80,"button",87),p("click",function(){let l=g(o).$implicit,d=m(3);return _(d.toggleBlacklistStatus(l))}),c(81,qt,2,0,"mat-icon",88)(82,Kt,2,1,"mat-icon"),t(83,"span"),n(84),i()(),y(85,"mat-divider"),t(86,"button",89),p("click",function(){let l=g(o).$implicit,d=m(3);return _(d.deleteGuest(l))}),c(87,Yt,2,0,"mat-icon",88)(88,zt,2,0,"mat-icon"),t(89,"span"),n(90,"Delete Guest"),i()()()()()()}if(r&2){let o,a=e.$implicit,l=V(63),d=m(3);s(6),M("",((a.firstName==null?null:a.firstName.charAt(0))||(a.companyName==null?null:a.companyName.charAt(0))||"?").toUpperCase(),"",((a.lastName==null?null:a.lastName.charAt(0))||(a.companyName==null?null:a.companyName.charAt(1))||"?").toUpperCase()),s(3),u(a.guestType==="individual"?9:10),s(2),u(a.nationality?11:-1),s(4),b(" ",a.email," "),s(2),b(" ",a.phone," "),s(7),b(" ",a.totalStays||0," stays "),s(9),b(" ",A(34,28,a.totalSpent||0,((o=d.selectedStore())==null?null:o.currency)||"USD","symbol","1.2-2")," "),s(10),b(" ",d.formatDate(a.lastStayDate)," "),s(5),f("ngClass",d.getGuestStatusClass(d.getGuestStatus(a))),s(),u(d.getGuestStatus(a)==="vip"?49:-1),s(),u(d.getGuestStatus(a)==="blacklisted"?50:-1),s(),u(d.getGuestStatus(a)==="returning"?51:-1),s(),u(d.getGuestStatus(a)==="new"?52:-1),s(),b(" ",$(54,33,d.getGuestStatus(a))," "),s(2),u(a.isVip&&d.getGuestStatus(a)!=="vip"?55:-1),s(),u(a.blacklisted&&d.getGuestStatus(a)!=="blacklisted"?56:-1),s(3),f("matMenuTriggerFor",l),s(5),f("disabled",d.isUpdating()),s(5),f("disabled",d.isUpdating()),s(6),f("disabled",d.isUpdating()),s(),u(d.isUpdating()?76:77),s(3),x(a.isVip?"Remove VIP":"Make VIP"),s(),f("disabled",d.isUpdating()),s(),u(d.isUpdating()?81:82),s(3),x(a.blacklisted?"Remove from Blacklist":"Add to Blacklist"),s(2),f("disabled",d.isUpdating()),s(),u(d.isUpdating()?87:88)}}function Jt(r,e){if(r&1){let o=w();t(0,"button",93),p("click",function(){let l=g(o).$implicit,d=m(4);return _(d.onPageChange(l))}),n(1),i()}if(r&2){let o=e.$implicit,a=m(4);D(o===a.currentPage()?"bg-purple-600 text-white shadow-md":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"),s(),b(" ",o," ")}}function Qt(r,e){if(r&1){let o=w();t(0,"div",63)(1,"div",45)(2,"div",90),n(3),i(),t(4,"div",73)(5,"button",91),p("click",function(){g(o);let l=m(3);return _(l.onPageChange(l.currentPage()-1))}),t(6,"mat-icon",7),n(7,"chevron_left"),i()(),E(8,Jt,2,3,"button",92,F),t(10,"button",91),p("click",function(){g(o);let l=m(3);return _(l.onPageChange(l.currentPage()+1))}),t(11,"mat-icon",7),n(12,"chevron_right"),i()()()()()}if(r&2){let o=m(3);s(3),O(" Showing ",(o.currentPage()-1)*20+1," to ",o.Math.min(o.currentPage()*20,o.totalGuests())," of ",o.totalGuests()," guests "),s(2),f("disabled",o.currentPage()===1),s(3),k(o.getPageNumbers()),s(2),f("disabled",o.currentPage()===o.totalPages())}}function Wt(r,e){if(r&1&&(t(0,"div",51)(1,"div",56)(2,"table",57)(3,"thead",58)(4,"tr")(5,"th",59),n(6," Guest Information "),i(),t(7,"th",59),n(8," Contact Details "),i(),t(9,"th",59),n(10," Stay Statistics "),i(),t(11,"th",59),n(12," Total Spent "),i(),t(13,"th",59),n(14," Last Stay "),i(),t(15,"th",59),n(16," Status "),i(),t(17,"th",60),n(18," Actions "),i()()(),t(19,"tbody",61),E(20,Ht,91,35,"tr",62,Tt),i()()(),c(22,Qt,13,5,"div",63),i()),r&2){let o=m(2);s(20),k(o.filteredGuests()),s(2),u(o.totalPages()>1?22:-1)}}function Xt(r,e){if(r&1&&(t(0,"div",9),c(1,It,12,0,"div",50)(2,Wt,23,1,"div",51),i()),r&2){let o=m();s(),u(o.filteredGuests().length===0?1:2)}}var Mt=class r{router=C(K);route=C(q);fb=C(et);snackBar=C(H);dialog=C(St);guestService=C(kt);storeStore=C(ct);guests=v([]);loading=v(!1);searchTerm=v("");currentPage=v(1);totalGuests=v(0);totalPages=v(0);selectedGuest=v(null);isUpdating=v(!1);guestStats=v({total:0,vip:0,recent:0,returning:0,new:0,blacklisted:0});searchForm;selectedStore=T(()=>this.storeStore.selectedStore());filteredGuests=T(()=>{let e=this.guests(),o=this.searchTerm().toLowerCase();return o?e.filter(a=>(a.firstName?.toLowerCase().includes(o)??!1)||(a.lastName?.toLowerCase().includes(o)??!1)||(a.companyName?.toLowerCase().includes(o)??!1)||(a.email?.toLowerCase().includes(o)??!1)||(a.phone?.toLowerCase().includes(o)??!1)):e});constructor(){this.searchForm=this.fb.group({search:[""],nationality:[""],isVip:[""],blacklisted:[""]}),G(()=>{let e=this.searchForm.value;e.search!==this.searchTerm()&&this.searchTerm.set(e.search||"")}),G(()=>{let e=this.selectedStore();e?._id&&(console.log("Store changed in guest list:",e.name,e._id),this.loadGuests(),this.loadGuestStats())}),this.searchForm.get("search")?.valueChanges.pipe(N(300),I()).subscribe(e=>{this.searchTerm.set(e||""),this.searchGuests()})}ngOnInit(){this.selectedStore()?._id&&(this.loadGuests(),this.loadGuestStats())}loadGuests(){return h(this,null,function*(){let e=this.selectedStore();if(!e?._id){console.log("No store selected, skipping guest load"),this.guests.set([]),this.totalGuests.set(0),this.totalPages.set(0);return}this.loading.set(!0);try{console.log("Loading guests for store:",e.name,e._id);let o=yield this.guestService.searchGuests(this.searchTerm(),this.currentPage(),20,e._id).toPromise();this.guests.set(o.guests||[]),this.totalGuests.set(o.total||0),this.totalPages.set(o.totalPages||0)}catch(o){console.error("Error loading guests:",o),this.showError("Failed to load guests")}finally{this.loading.set(!1)}})}loadGuestStats(){return h(this,null,function*(){try{let e=this.selectedStore()?._id,o=yield this.guestService.getGuestStats(e).toPromise();this.guestStats.set(o)}catch(e){console.error("Error loading guest stats:",e)}})}searchGuests(){return h(this,null,function*(){this.currentPage.set(1),yield this.loadGuests()})}onPageChange(e){this.currentPage.set(e),this.loadGuests()}clearFilters(){this.searchForm.reset(),this.searchTerm.set(""),this.currentPage.set(1),this.loadGuests()}viewGuestDetails(e){this.router.navigate(["../details",e._id],{relativeTo:this.route})}editGuest(e){this.router.navigate(["../edit",e._id],{relativeTo:this.route})}createGuest(){this.router.navigate(["../create"],{relativeTo:this.route})}deleteGuest(e){return h(this,null,function*(){let o=`${e.firstName} ${e.lastName}`;if(confirm(`\u26A0\uFE0F PERMANENTLY DELETE GUEST

Guest: ${o}
Email: ${e.email}
Phone: ${e.phone}
Total Stays: ${e.totalStays||0}
Total Spent: ${(e.totalSpent||0)|0}

This action CANNOT be undone. All guest data, reservations, and history will be permanently removed.

Are you absolutely sure you want to delete this guest?`)&&confirm(`\u{1F6A8} FINAL CONFIRMATION

You are about to permanently delete ${o}.

Type confirmation: This will delete ALL data for this guest.

Click OK to proceed with deletion or Cancel to abort.`)){this.isUpdating.set(!0);try{yield this.guestService.deleteGuest(e._id).toPromise(),this.showSuccess(`Guest ${o} has been permanently deleted`),this.guests.update(d=>d.filter(S=>S._id!==e._id)),yield this.loadGuestStats()}catch(d){console.error("Error deleting guest:",d),this.showError(`Failed to delete guest ${o}. Please try again.`)}finally{this.isUpdating.set(!1)}}})}toggleVipStatus(e){return h(this,null,function*(){let o=`${e.firstName} ${e.lastName}`;if(e.isVip){if(!confirm(`Are you sure you want to remove VIP status from ${o}?

This will remove all VIP benefits and privileges.`))return;yield this.updateVipStatus(e._id,!1)}else{let a=`Add VIP status to ${o}?

VIP Benefits include:
\u2022 Priority reservations and check-in
\u2022 Complimentary room upgrades (when available)
\u2022 Late checkout privileges
\u2022 Access to exclusive amenities
\u2022 Dedicated customer service
\u2022 Special welcome gifts and services`;if(!confirm(a))return;yield this.updateVipStatus(e._id,!0)}})}toggleBlacklistStatus(e){return h(this,null,function*(){let o=`${e.firstName} ${e.lastName}`;if(e.blacklisted){if(!confirm(`Are you sure you want to remove ${o} from the blacklist?`))return;yield this.updateBlacklistStatus(e._id,!1,"")}else yield this.addToBlacklist(o,e._id)})}addToBlacklist(e,o){return h(this,null,function*(){let a=prompt(`Please provide a reason for blacklisting ${e}:

This action will:
\u2022 Prevent future reservations
\u2022 Flag the guest account
\u2022 Require manager approval for any bookings

Reason (required):`,"");if(a!==null){if(!a.trim()){alert("A reason is required to blacklist a guest.");return}yield this.updateBlacklistStatus(o,!0,a.trim())}})}updateVipStatus(e,o){return h(this,null,function*(){this.isUpdating.set(!0);try{let a={isVip:o};o&&(a.vipSince=new Date().toISOString());let l=yield this.guestService.updateGuest(e,a).toPromise();if(l){this.updateGuestInList(l);let d=`${l.firstName} ${l.lastName}`,S=o?"granted VIP status":"removed from VIP status";this.showSuccess(`${d} ${S} successfully`),yield this.loadGuestStats()}}catch(a){console.error("Error updating VIP status:",a),this.showError("Failed to update VIP status. Please try again.")}finally{this.isUpdating.set(!1)}})}updateBlacklistStatus(e,o,a){return h(this,null,function*(){this.isUpdating.set(!0);try{let l={blacklisted:o};o&&a&&(l.blacklistReason=a,l.blacklistedAt=new Date().toISOString());let d=yield this.guestService.updateGuest(e,l).toPromise();if(d){this.updateGuestInList(d);let S=`${d.firstName} ${d.lastName}`,Pt=o?"added to blacklist":"removed from blacklist";this.showSuccess(`${S} ${Pt} successfully`),yield this.loadGuestStats()}}catch(l){console.error("Error updating blacklist status:",l),this.showError("Failed to update blacklist status. Please try again.")}finally{this.isUpdating.set(!1)}})}updateGuestInList(e){let a=this.guests().map(l=>l._id===e._id?e:l);this.guests.set(a)}getGuestStatus(e){return e.blacklisted?"blacklisted":e.isVip?"vip":e.totalStays&&e.totalStays>5?"returning":e.totalStays===1?"new":"regular"}getGuestStatusClass(e){return{vip:"bg-purple-100 text-purple-800",returning:"bg-blue-100 text-blue-800",new:"bg-green-100 text-green-800",regular:"bg-gray-100 text-gray-800",blacklisted:"bg-red-100 text-red-800"}[e]||"bg-gray-100 text-gray-800"}formatDate(e){return e?new Date(e).toLocaleDateString():"Never"}Math=Math;Array=Array;getPageNumbers(){let e=this.totalPages(),o=this.currentPage(),a=[];for(let l=Math.max(1,o-2);l<=Math.min(e,o+2);l++)a.push(l);return a}showSuccess(e){this.snackBar.open(e,"Close",{duration:3e3,panelClass:["success-snackbar"]})}showError(e){this.snackBar.open(e,"Close",{duration:5e3,panelClass:["error-snackbar"]})}showInfo(e){this.snackBar.open(e,"Close",{duration:3e3,panelClass:["info-snackbar"]})}static \u0275fac=function(o){return new(o||r)};static \u0275cmp=L({type:r,selectors:[["app-list-guests"]],decls:141,vars:10,consts:[["actionsMenu","matMenu"],[1,"bg-gradient-to-r","from-purple-50","to-indigo-50","border-b","border-purple-100"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","justify-between","items-center","py-6"],[1,"text-3xl","font-bold","text-gray-900","mb-1"],[1,"text-sm","text-gray-600"],[1,"!bg-gradient-to-r","!from-purple-600","!to-purple-700","hover:!from-purple-700","hover:!to-purple-800","!text-white","px-6","py-3","rounded-lg","font-medium","transition-all","duration-200","shadow-lg","hover:shadow-xl","transform","hover:scale-105","inline-flex","items-center","gap-2",3,"click"],[1,"text-lg"],[1,"bg-white","shadow-sm","border-b","border-gray-100"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-6"],[1,"grid","grid-cols-2","md:grid-cols-3","lg:grid-cols-6","gap-4"],[1,"bg-gradient-to-br","from-purple-50","to-purple-100","rounded-xl","border","border-purple-200","p-4","shadow-sm","hover:shadow-md","transition-all","duration-200"],[1,"flex","items-center","gap-3"],[1,"w-12","h-12","bg-gradient-to-r","from-purple-500","to-purple-600","rounded-full","flex","items-center","justify-center","shadow-lg"],[1,"text-white","text-xl"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-sm","font-medium","text-gray-600"],[1,"bg-gradient-to-br","from-amber-50","to-amber-100","rounded-xl","border","border-amber-200","p-4","shadow-sm","hover:shadow-md","transition-all","duration-200"],[1,"w-12","h-12","bg-gradient-to-r","from-amber-500","to-amber-600","rounded-full","flex","items-center","justify-center","shadow-lg"],[1,"bg-gradient-to-br","from-blue-50","to-blue-100","rounded-xl","border","border-blue-200","p-4","shadow-sm","hover:shadow-md","transition-all","duration-200"],[1,"w-12","h-12","bg-gradient-to-r","from-blue-500","to-blue-600","rounded-full","flex","items-center","justify-center","shadow-lg"],[1,"bg-gradient-to-br","from-green-50","to-green-100","rounded-xl","border","border-green-200","p-4","shadow-sm","hover:shadow-md","transition-all","duration-200"],[1,"w-12","h-12","bg-gradient-to-r","from-green-500","to-green-600","rounded-full","flex","items-center","justify-center","shadow-lg"],[1,"bg-gradient-to-br","from-teal-50","to-teal-100","rounded-xl","border","border-teal-200","p-4","shadow-sm","hover:shadow-md","transition-all","duration-200"],[1,"w-12","h-12","bg-gradient-to-r","from-teal-500","to-teal-600","rounded-full","flex","items-center","justify-center","shadow-lg"],[1,"bg-gradient-to-br","from-red-50","to-red-100","rounded-xl","border","border-red-200","p-4","shadow-sm","hover:shadow-md","transition-all","duration-200"],[1,"w-12","h-12","bg-gradient-to-r","from-red-500","to-red-600","rounded-full","flex","items-center","justify-center","shadow-lg"],[1,"bg-white","border-b","border-gray-200"],[3,"formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4","mb-4"],[1,"lg:col-span-2"],["appearance","outline",1,"w-full","[&_.mdc-text-field--outlined]:!bg-gray-50","[&_.mdc-text-field--outlined]:!border-gray-200","hover:[&_.mdc-text-field--outlined]:!border-purple-300","[&_.mdc-text-field--focused_.mdc-text-field--outlined]:!border-purple-500"],["matInput","","formControlName","search","placeholder","Name, email, or phone",1,"!bg-gray-50"],["matPrefix","",1,"text-gray-400"],["formControlName","nationality"],["value",""],["value","US"],["value","UK"],["value","CA"],["value","DE"],["value","FR"],["formControlName","isVip"],["value","true"],["value","false"],["formControlName","blacklisted"],[1,"flex","items-center","justify-between"],["type","button",1,"px-4","py-2","text-sm","font-medium","text-gray-700","bg-white","border","border-gray-300","rounded-lg","hover:bg-gray-50","hover:border-gray-400","transition-all","duration-200","flex","items-center","gap-2",3,"click"],[1,"flex","items-center","text-sm","text-gray-600"],[1,"flex","justify-center","items-center","py-16"],["diameter","40"],[1,"text-center","py-16"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","overflow-hidden","mb-6"],[1,"bg-gray-50","rounded-full","w-24","h-24","flex","items-center","justify-center","mx-auto","mb-4"],[1,"text-gray-400","text-4xl"],[1,"text-lg","font-semibold","text-gray-900","mb-2"],[1,"text-gray-600","mb-6"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gradient-to-r","from-gray-50","to-gray-100"],[1,"px-6","py-4","text-left","text-xs","font-semibold","text-gray-700","uppercase","tracking-wider","border-b-2","border-gray-200"],[1,"px-6","py-4","text-right","text-xs","font-semibold","text-gray-700","uppercase","tracking-wider","border-b-2","border-gray-200"],[1,"bg-white","divide-y","divide-gray-100"],[1,"hover:bg-gray-50","transition-colors","duration-200","cursor-pointer"],[1,"px-6","py-4","border-t","border-gray-200","bg-gradient-to-r","from-gray-50","to-gray-100"],[1,"hover:bg-gray-50","transition-colors","duration-200","cursor-pointer",3,"click"],[1,"px-6","py-4","whitespace-nowrap","border-b","border-gray-100"],[1,"flex","items-center"],[1,"flex-shrink-0","h-12","w-12"],[1,"h-12","w-12","rounded-full","bg-gradient-to-br","from-purple-500","to-purple-600","flex","items-center","justify-center","text-white","font-bold","text-lg","shadow-md","ring-2","ring-purple-200"],[1,"ml-4"],[1,"text-sm","font-semibold","text-gray-900"],[1,"text-xs","text-gray-500","font-medium"],[1,"text-sm","font-medium","text-gray-900"],[1,"flex","items-center","space-x-2"],[1,"text-blue-600","text-lg"],[1,"text-xs","text-gray-500"],[1,"text-green-600","text-lg"],[1,"text-orange-600","text-lg"],[1,"flex","flex-col","space-y-1"],[1,"inline-flex","items-center","px-3","py-1","rounded-full","text-xs","font-medium","border",3,"ngClass"],[1,"text-xs","mr-1"],[1,"inline-flex","items-center","px-2","py-0.5","rounded-full","text-xs","font-medium","bg-gradient-to-r","from-purple-100","to-purple-200","text-purple-800","border","border-purple-300"],[1,"inline-flex","items-center","px-2","py-0.5","rounded-full","text-xs","font-medium","bg-gradient-to-r","from-red-100","to-red-200","text-red-800","border","border-red-300"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium","border-b","border-gray-100"],[1,"flex","justify-end",3,"click"],["matTooltip","Actions",1,"text-gray-600","hover:text-gray-800","bg-gray-50","hover:bg-gray-100","p-2","rounded-full","transition-all","duration-200","border","border-gray-200","hover:border-gray-300",3,"matMenuTriggerFor"],[1,"text-sm"],["mat-menu-item","",3,"click","disabled"],[1,"animate-spin"],["mat-menu-item","",1,"text-red-600",3,"click","disabled"],[1,"text-sm","text-gray-700","font-medium"],[1,"px-3","py-2","text-sm","font-medium","text-gray-700","bg-white","border","border-gray-300","rounded-lg","hover:bg-gray-50","hover:border-gray-400","transition-all","duration-200","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"px-4","py-2","text-sm","font-medium","rounded-lg","transition-all","duration-200",3,"class"],[1,"px-4","py-2","text-sm","font-medium","rounded-lg","transition-all","duration-200",3,"click"]],template:function(o,a){o&1&&(t(0,"div",1)(1,"div",2)(2,"div",3)(3,"div")(4,"h1",4),n(5,"Guests"),i(),t(6,"p",5),n(7,"Manage guest profiles and information"),i()(),t(8,"button",6),p("click",function(){return a.createGuest()}),t(9,"mat-icon",7),n(10,"person_add"),i(),n(11," New Guest "),i()()()(),t(12,"div",8)(13,"div",9)(14,"div",10)(15,"div",11)(16,"div",12)(17,"div",13)(18,"mat-icon",14),n(19,"people"),i()(),t(20,"div")(21,"div",15),n(22),i(),t(23,"div",16),n(24,"Total"),i()()()(),t(25,"div",17)(26,"div",12)(27,"div",18)(28,"mat-icon",14),n(29,"star"),i()(),t(30,"div")(31,"div",15),n(32),i(),t(33,"div",16),n(34,"VIP"),i()()()(),t(35,"div",19)(36,"div",12)(37,"div",20)(38,"mat-icon",14),n(39,"repeat"),i()(),t(40,"div")(41,"div",15),n(42),i(),t(43,"div",16),n(44,"Returning"),i()()()(),t(45,"div",21)(46,"div",12)(47,"div",22)(48,"mat-icon",14),n(49,"person_add"),i()(),t(50,"div")(51,"div",15),n(52),i(),t(53,"div",16),n(54,"New"),i()()()(),t(55,"div",23)(56,"div",12)(57,"div",24)(58,"mat-icon",14),n(59,"schedule"),i()(),t(60,"div")(61,"div",15),n(62),i(),t(63,"div",16),n(64,"Recent"),i()()()(),t(65,"div",25)(66,"div",12)(67,"div",26)(68,"mat-icon",14),n(69,"block"),i()(),t(70,"div")(71,"div",15),n(72),i(),t(73,"div",16),n(74,"Blacklisted"),i()()()()()()(),t(75,"div",27)(76,"div",9)(77,"form",28)(78,"div",29)(79,"div",30)(80,"mat-form-field",31)(81,"mat-label"),n(82,"Search guests..."),i(),y(83,"input",32),t(84,"mat-icon",33),n(85,"search"),i()()(),t(86,"div")(87,"mat-form-field",31)(88,"mat-label"),n(89,"Nationality"),i(),t(90,"mat-select",34)(91,"mat-option",35),n(92,"All Countries"),i(),t(93,"mat-option",36),n(94,"United States"),i(),t(95,"mat-option",37),n(96,"United Kingdom"),i(),t(97,"mat-option",38),n(98,"Canada"),i(),t(99,"mat-option",39),n(100,"Germany"),i(),t(101,"mat-option",40),n(102,"France"),i()()()(),t(103,"div")(104,"mat-form-field",31)(105,"mat-label"),n(106,"Guest Type"),i(),t(107,"mat-select",41)(108,"mat-option",35),n(109,"All Guests"),i(),t(110,"mat-option",42),n(111,"VIP Guests"),i(),t(112,"mat-option",43),n(113,"Regular Guests"),i()()()()(),t(114,"div",29)(115,"div")(116,"mat-form-field",31)(117,"mat-label"),n(118,"Status"),i(),t(119,"mat-select",44)(120,"mat-option",35),n(121,"All Status"),i(),t(122,"mat-option",43),n(123,"Active"),i(),t(124,"mat-option",42),n(125,"Blacklisted"),i()()()()(),t(126,"div",45)(127,"div",12)(128,"button",46),p("click",function(){return a.clearFilters()}),t(129,"mat-icon",7),n(130,"clear"),i(),n(131," Clear Filters "),i(),t(132,"button",46),p("click",function(){return a.loadGuests()}),t(133,"mat-icon",7),n(134,"refresh"),i(),n(135," Refresh "),i()(),t(136,"div",47)(137,"span"),n(138),i()()()()()(),c(139,Nt,2,0,"div",48),c(140,Xt,3,1,"div",9)),o&2&&(s(22),x(a.guestStats().total||a.guests().length),s(10),x(a.guestStats().vip||0),s(10),x(a.guestStats().returning||0),s(10),x(a.guestStats().new||0),s(10),x(a.guestStats().recent||0),s(10),x(a.guestStats().blacklisted||0),s(5),f("formGroup",a.searchForm),s(61),b("Showing ",a.filteredGuests().length," guests"),s(),u(a.loading()?139:-1),s(),u(a.loading()?-1:140))},dependencies:[j,U,it,X,J,Q,W,tt,Z,lt,st,rt,ot,at,Et,Gt,Y,z,mt,dt,yt,nt,ht,xt,ft,bt,Ct,vt,wt,pt,ut,_t,gt,B,R],styles:["[_nghost-%COMP%]{display:block}.status-vip[_ngcontent-%COMP%]{background-color:#f3e8ff;color:#7c3aed;border:1px solid #e9d5ff}.status-returning[_ngcontent-%COMP%]{background-color:#dbeafe;color:#2563eb;border:1px solid #bfdbfe}.status-new[_ngcontent-%COMP%]{background-color:#d1fae5;color:#059669;border:1px solid #a7f3d0}.status-regular[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#374151;border:1px solid #e5e7eb}.status-blacklisted[_ngcontent-%COMP%]{background-color:#fee2e2;color:#dc2626;border:1px solid #fecaca}  .success-snackbar{background-color:#10b981!important;color:#fff!important}  .error-snackbar{background-color:#ef4444!important;color:#fff!important}  .info-snackbar{background-color:#3b82f6!important;color:#fff!important}.mat-row[_ngcontent-%COMP%]{transition:background-color .2s ease}.mat-row[_ngcontent-%COMP%]:hover{background-color:#6366f10d!important}.action-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.375rem .75rem;font-size:.875rem;font-weight:500;border-radius:.375rem;transition:all .2s ease}.action-button.primary[_ngcontent-%COMP%]{background-color:#8b5cf6;color:#fff;box-shadow:0 1px 2px #0000000d}.action-button.primary[_ngcontent-%COMP%]:hover{background-color:#7c3aed;box-shadow:0 4px 6px #0000001a}.action-button.secondary[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#374151}.action-button.secondary[_ngcontent-%COMP%]:hover{background-color:#e5e7eb}.action-button.danger[_ngcontent-%COMP%]{background-color:#fee2e2;color:#dc2626}.action-button.danger[_ngcontent-%COMP%]:hover{background-color:#fecaca}.stats-card[_ngcontent-%COMP%]{transition:all .3s ease}.stats-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 25px #0000001a}  .mat-form-field .mat-form-field-outline{color:#0000001f}  .mat-form-field.mat-focused .mat-form-field-outline-thick{color:#8b5cf6}  .mat-form-field .mat-form-field-label{color:#0009}  .mat-form-field.mat-focused .mat-form-field-label{color:#8b5cf6}  .mat-progress-spinner circle{stroke:#8b5cf6}.animate-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media(max-width:768px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.filter-form[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.filter-form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.table-container[_ngcontent-%COMP%]{overflow-x:auto}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{min-width:600px}}@media(max-width:640px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.page-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{width:100%}}"]})};export{Mt as ListGuestsComponent};
