import{d as nt,e as ot}from"./chunk-IUP742CL.js";import{a as it}from"./chunk-DEWY4UEI.js";import{a as Ze}from"./chunk-QTGE4XNY.js";import{a as et,b as tt}from"./chunk-CGWMLQHI.js";import{b as Je,f as Ye}from"./chunk-VQA5W3EJ.js";import{a as We,b as qe,c as Xe}from"./chunk-L7BDTWLS.js";import{a as Qe,b as Ke}from"./chunk-N67EMNJ4.js";import{a as Ge}from"./chunk-PSH3SVZJ.js";import{a as Ue}from"./chunk-5LVVGVPB.js";import{a as Ve,b as De,c as Ne,d as Oe,e as Pe,f as $e,g as Be,h as He,i as Ae,j as ze,k as je}from"./chunk-IFYNKVPK.js";import{a as Fe,b as Ie}from"./chunk-TPXN6FKM.js";import"./chunk-2KPMOGOH.js";import{a as me,b as se,c as ce,d as de}from"./chunk-Q24JN32N.js";import{i as ie}from"./chunk-WFQLSX5X.js";import{a as Le,b as we}from"./chunk-66RT5LSQ.js";import{d as Y}from"./chunk-O2QR3P5A.js";import{d as B}from"./chunk-WD3LGOJ6.js";import"./chunk-5IMEEOTN.js";import"./chunk-UATHS3SB.js";import"./chunk-GZ7S2I6F.js";import"./chunk-L5R7UQHM.js";import{b as ye,c as Ee,d as Te}from"./chunk-323BPMCN.js";import{a as ve,d as be,h as Re}from"./chunk-TW5XL4DD.js";import"./chunk-GBJWJHBW.js";import{a as ke,b as Me}from"./chunk-ZDRRUYFZ.js";import{A as he,B as Se,b as pe,g as ue,h as _e,m as xe,s as ge,t as fe,z as Ce}from"./chunk-ADPCW6JI.js";import"./chunk-UUMWQRYG.js";import"./chunk-UPMF7ZC6.js";import"./chunk-BFT2MTJY.js";import{a as ae,c as re,h as le}from"./chunk-GI3DA2RF.js";import"./chunk-DDDMZQMU.js";import"./chunk-6NXOHEKD.js";import"./chunk-47XHPHB4.js";import{b as ne,c as oe}from"./chunk-5P5QATX2.js";import{$ as te,Y as Z,Z as ee}from"./chunk-LG6YQHRU.js";import{h as X,l as J}from"./chunk-DWM5GR6S.js";import{g as Q,l as K,p as W,r as q}from"./chunk-6BQAOBQP.js";import{$a as l,Ec as F,G as A,Gb as p,Hb as u,Hc as O,Ic as P,Jb as L,Jc as y,K as z,Kb as E,Kc as k,Lb as T,Mb as c,Nb as o,Nc as $,Ob as n,Pb as w,Tb as v,Tc as M,Ub as b,Wb as R,_b as d,ac as s,ea as V,ja as g,ka as f,kc as U,m as N,mc as G,ob as j,pc as a,qc as C,rc as _,sc as D,ub as S,va as h}from"./chunk-H33Y42PP.js";import{g as I}from"./chunk-GAL4ENT6.js";var rt=(t,i,e,r,m)=>({"bg-green-100! text-green-800!":t,"bg-purple-100! text-purple-800!":i,"bg-orange-100! text-orange-800!":e,"bg-cyan-100! text-cyan-800!":r,"bg-red-100! text-red-800!":m}),lt=(t,i,e,r)=>({"bg-green-100! text-green-800!":t,"bg-orange-100! text-orange-800!":i,"bg-cyan-100! text-cyan-800!":e,"bg-red-100! text-red-800!":r}),H=t=>["./",t],mt=t=>["./",t,"edit"],st=(t,i)=>i.id||i._id,ct=(t,i)=>i._id||i.id;function dt(t,i){if(t&1&&(o(0,"mat-option",28),a(1),y(2,"titlecase"),n()),t&2){let e=i.$implicit;c("value",e),l(),C(k(2,2,e))}}function pt(t,i){if(t&1&&(o(0,"mat-option",28),a(1),y(2,"titlecase"),n()),t&2){let e=i.$implicit;c("value",e),l(),C(k(2,2,e))}}function ut(t,i){if(t&1&&(o(0,"mat-option",28),a(1),n()),t&2){let e=i.$implicit;c("value",e.id||e._id),l(),C(e.name)}}function _t(t,i){if(t&1&&(o(0,"mat-option",28),a(1),n()),t&2){let e=i.$implicit;c("value",e),l(),_("Floor ",e)}}function xt(t,i){if(t&1){let e=R();o(0,"div",35)(1,"div",38)(2,"span",39),a(3),n(),o(4,"div",40)(5,"button",41),d("click",function(){g(e);let m=s();return f(m.bulkUpdateStatus("available"))}),o(6,"mat-icon"),a(7,"check_circle"),n(),a(8," Mark Available "),n(),o(9,"button",41),d("click",function(){g(e);let m=s();return f(m.bulkUpdateStatus("maintenance"))}),o(10,"mat-icon"),a(11,"build"),n(),a(12," Mark Maintenance "),n(),o(13,"button",41),d("click",function(){g(e);let m=s();return f(m.bulkUpdateStatus("cleaning"))}),o(14,"mat-icon"),a(15,"cleaning_services"),n(),a(16," Mark Cleaning "),n(),o(17,"button",6),d("click",function(){g(e);let m=s();return f(m.clearSelection())}),o(18,"mat-icon"),a(19,"clear"),n(),a(20," Clear Selection "),n()()()()}if(t&2){let e=s();l(3),_("",e.selectedRooms().length," room(s) selected")}}function gt(t,i){t&1&&(o(0,"div",36),w(1,"mat-spinner",42),n())}function ft(t,i){if(t&1){let e=R();o(0,"th",59)(1,"mat-checkbox",60),d("change",function(){g(e);let m=s(2);return f(m.selectedRooms().length===m.rooms().length?m.clearSelection():m.selectAllRooms())}),n()()}if(t&2){let e=s(2);l(),c("checked",e.selectedRooms().length===e.rooms().length&&e.rooms().length>0)("indeterminate",e.selectedRooms().length>0&&e.selectedRooms().length<e.rooms().length)}}function Ct(t,i){if(t&1){let e=R();o(0,"td",61)(1,"mat-checkbox",62),d("change",function(){let m=g(e).$implicit,x=s(2);return f(x.toggleRoomSelection(m))}),n()()}if(t&2){let e=i.$implicit,r=s(2);l(),c("checked",r.isRoomSelected(e))}}function ht(t,i){t&1&&(o(0,"th",59),a(1,"Room"),n())}function St(t,i){if(t&1&&(a(0),o(1,"span",68),a(2),n()),t&2){let e=s().$implicit;_(" ",e.name," "),l(2),_("(",e.roomNumber,")")}}function vt(t,i){if(t&1&&a(0),t&2){let e=s().$implicit;_(" ",e.roomNumber," ")}}function bt(t,i){if(t&1&&(o(0,"div",67),a(1),n()),t&2){let e=s().$implicit;l(),_("Floor ",e.floor)}}function Rt(t,i){if(t&1&&(o(0,"td",61)(1,"div",63)(2,"div",64)(3,"mat-icon",65),a(4,"hotel"),n()(),o(5,"div")(6,"div",66),p(7,St,3,2)(8,vt,1,1),n(),p(9,bt,2,1,"div",67),n()()()),t&2){let e=i.$implicit;l(7),u(e.name?7:8),l(2),u(e.floor!==void 0&&e.floor!==null?9:-1)}}function yt(t,i){t&1&&(o(0,"th",59),a(1,"Type & Capacity"),n())}function Et(t,i){if(t&1&&a(0),t&2){let e=s().$implicit;D(" ",e.capacity.adults,"A/",e.capacity.children,"C ")}}function Tt(t,i){if(t&1&&a(0),t&2){let e=s().$implicit;D(" ",e.roomType.capacity.adults,"A/",e.roomType.capacity.children,"C ")}}function kt(t,i){if(t&1&&(o(0,"td",61)(1,"div",69),a(2),n(),o(3,"div",67),p(4,Et,1,2)(5,Tt,1,2),n()()),t&2){let e=i.$implicit,r=s(2);l(2),C(r.getRoomTypeName(e)),l(2),u(e.capacity?4:e.roomType&&typeof e.roomType=="object"?5:-1)}}function Mt(t,i){t&1&&(o(0,"th",59),a(1,"Floor"),n())}function Lt(t,i){if(t&1&&a(0),t&2){let e=s().$implicit;_(" Floor ",e.floor," ")}}function wt(t,i){t&1&&a(0," - ")}function Ft(t,i){if(t&1&&(o(0,"td",61),p(1,Lt,1,1)(2,wt,1,0),n()),t&2){let e=i.$implicit;l(),u(e.floor!==void 0&&e.floor!==null?1:2)}}function It(t,i){t&1&&(o(0,"th",59),a(1,"Price"),n())}function Vt(t,i){if(t&1&&(a(0),y(1,"currency")),t&2){let e=s().$implicit,r=s(2);_(" ",$(1,1,e.priceOverride,r.storeCurrency(),"symbol","1.2-2")," ")}}function Dt(t,i){if(t&1&&(a(0),y(1,"currency")),t&2){let e=s().$implicit,r=s(2);_(" ",$(1,1,e.roomType.basePrice,r.storeCurrency(),"symbol","1.2-2")," ")}}function Nt(t,i){t&1&&a(0," - ")}function Ot(t,i){if(t&1&&(o(0,"td",61),p(1,Vt,2,6)(2,Dt,2,6)(3,Nt,1,0),n()),t&2){let e=i.$implicit;l(),u(e.priceOverride!==void 0&&e.priceOverride!==null?1:e.roomType!=null&&e.roomType.basePrice?2:3)}}function Pt(t,i){t&1&&(o(0,"th",59),a(1,"Status"),n())}function $t(t,i){if(t&1&&(o(0,"td",61)(1,"mat-chip",70),a(2),y(3,"titlecase"),n()()),t&2){let e=i.$implicit;l(),c("ngClass",P(4,rt,e.status==="available",e.status==="occupied",e.status==="maintenance",e.status==="cleaning",e.status==="out_of_order")),l(),_(" ",k(3,2,e.status)," ")}}function Bt(t,i){t&1&&(o(0,"th",59),a(1,"Housekeeping"),n())}function Ht(t,i){if(t&1&&(o(0,"td",61)(1,"mat-chip",70),a(2),y(3,"titlecase"),n()()),t&2){let e=i.$implicit;l(),c("ngClass",O(4,lt,e.housekeepingStatus==="clean",e.housekeepingStatus==="dirty",e.housekeepingStatus==="inspected",e.housekeepingStatus==="out_of_order")),l(),_(" ",k(3,2,e.housekeepingStatus)," ")}}function At(t,i){t&1&&(o(0,"th",59),a(1,"Features"),n())}function zt(t,i){if(t&1&&(o(0,"mat-chip",72),a(1),n()),t&2){let e=i.$implicit;l(),C(e)}}function jt(t,i){if(t&1&&(o(0,"mat-chip",72),a(1),n()),t&2){let e=s().$implicit,r=s(2);l(),_("+",r.getFeaturesList(e).length-3)}}function Ut(t,i){if(t&1&&(o(0,"td",61)(1,"div",71),E(2,zt,2,1,"mat-chip",72,L),p(4,jt,2,1,"mat-chip",72),n()()),t&2){let e=i.$implicit,r=s(2);l(2),T(r.getFeaturesList(e).slice(0,3)),l(2),u(r.getFeaturesList(e).length>3?4:-1)}}function Gt(t,i){t&1&&(o(0,"th",59),a(1,"Actions"),n())}function Qt(t,i){if(t&1){let e=R();o(0,"td",61)(1,"button",73),d("click",function(m){return g(e),f(m.stopPropagation())}),o(2,"mat-icon"),a(3,"more_vert"),n()(),o(4,"mat-menu",null,0)(6,"button",74)(7,"mat-icon"),a(8,"visibility"),n(),o(9,"span"),a(10,"View Details"),n()(),o(11,"button",74)(12,"mat-icon"),a(13,"edit"),n(),o(14,"span"),a(15,"Edit Room"),n()(),w(16,"mat-divider"),o(17,"button",75),d("click",function(){let m=g(e).$implicit,x=s(2);return f(x.updateRoomStatus(m,"available"))}),o(18,"mat-icon"),a(19,"check_circle"),n(),o(20,"span"),a(21,"Mark Available"),n()(),o(22,"button",75),d("click",function(){let m=g(e).$implicit,x=s(2);return f(x.updateRoomStatus(m,"maintenance"))}),o(23,"mat-icon"),a(24,"build"),n(),o(25,"span"),a(26,"Mark Maintenance"),n()(),o(27,"button",75),d("click",function(){let m=g(e).$implicit,x=s(2);return f(x.updateHousekeepingStatus(m,"clean"))}),o(28,"mat-icon"),a(29,"cleaning_services"),n(),o(30,"span"),a(31,"Mark Clean"),n()(),o(32,"button",75),d("click",function(){let m=g(e).$implicit,x=s(2);return f(x.updateHousekeepingStatus(m,"dirty"))}),o(33,"mat-icon"),a(34,"warning"),n(),o(35,"span"),a(36,"Mark Dirty"),n()()()()}if(t&2){let e=i.$implicit,r=U(5);l(),c("matMenuTriggerFor",r),l(5),c("routerLink",F(3,H,e._id||e.id)),l(5),c("routerLink",F(5,mt,e._id||e.id))}}function Kt(t,i){t&1&&w(0,"tr",76)}function Wt(t,i){if(t&1&&w(0,"tr",77),t&2){let e=i.$implicit;c("routerLink",F(1,H,e._id||e.id))}}function qt(t,i){t&1&&(o(0,"div",57)(1,"div",78)(2,"mat-icon",79),a(3,"hotel"),n()(),o(4,"h3",80),a(5,"No rooms found"),n(),o(6,"p",81),a(7,"Try adjusting your filters or create a new room."),n(),o(8,"button",7)(9,"mat-icon"),a(10,"add"),n(),a(11," Add Room "),n()())}function Xt(t,i){if(t&1){let e=R();o(0,"mat-paginator",82),d("page",function(m){g(e);let x=s(2);return f(x.onPageChange(m))}),n()}if(t&2){let e=s(2);c("length",e.roomsTotal())("pageSize",e.pageSize())("pageIndex",e.pageIndex())("pageSizeOptions",e.pageSizeOptions)}}function Jt(t,i){if(t&1&&(o(0,"table",43),v(1,44),S(2,ft,2,2,"th",45)(3,Ct,2,1,"td",46),b(),v(4,47),S(5,ht,2,0,"th",45)(6,Rt,10,2,"td",46),b(),v(7,48),S(8,yt,2,0,"th",45)(9,kt,6,2,"td",46),b(),v(10,49),S(11,Mt,2,0,"th",45)(12,Ft,3,1,"td",46),b(),v(13,50),S(14,It,2,0,"th",45)(15,Ot,4,1,"td",46),b(),v(16,51),S(17,Pt,2,0,"th",45)(18,$t,4,10,"td",46),b(),v(19,52),S(20,Bt,2,0,"th",45)(21,Ht,4,9,"td",46),b(),v(22,53),S(23,At,2,0,"th",45)(24,Ut,5,1,"td",46),b(),v(25,54),S(26,Gt,2,0,"th",45)(27,Qt,37,7,"td",46),b(),S(28,Kt,1,0,"tr",55)(29,Wt,1,3,"tr",56),n(),p(30,qt,12,0,"div",57),p(31,Xt,1,4,"mat-paginator",58)),t&2){let e=s();c("dataSource",e.rooms()),l(28),c("matHeaderRowDef",e.displayedColumns),l(),c("matRowDefColumns",e.displayedColumns),l(),u(e.rooms().length===0?30:-1),l(),u(e.rooms().length>0?31:-1)}}function Yt(t,i){if(t&1&&(a(0),o(1,"span",99),a(2),n()),t&2){let e=s().$implicit;_(" ",e.name," "),l(2),_("(",e.roomNumber,")")}}function Zt(t,i){if(t&1&&a(0),t&2){let e=s().$implicit;_(" Room ",e.roomNumber," ")}}function ei(t,i){if(t&1&&(o(0,"div",92)(1,"mat-icon",100),a(2,"layers"),n(),o(3,"span"),a(4),n()()),t&2){let e=s().$implicit;l(4),_("Floor ",e.floor)}}function ti(t,i){if(t&1&&(o(0,"div",92)(1,"mat-icon",100),a(2,"people"),n(),o(3,"span"),a(4),n()()),t&2){let e=s().$implicit;l(4),D("",e.capacity.adults,"A/",e.capacity.children,"C")}}function ii(t,i){if(t&1&&(o(0,"mat-chip",72),a(1),n()),t&2){let e=i.$implicit;l(),C(e)}}function ni(t,i){if(t&1&&(o(0,"mat-chip",72),a(1),n()),t&2){let e=s(2).$implicit,r=s(2);l(),_("+",r.getFeaturesList(e).length-4)}}function oi(t,i){if(t&1&&(o(0,"div",95)(1,"div",101),a(2,"Features:"),n(),o(3,"div",71),E(4,ii,2,1,"mat-chip",72,L),p(6,ni,2,1,"mat-chip",72),n()()),t&2){let e=s().$implicit,r=s(2);l(4),T(r.getFeaturesList(e).slice(0,4)),l(2),u(r.getFeaturesList(e).length>4?6:-1)}}function ai(t,i){if(t&1){let e=R();o(0,"mat-card",86)(1,"mat-card-content",11)(2,"div",87)(3,"div",88)(4,"mat-checkbox",62),d("change",function(){let m=g(e).$implicit,x=s(2);return f(x.toggleRoomSelection(m))}),n(),o(5,"div",63)(6,"div",64)(7,"mat-icon",65),a(8,"hotel"),n()(),o(9,"div")(10,"h3",89),p(11,Yt,3,2)(12,Zt,1,1),n(),o(13,"p",12),a(14),n()()()()(),o(15,"div",90)(16,"div",91),p(17,ei,5,1,"div",92),p(18,ti,5,2,"div",92),n(),o(19,"div",93)(20,"span",94),a(21,"Status"),n(),o(22,"mat-chip",70),a(23),y(24,"titlecase"),n()(),o(25,"div",93)(26,"span",94),a(27,"Housekeeping"),n(),o(28,"mat-chip",70),a(29),y(30,"titlecase"),n()(),p(31,oi,7,1,"div",95),n(),o(32,"div",96)(33,"button",97)(34,"mat-icon"),a(35,"visibility"),n(),a(36," View "),n(),o(37,"button",98)(38,"mat-icon"),a(39,"edit"),n(),a(40," Edit "),n()()()()}if(t&2){let e=i.$implicit,r=s(2);G("ring-2",r.isRoomSelected(e))("ring-blue-500",r.isRoomSelected(e)),l(4),c("checked",r.isRoomSelected(e)),l(7),u(e.name?11:12),l(3),C(r.getRoomTypeName(e)),l(3),u(e.floor!==void 0&&e.floor!==null?17:-1),l(),u(e.capacity?18:-1),l(4),c("ngClass",P(20,rt,e.status==="available",e.status==="occupied",e.status==="maintenance",e.status==="cleaning",e.status==="out_of_order")),l(),_(" ",k(24,16,e.status)," "),l(5),c("ngClass",O(26,lt,e.housekeepingStatus==="clean",e.housekeepingStatus==="dirty",e.housekeepingStatus==="inspected",e.housekeepingStatus==="out_of_order")),l(),_(" ",k(30,18,e.housekeepingStatus)," "),l(2),u(r.getFeaturesList(e).length>0?31:-1),l(2),c("routerLink",F(31,H,e._id||e.id)),l(4),c("routerLink",F(33,mt,e._id||e.id))}}function ri(t,i){t&1&&(o(0,"div",85)(1,"div",78)(2,"mat-icon",79),a(3,"hotel"),n()(),o(4,"h3",80),a(5,"No rooms found"),n(),o(6,"p",81),a(7,"Try adjusting your filters or create a new room."),n(),o(8,"button",7)(9,"mat-icon"),a(10,"add"),n(),a(11," Add Room "),n()())}function li(t,i){if(t&1){let e=R();o(0,"mat-paginator",82),d("page",function(m){g(e);let x=s(2);return f(x.onPageChange(m))}),n()}if(t&2){let e=s(2);c("length",e.roomsTotal())("pageSize",e.pageSize())("pageIndex",e.pageIndex())("pageSizeOptions",e.pageSizeOptions)}}function mi(t,i){if(t&1&&(o(0,"div",83),E(1,ai,41,35,"mat-card",84,ct),p(3,ri,12,0,"div",85),n(),p(4,li,1,4,"mat-paginator",58)),t&2){let e=s();l(),T(e.rooms()),l(2),u(e.rooms().length===0?3:-1),l(),u(e.rooms().length>0?4:-1)}}function si(t,i){if(t&1){let e=R();o(0,"div",37)(1,"div",102)(2,"mat-icon",103),a(3,"error"),n(),o(4,"div")(5,"h3",104),a(6,"Error loading rooms"),n(),o(7,"p",105),a(8),n(),o(9,"div",106)(10,"button",107),d("click",function(){g(e);let m=s();return f(m.roomsResource.reload())}),o(11,"mat-icon",108),a(12,"refresh"),n(),a(13," Retry "),n()()()()()}if(t&2){let e=s();l(8),C(e.roomsResource.error())}}var at=class t{roomsService=V(it);storeStore=V(ie);fb=V(Ce);searchFilter=h("");statusFilter=h([]);housekeepingStatusFilter=h([]);roomTypeFilter=h([]);floorFilter=h([]);pageIndex=h(0);pageSize=h(10);totalRooms=h(0);selectedRooms=h([]);viewMode=h("table");filterForm;displayedColumns=["select","roomNumber","roomType","floor","priceOverride","status","housekeepingStatus","features","actions"];statusOptions=["available","occupied","maintenance","cleaning","out_of_order"];housekeepingOptions=["clean","dirty","inspected","out_of_order"];filterParams=M(()=>{let i=this.storeStore.selectedStore(),e={};return this.searchFilter()&&this.searchFilter().trim()&&(e.search=this.searchFilter().trim()),this.statusFilter().length>0&&(e.status=this.statusFilter()),this.housekeepingStatusFilter().length>0&&(e.housekeepingStatus=this.housekeepingStatusFilter()),this.roomTypeFilter().length>0&&(e.roomType=this.roomTypeFilter()),this.floorFilter().length>0&&(e.floor=this.floorFilter()),e.page=this.pageIndex()+1,e.limit=this.pageSize(),{storeId:i?._id,filters:e}});roomsResource=B({params:()=>this.filterParams(),stream:({params:i})=>i.storeId?this.roomsService.getRoomsPaginated(i.storeId,i.filters):N({rooms:[],total:0,page:1,limit:10,totalPages:0})});rooms=M(()=>this.roomsResource.value()?.rooms||[]);roomsTotal=M(()=>this.roomsResource.value()?.total||0);roomTypesResource=B({params:()=>({storeId:this.storeStore.selectedStore()?._id}),stream:({params:i})=>i.storeId?this.roomsService.getRoomTypes(i.storeId):N([])});roomTypes=M(()=>this.roomTypesResource.value()||[]);storeCurrency=M(()=>this.storeStore.selectedStore()?.currency||this.storeStore.selectedStore()?.currencyCode||"USD");roomStats=M(()=>{let i=this.rooms()||[];return{total:this.roomsTotal(),available:i.filter(e=>e.status==="available").length,occupied:i.filter(e=>e.status==="occupied").length,maintenance:i.filter(e=>e.status==="maintenance").length,cleaning:i.filter(e=>e.status==="cleaning").length,outOfOrder:i.filter(e=>e.status==="out_of_order").length}});pageSizeOptions=[5,10,25,50,100];constructor(){this.filterForm=this.fb.group({search:[""],status:[[]],housekeepingStatus:[[]],roomType:[[]],floor:[[]]}),this.filterForm.valueChanges.pipe(A(300),z()).subscribe(i=>{this.pageIndex.set(0),this.searchFilter.set(i.search||""),this.statusFilter.set(i.status||[]),this.housekeepingStatusFilter.set(i.housekeepingStatus||[]),this.roomTypeFilter.set(i.roomType||[]),this.floorFilter.set(i.floor||[])})}onPageChange(i){this.pageIndex.set(i.pageIndex),this.pageSize.set(i.pageSize)}clearFilters(){this.filterForm.reset({search:"",status:[],housekeepingStatus:[],roomType:[],floor:[]}),this.pageIndex.set(0)}applyQuickFilter(i){this.filterForm.patchValue(i)}toggleRoomSelection(i){let e=this.selectedRooms(),r=e.findIndex(m=>(m._id||m.id)===(i._id||i.id));r>-1?e.splice(r,1):e.push(i),this.selectedRooms.set([...e])}isRoomSelected(i){return this.selectedRooms().some(e=>(e._id||e.id)===(i._id||i.id))}selectAllRooms(){this.selectedRooms.set([...this.rooms()])}clearSelection(){this.selectedRooms.set([])}updateRoomStatus(i,e){return I(this,null,function*(){try{let r=i._id||i.id;yield this.roomsService.updateRoomStatus(r,e).toPromise(),this.roomsResource.reload()}catch(r){console.error("Error updating room status:",r)}})}updateHousekeepingStatus(i,e){return I(this,null,function*(){try{let r=i._id||i.id;yield this.roomsService.updateHousekeepingStatus(r,e).toPromise(),this.roomsResource.reload()}catch(r){console.error("Error updating housekeeping status:",r)}})}bulkUpdateStatus(i){return I(this,null,function*(){try{let e=this.selectedRooms().map(r=>r._id||r.id);yield this.roomsService.bulkUpdateRoomStatus(e,i).toPromise(),this.clearSelection(),this.roomsResource.reload()}catch(e){console.error("Error bulk updating status:",e)}})}getRoomTypeName(i){return typeof i.roomType=="object"?i.roomType.name:"Unknown"}getStatusColor(i){return nt[i]||"default"}getHousekeepingColor(i){return ot[i]||"default"}getFeaturesList(i){let e=[];return i.features.hasBalcony&&e.push("Balcony"),i.features.hasKitchen&&e.push("Kitchen"),i.features.hasBathtub&&e.push("Bathtub"),i.features.hasAirConditioning&&e.push("AC"),i.features.hasWifi&&e.push("WiFi"),i.features.hasTV&&e.push("TV"),i.features.oceanView&&e.push("Ocean View"),i.features.cityView&&e.push("City View"),i.amenities&&i.amenities.length>0&&e.push(...i.amenities.slice(0,2)),e}getSizeDisplay(i){return i?typeof i=="string"?{small:"Small",medium:"Medium",large:"Large","extra-large":"X-Large"}[i]||i:`${i} sq ft`:""}getViewIcon(i){return i&&{ocean:"waves",city:"location_city",mountain:"terrain",garden:"local_florist",pool:"pool",courtyard:"account_balance",street:"traffic",interior:"home"}[i]||"home"}getFloorOptions(){let i=new Set;return this.rooms().forEach(r=>{r.floor!==void 0&&i.add(r.floor)}),Array.from(i).sort((r,m)=>r-m)}toggleViewMode(){this.viewMode.set(this.viewMode()==="table"?"grid":"table")}navigateToRoom(i){}editRoom(i){}deleteRoom(i){}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=j({type:t,selectors:[["app-rooms-list"]],decls:114,vars:13,consts:[["actionMenu","matMenu"],["title","Rooms Management","subtitle","Manage hotel rooms, room types, and availability"],["actions",""],[3,"change","value"],["value","table","matTooltip","Table View"],["value","grid","matTooltip","Grid View"],["matButton","outlined",3,"click"],["matButton","filled","routerLink","./create"],[1,"max-w-12xl","py-6"],[1,"grid","grid-cols-2","md:grid-cols-3","lg:grid-cols-6","gap-4"],["appearance","outlined"],[1,"p-4!"],[1,"text-sm","text-gray-600"],[1,"text-2xl","font-bold"],[1,"text-2xl","font-bold","text-green-600"],[1,"text-2xl","font-bold","text-purple-600"],[1,"text-2xl","font-bold","text-orange-600"],[1,"text-2xl","font-bold","text-cyan-600"],[1,"text-2xl","font-bold","text-red-600"],["appearance","outlined",1,"py-2"],[1,"p-3"],[3,"formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","xl:grid-cols-6","gap-4","mb-4"],[1,"lg:col-span-2"],["appearance","outline",1,"w-full"],["matPrefix","",1,"text-gray-400"],["matInput","","formControlName","search","placeholder","Room number, type..."],["formControlName","status","multiple",""],[3,"value"],["formControlName","housekeepingStatus","multiple",""],["formControlName","roomType","multiple",""],["formControlName","floor","multiple",""],[1,"flex","items-center","gap-2","flex-wrap"],[1,"text-sm","font-medium","text-gray-600","mr-2"],[3,"click"],[1,"bg-blue-50","border-t","border-b","border-blue-200","p-4"],[1,"flex","items-center","justify-center","py-20"],[1,"bg-red-50","border","border-red-200","rounded-lg","p-4","m-4"],[1,"flex","justify-between","items-center","flex-wrap","gap-4"],[1,"text-blue-800","font-semibold"],[1,"flex","gap-2","flex-wrap"],["matButton","tonal",3,"click"],["diameter","48"],["mat-table","",1,"w-full",3,"dataSource"],["matColumnDef","select"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","roomNumber"],["matColumnDef","roomType"],["matColumnDef","floor"],["matColumnDef","priceOverride"],["matColumnDef","status"],["matColumnDef","housekeepingStatus"],["matColumnDef","features"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","cursor-pointer hover:bg-gray-50",3,"routerLink",4,"matRowDef","matRowDefColumns"],[1,"py-20","text-center"],["showFirstLastButtons","",3,"length","pageSize","pageIndex","pageSizeOptions"],["mat-header-cell",""],[3,"change","checked","indeterminate"],["mat-cell",""],[3,"change","checked"],[1,"flex","items-center","gap-3"],[1,"w-10","h-10","bg-blue-600","rounded-lg","flex","items-center","justify-center"],[1,"text-white"],[1,"font-semibold"],[1,"text-sm","text-gray-500"],[1,"text-xs","text-gray-500","ml-1"],[1,"font-medium"],[3,"ngClass"],[1,"flex","flex-wrap","gap-1"],[1,"text-xs!"],["mat-icon-button","",3,"click","matMenuTriggerFor"],["mat-menu-item","",3,"routerLink"],["mat-menu-item","",3,"click"],["mat-header-row",""],["mat-row","",1,"cursor-pointer","hover:bg-gray-50",3,"routerLink"],[1,"w-16","h-16","bg-gray-200","rounded-full","flex","items-center","justify-center","mx-auto","mb-4"],[1,"text-4xl","text-gray-400"],[1,"text-lg","font-semibold","text-gray-900","mb-2"],[1,"text-gray-500","mb-6"],["showFirstLastButtons","",3,"page","length","pageSize","pageIndex","pageSizeOptions"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-6","p-4"],["appearance","outlined",1,"hover:shadow-lg","transition-all","duration-300",3,"ring-2","ring-blue-500"],[1,"col-span-full","py-20","text-center"],["appearance","outlined",1,"hover:shadow-lg","transition-all","duration-300"],[1,"flex","items-start","justify-between","mb-4"],[1,"flex","items-start","gap-3"],[1,"font-bold","text-gray-900"],[1,"space-y-3","mb-4"],[1,"grid","grid-cols-2","gap-2","text-sm","text-gray-600"],[1,"flex","items-center","gap-2"],[1,"flex","items-center","justify-between","text-sm"],[1,"text-gray-600"],[1,"pt-3","border-t","border-gray-100"],[1,"flex","gap-2","pt-4","border-t","border-gray-100"],["matButton","filled",1,"flex-1!",3,"routerLink"],["matButton","outlined",1,"flex-1!",3,"routerLink"],[1,"text-sm","text-gray-500","font-normal","ml-1"],[1,"text-base","text-gray-400"],[1,"text-sm","font-medium","text-gray-600","mb-2"],[1,"flex"],[1,"text-red-500","mr-2"],[1,"text-red-800","font-medium"],[1,"text-red-700","text-sm","mt-1"],[1,"mt-3","flex","space-x-3"],["mat-button","","color","warn",1,"!text-red-600",3,"click"],[1,"mr-1"]],template:function(e,r){e&1&&(o(0,"app-page-header",1),v(1,2),o(2,"mat-button-toggle-group",3),d("change",function(x){return r.viewMode.set(x.value)}),o(3,"mat-button-toggle",4)(4,"mat-icon"),a(5,"table_view"),n()(),o(6,"mat-button-toggle",5)(7,"mat-icon"),a(8,"grid_view"),n()()(),o(9,"button",6),d("click",function(){return r.clearFilters()}),o(10,"mat-icon"),a(11,"clear"),n(),a(12," Clear Filters "),n(),o(13,"button",6),d("click",function(){return r.roomsResource.reload()}),o(14,"mat-icon"),a(15,"refresh"),n(),a(16," Reload "),n(),o(17,"button",7)(18,"mat-icon"),a(19,"add"),n(),a(20," Add Room "),n(),b(),n(),o(21,"div",8)(22,"div",9)(23,"mat-card",10)(24,"mat-card-content",11)(25,"div",12),a(26,"Total Rooms"),n(),o(27,"div",13),a(28),n()()(),o(29,"mat-card",10)(30,"mat-card-content",11)(31,"div",12),a(32,"Available"),n(),o(33,"div",14),a(34),n()()(),o(35,"mat-card",10)(36,"mat-card-content",11)(37,"div",12),a(38,"Occupied"),n(),o(39,"div",15),a(40),n()()(),o(41,"mat-card",10)(42,"mat-card-content",11)(43,"div",12),a(44,"Maintenance"),n(),o(45,"div",16),a(46),n()()(),o(47,"mat-card",10)(48,"mat-card-content",11)(49,"div",12),a(50,"Cleaning"),n(),o(51,"div",17),a(52),n()()(),o(53,"mat-card",10)(54,"mat-card-content",11)(55,"div",12),a(56,"Out of Order"),n(),o(57,"div",18),a(58),n()()()()(),o(59,"mat-card",19)(60,"div",20)(61,"form",21)(62,"div",22)(63,"div",23)(64,"mat-form-field",24)(65,"mat-label"),a(66,"Search rooms..."),n(),o(67,"mat-icon",25),a(68,"search"),n(),w(69,"input",26),n()(),o(70,"div")(71,"mat-form-field",24)(72,"mat-label"),a(73,"Status"),n(),o(74,"mat-select",27),E(75,dt,3,4,"mat-option",28,L),n()()(),o(77,"div")(78,"mat-form-field",24)(79,"mat-label"),a(80,"Housekeeping"),n(),o(81,"mat-select",29),E(82,pt,3,4,"mat-option",28,L),n()()(),o(84,"div")(85,"mat-form-field",24)(86,"mat-label"),a(87,"Room Type"),n(),o(88,"mat-select",30),E(89,ut,2,2,"mat-option",28,st),n()()(),o(91,"div")(92,"mat-form-field",24)(93,"mat-label"),a(94,"Floor"),n(),o(95,"mat-select",31),E(96,_t,2,2,"mat-option",28,L),n()()()(),o(98,"div",32)(99,"span",33),a(100,"Quick filters:"),n(),o(101,"mat-chip",34),d("click",function(){return r.applyQuickFilter({status:["available"]})}),a(102,"Available"),n(),o(103,"mat-chip",34),d("click",function(){return r.applyQuickFilter({status:["occupied"]})}),a(104,"Occupied"),n(),o(105,"mat-chip",34),d("click",function(){return r.applyQuickFilter({status:["maintenance"]})}),a(106,"Maintenance"),n(),o(107,"mat-chip",34),d("click",function(){return r.applyQuickFilter({housekeepingStatus:["dirty"]})}),a(108,"Needs Cleaning"),n()()()(),p(109,xt,21,1,"div",35),p(110,gt,2,0,"div",36),p(111,Jt,32,5),p(112,mi,5,2),p(113,si,14,1,"div",37),n()),e&2&&(l(2),c("value",r.viewMode()),l(26),C(r.roomStats().total),l(6),C(r.roomStats().available),l(6),C(r.roomStats().occupied),l(6),C(r.roomStats().maintenance),l(6),C(r.roomStats().cleaning),l(6),C(r.roomStats().outOfOrder),l(3),c("formGroup",r.filterForm),l(14),T(r.statusOptions),l(7),T(r.housekeepingOptions),l(7),T(r.roomTypes()),l(7),T(r.getFloorOptions()),l(13),u(r.selectedRooms().length>0?109:-1),l(),u(r.roomsResource.isLoading()?110:-1),l(),u(r.viewMode()==="table"&&!r.roomsResource.isLoading()?111:-1),l(),u(r.viewMode()==="grid"&&!r.roomsResource.isLoading()?112:-1),l(),u(r.roomsResource.error()?113:-1))},dependencies:[q,Q,J,X,he,xe,pe,ue,_e,Se,fe,ge,Te,Ee,Re,ve,be,we,Le,Y,te,ee,Z,oe,ne,tt,et,ye,le,ae,re,je,Ve,Ne,Be,Oe,De,He,Pe,$e,Ae,ze,Ke,Qe,de,se,me,ce,Ye,Je,Me,ke,Ge,Ue,Ie,Fe,Xe,We,qe,Ze,K,W],styles:[".mat-mdc-form-field.w-full[_ngcontent-%COMP%]{width:100%}mat-icon[_ngcontent-%COMP%]{vertical-align:middle}.animate-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media print{.no-print[_ngcontent-%COMP%]{display:none!important}}"]})};export{at as RoomsListComponent};
