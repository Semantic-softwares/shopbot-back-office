import{a as ce}from"./chunk-ZG7QOLK4.js";import{c as ue}from"./chunk-UAGP56HF.js";import"./chunk-QXGZPCFY.js";import{a as se,c as le,d as de,e as me}from"./chunk-5XJCC6NP.js";import{B as ne,D as re,b as J,g as Z,h as q,m as K,p as Q,s as X,t as Y,u as ee,v as te}from"./chunk-CXVWFC6J.js";import{a as oe,b as ie}from"./chunk-7C3RSL2D.js";import"./chunk-VIOSJ367.js";import"./chunk-TEL7Y7UN.js";import{p as H,q as A}from"./chunk-FSA22CPB.js";import{b as ae}from"./chunk-TS4O77IX.js";import"./chunk-M2YK6UF7.js";import"./chunk-BVQK7CK4.js";import{a as W}from"./chunk-AGZJ637K.js";import"./chunk-TQDHD3WD.js";import{B as z,i as $,t as U}from"./chunk-DWCYWQVU.js";import{Db as f,E as k,Eb as x,Hb as T,Ib as O,Jb as v,Kb as t,Lb as n,Mb as m,Mc as C,Qb as P,Ub as w,Vb as u,X as E,_a as s,aa as N,dc as L,ea as V,ec as R,fa as M,g as F,ic as o,jc as y,kb as j,kc as c,la as S,ma as _,n as D,na as g,oa as h,va as b,y as B}from"./chunk-5AECHVKR.js";import"./chunk-FK6H3RFT.js";import{a as p}from"./chunk-EQDQRRRY.js";var G=class a{constructor(r){this.http=r}apiUrl=`${W.apiUrl}/guests`;getGuestData(r,e){let i=p(p({storeId:r,startDate:e.startDate,endDate:e.endDate,reportType:e.reportType},e.guestType&&{guestType:e.guestType}),e.roomType&&{roomType:e.roomType});return this.http.get(`${this.apiUrl}/data`,{params:i}).pipe(k(l=>(console.error("Error fetching guest data:",l),D(this.getMockGuestData()))))}getGuestBreakdown(r,e){let i=p(p({storeId:r,startDate:e.startDate,endDate:e.endDate,reportType:e.reportType},e.guestType&&{guestType:e.guestType}),e.roomType&&{roomType:e.roomType});return this.http.get(`${this.apiUrl}/breakdown`,{params:i}).pipe(k(l=>(console.error("Error fetching guest breakdown:",l),D(this.getMockGuestBreakdown()))))}getGuestStats(r,e){let i=p(p({storeId:r,startDate:e.startDate,endDate:e.endDate,reportType:e.reportType},e.guestType&&{guestType:e.guestType}),e.roomType&&{roomType:e.roomType});return this.http.get(`${this.apiUrl}/stats`,{params:i}).pipe(k(l=>(console.error("Error fetching guest stats:",l),D(this.getMockGuestStats()))))}exportToCSV(r,e){let i=p(p({storeId:r,startDate:e.startDate,endDate:e.endDate,reportType:e.reportType},e.guestType&&{guestType:e.guestType}),e.roomType&&{roomType:e.roomType});return this.http.get(`${this.apiUrl}/export/csv`,{params:i,responseType:"blob"})}exportToPDF(r,e){let i=p(p({storeId:r,startDate:e.startDate,endDate:e.endDate,reportType:e.reportType},e.guestType&&{guestType:e.guestType}),e.roomType&&{roomType:e.roomType});return this.http.get(`${this.apiUrl}/export/pdf`,{params:i,responseType:"blob"})}getMockGuestData(){let r=[],e=new Date;for(let i=29;i>=0;i--){let l=new Date(e);l.setDate(l.getDate()-i);let d=Math.floor(Math.random()*100)+50,I=Math.floor(d*.3),ge=d-I;r.push({date:l.toISOString(),totalGuests:d,newGuests:I,returningGuests:ge,checkIns:Math.floor(Math.random()*30)+10,checkOuts:Math.floor(Math.random()*25)+8,averageStayDuration:Math.floor(Math.random()*5)+2,occupancyRate:Math.floor(Math.random()*40)+60,guestGrowth:(Math.random()-.5)*20})}return r}getMockGuestBreakdown(){return[{category:"Business Travelers",value:120,percentage:35,averageStay:2.5},{category:"Leisure Travelers",value:150,percentage:45,averageStay:4.2},{category:"Group Bookings",value:45,percentage:15,averageStay:3.8},{category:"Extended Stay",value:18,percentage:5,averageStay:14.5}]}getMockGuestStats(){return{totalGuests:2156,totalCheckIns:456,totalCheckOuts:442,averageStayDuration:3.8,occupancyRate:78.5,guestGrowth:12.5,newGuestsPercentage:32.4,returningGuestsPercentage:67.6,peakOccupancyDate:new Date().toISOString(),monthlyProjection:6800}}static \u0275fac=function(e){return new(e||a)(V(z))};static \u0275prov=N({token:a,factory:a.\u0275fac,providedIn:"root"})};var xe=(a,r)=>r.category,he=(a,r)=>r.date;function be(a,r){if(a&1){let e=P();t(0,"div",9)(1,"div",38)(2,"div",39),g(),t(3,"svg",40),m(4,"path",41),n()(),h(),t(5,"div",42)(6,"p",43),o(7),n()(),t(8,"div",44)(9,"div",45)(10,"button",46),w("click",function(){S(e);let l=u();return _(l.clearError())}),t(11,"span",47),o(12,"Dismiss"),n(),g(),t(13,"svg",48),m(14,"path",49),n()()()()()()}if(a&2){let e=u();s(7),y(e.error())}}function ye(a,r){a&1&&(g(),t(0,"svg",50),m(1,"circle",51)(2,"path",52),n(),o(3," Loading... "))}function ve(a,r){a&1&&o(0," Update Report ")}function Ce(a,r){if(a&1&&(t(0,"span"),o(1),n()),a&2){let e=u(3);s(),c("\u2197 +",e.formatPercent(e.guestStats().guestGrowth))}}function Se(a,r){if(a&1&&(t(0,"span"),o(1),n()),a&2){let e=u(3);s(),c("\u2198 ",e.formatPercent(e.guestStats().guestGrowth))}}function _e(a,r){if(a&1&&(t(0,"p",59),f(1,Ce,2,1,"span")(2,Se,2,1,"span"),n()),a&2){let e=u(2);v("ngClass",e.getGrowthClass(e.guestStats().guestGrowth)),s(),x(e.guestStats().guestGrowth>0?1:2)}}function we(a,r){if(a&1&&(t(0,"div",74),m(1,"canvas",76),n()),a&2){let e=u(2);s(),v("data",e.guestTrendChartData())("options",e.chartOptions())}}function Me(a,r){a&1&&(t(0,"div",75)(1,"div",77),g(),t(2,"svg",78),m(3,"path",79),n(),h(),t(4,"p",80),o(5,"No guest data available"),n()()())}function De(a,r){if(a&1&&(t(0,"div",74),m(1,"canvas",81),n()),a&2){let e=u(2);s(),v("data",e.guestBreakdownChartData())("options",e.doughnutChartOptions())}}function ke(a,r){a&1&&(t(0,"div",75)(1,"div",77),g(),t(2,"svg",78),m(3,"path",82)(4,"path",83),n(),h(),t(5,"p",80),o(6,"No breakdown data available"),n()()())}function Ge(a,r){if(a&1&&(t(0,"tr",89)(1,"td",90),o(2),n(),t(3,"td",91),o(4),n(),t(5,"td",91)(6,"div",55)(7,"div",92),m(8,"div",93),n(),t(9,"span"),o(10),n()()(),t(11,"td",91),o(12),n()()),a&2){let e=r.$implicit,i=u(3);s(2),c(" ",e.category," "),s(2),c(" ",i.formatNumber(e.value)," "),s(4),R("width",e.percentage,"%"),s(2),y(i.formatPercent(e.percentage)),s(2),c(" ",i.formatDuration(e.averageStay)," ")}}function Ee(a,r){if(a&1&&(t(0,"div",10)(1,"h3",11),o(2,"Guest Type Details"),n(),t(3,"div",84)(4,"table",85)(5,"thead",86)(6,"tr")(7,"th",87),o(8,"Guest Type"),n(),t(9,"th",87),o(10,"Count"),n(),t(11,"th",87),o(12,"Percentage"),n(),t(13,"th",87),o(14,"Avg Stay Duration"),n()()(),t(15,"tbody",88),T(16,Ge,13,6,"tr",89,xe),n()()()()),a&2){let e=u(2);s(16),O(e.guestBreakdown())}}function Te(a,r){if(a&1&&(t(0,"tr",89)(1,"td",91),o(2),n(),t(3,"td",90),o(4),n(),t(5,"td",91),o(6),n(),t(7,"td",91),o(8),n(),t(9,"td",91),o(10),n(),t(11,"td",91),o(12),n(),t(13,"td",91),o(14),n(),t(15,"td",91)(16,"div",55)(17,"div",92),m(18,"div",97),n(),t(19,"span"),o(20),n()()()()),a&2){let e=r.$implicit,i=u(3);s(2),c(" ",i.formatDate(e.date)," "),s(2),c(" ",i.formatNumber(e.totalGuests)," "),s(2),c(" ",i.formatNumber(e.newGuests)," "),s(2),c(" ",i.formatNumber(e.returningGuests)," "),s(2),c(" ",i.formatNumber(e.checkIns)," "),s(2),c(" ",i.formatNumber(e.checkOuts)," "),s(2),c(" ",i.formatDuration(e.averageStayDuration)," "),s(4),R("width",e.occupancyRate,"%"),s(2),y(i.formatPercent(e.occupancyRate))}}function Oe(a,r){if(a&1&&(t(0,"div",54)(1,"div",94)(2,"h3",95),o(3,"Daily Guest Data"),n(),t(4,"p",96),o(5),n()(),t(6,"div",84)(7,"table",85)(8,"thead",86)(9,"tr")(10,"th",87),o(11,"Date"),n(),t(12,"th",87),o(13,"Total Guests"),n(),t(14,"th",87),o(15,"New Guests"),n(),t(16,"th",87),o(17,"Returning Guests"),n(),t(18,"th",87),o(19,"Check-ins"),n(),t(20,"th",87),o(21,"Check-outs"),n(),t(22,"th",87),o(23,"Avg Stay"),n(),t(24,"th",87),o(25,"Occupancy"),n()()(),t(26,"tbody",88),T(27,Te,21,10,"tr",89,he),n()()()()),a&2){let e=u(2);s(5),c("",e.guestData().length," records found"),s(22),O(e.guestData())}}function Pe(a,r){if(a&1&&(t(0,"div",53)(1,"div",54)(2,"div",55)(3,"div",56)(4,"p",57),o(5,"Total Guests"),n(),t(6,"p",58),o(7),n(),f(8,_e,3,2,"p",59),n(),t(9,"div",39)(10,"div",60),g(),t(11,"svg",61),m(12,"path",62),n()()()()(),h(),t(13,"div",54)(14,"div",55)(15,"div",56)(16,"p",57),o(17,"Total Check-ins"),n(),t(18,"p",58),o(19),n(),t(20,"p",63),o(21),n()(),t(22,"div",39)(23,"div",64),g(),t(24,"svg",65),m(25,"path",66),n()()()()(),h(),t(26,"div",54)(27,"div",55)(28,"div",56)(29,"p",57),o(30,"Avg Stay Duration"),n(),t(31,"p",58),o(32),n(),t(33,"p",63),o(34),n()(),t(35,"div",39)(36,"div",67),g(),t(37,"svg",68),m(38,"path",69),n()()()()(),h(),t(39,"div",54)(40,"div",55)(41,"div",56)(42,"p",57),o(43,"Monthly Projection"),n(),t(44,"p",58),o(45),n(),t(46,"p",63),o(47,"Based on current trends"),n()(),t(48,"div",39)(49,"div",70),g(),t(50,"svg",71),m(51,"path",72),n()()()()()(),h(),t(52,"div",73)(53,"div",54)(54,"h3",11),o(55,"Guest Trends"),n(),f(56,we,2,2,"div",74)(57,Me,6,0,"div",75),n(),t(58,"div",54)(59,"h3",11),o(60,"Guest Type Breakdown"),n(),f(61,De,2,2,"div",74)(62,ke,7,0,"div",75),n()(),f(63,Ee,18,0,"div",10),f(64,Oe,29,1,"div",54)),a&2){let e=u();s(7),y(e.formatNumber(e.guestStats().totalGuests)),s(),x(e.guestStats().guestGrowth!==0?8:-1),s(11),y(e.formatNumber(e.guestStats().totalCheckIns)),s(2),c(" Check-outs: ",e.formatNumber(e.guestStats().totalCheckOuts)," "),s(11),y(e.formatDuration(e.guestStats().averageStayDuration)),s(2),c(" Occupancy: ",e.formatPercent(e.guestStats().occupancyRate)," "),s(11),y(e.formatNumber(e.guestStats().monthlyProjection)),s(11),x(e.guestData().length>0?56:57),s(5),x(e.guestBreakdown().length>0?61:62),s(2),x(e.guestBreakdown().length>0?63:-1),s(),x(e.guestData().length>0?64:-1)}}function Re(a,r){a&1&&(t(0,"div",37)(1,"div",98),g(),t(2,"svg",99),m(3,"circle",51)(4,"path",52),n(),h(),t(5,"p",100),o(6,"Loading guest data..."),n(),t(7,"p",101),o(8,"This may take a few moments"),n()()())}var pe=class a{fb=M(ne);guestService=M(G);storeStore=M(ae);exportService=M(ce);destroy$=new F;isExporting=b(!1);selectedStore=C(()=>this.storeStore.selectedStore());currency=C(()=>this.selectedStore()?.currencyCode||this.selectedStore()?.currency||"USD");filterForm;loading=b(!1);guestData=b([]);guestBreakdown=b([]);guestStats=b(null);error=b(null);lastUpdated=b(new Date);guestTrendChartData=C(()=>{let r=this.guestData();return{labels:r.map(e=>this.formatDateShort(new Date(e.date))),datasets:[{data:r.map(e=>e.totalGuests),label:"Total Guests",backgroundColor:"rgba(59, 130, 246, 0.1)",borderColor:"rgba(59, 130, 246, 1)",borderWidth:2,fill:!0,tension:.4},{data:r.map(e=>e.newGuests),label:"New Guests",backgroundColor:"rgba(34, 197, 94, 0.1)",borderColor:"rgba(34, 197, 94, 1)",borderWidth:2,fill:!1,tension:.4},{data:r.map(e=>e.returningGuests),label:"Returning Guests",backgroundColor:"rgba(168, 85, 247, 0.1)",borderColor:"rgba(168, 85, 247, 1)",borderWidth:2,fill:!1,tension:.4}]}});guestBreakdownChartData=C(()=>{let r=this.guestBreakdown();return{labels:r.map(e=>e.category),datasets:[{data:r.map(e=>e.value),backgroundColor:["rgba(59, 130, 246, 0.8)","rgba(34, 197, 94, 0.8)","rgba(168, 85, 247, 0.8)","rgba(245, 158, 11, 0.8)","rgba(239, 68, 68, 0.8)","rgba(20, 184, 166, 0.8)"],borderWidth:2,borderColor:"#fff"}]}});chartOptions=C(()=>({responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},plugins:{legend:{display:!0,position:"top"},tooltip:{callbacks:{label:r=>`${r.dataset.label}: ${r.parsed.y}`}}},scales:{x:{display:!0,title:{display:!0,text:"Date"}},y:{display:!0,title:{display:!0,text:"Number of Guests"},beginAtZero:!0}}}));doughnutChartOptions=C(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"right"},tooltip:{callbacks:{label:r=>{let e=r.dataset.data.reduce((l,d)=>l+Number(d),0),i=(Number(r.parsed)/e*100).toFixed(1);return`${r.label}: ${Number(r.parsed)} (${i}%)`}}}}}));displayedColumns=["date","totalGuests","newGuests","returningGuests","checkIns","checkOuts","averageStayDuration","occupancyRate"];constructor(){this.filterForm=this.fb.group({startDate:[new Date(Date.now()-30*24*60*60*1e3)],endDate:[new Date],reportType:["daily"],guestType:["all"],roomType:["all"]})}ngOnInit(){this.loadData(),this.filterForm.valueChanges.pipe(E(this.destroy$)).subscribe(()=>{this.loadData()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadData(){let r=this.selectedStore()?._id||"",e=this.getFilters();this.loading.set(!0),B({guestData:this.guestService.getGuestData(r,e),guestBreakdown:this.guestService.getGuestBreakdown(r,e),stats:this.guestService.getGuestStats(r,e)}).pipe(E(this.destroy$)).subscribe({next:({guestData:i,guestBreakdown:l,stats:d})=>{this.guestData.set(i),this.guestBreakdown.set(l),this.guestStats.set(d),this.lastUpdated.set(new Date),this.loading.set(!1)},error:i=>{console.error("Error loading data:",i),this.error.set("Failed to load guest data. Please try again."),this.loading.set(!1)}})}getFilters(){let r=this.filterForm.value;return{startDate:r.startDate,endDate:r.endDate,reportType:r.reportType,guestType:r.guestType!=="all"?r.guestType:void 0,roomType:r.roomType!=="all"?r.roomType:void 0}}onDateRangeChange(){this.loadData()}exportToCSV(){let r=this.selectedStore()?._id||"",e=this.getFilters();this.isExporting.set(!0),this.guestService.exportToCSV(r,e).subscribe({next:i=>{let l=window.URL.createObjectURL(i),d=document.createElement("a");d.href=l,d.download=`guest-report-${this.formatDateISO(new Date)}.csv`,d.click(),window.URL.revokeObjectURL(l),this.isExporting.set(!1)},error:i=>{console.error("Export error:",i),this.error.set("Failed to export CSV. Please try again."),this.isExporting.set(!1)}})}exportToPDF(){let r=this.selectedStore()?._id||"",e=this.getFilters();this.isExporting.set(!0),this.guestService.exportToPDF(r,e).subscribe({next:i=>{let l=window.URL.createObjectURL(i),d=document.createElement("a");d.href=l,d.download=`guest-report-${this.formatDateISO(new Date)}.pdf`,d.click(),window.URL.revokeObjectURL(l),this.isExporting.set(!1)},error:i=>{console.error("Export error:",i),this.error.set("Failed to export PDF. Please try again."),this.isExporting.set(!1)}})}exportData(r){if(!this.guestData().length)return;let e=this.guestData(),i="guest-report",l={from:this.filterForm.value.startDate?.toISOString()||"",to:this.filterForm.value.endDate?.toISOString()||""};switch(r){case"pdf":this.exportService.exportGuestDataToPdf(e,i,l);break;case"csv":this.exportService.exportToCSV(e,i);break;case"excel":this.exportService.exportToExcel(e,i);break}}refreshData(){this.loadData()}clearError(){this.error.set(null)}getGrowthClass(r){return r>0?"text-green-600":r<0?"text-red-600":"text-gray-600"}getGrowthIcon(r){return r>0?"\u2197\uFE0F":r<0?"\u2198\uFE0F":"\u27A1\uFE0F"}formatDate(r){return new Date(r).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}formatDateShort(r){return r.toLocaleDateString("en-US",{month:"short",day:"numeric"})}formatDateISO(r){return r.toISOString().split("T")[0]}formatPercent(r){return`${r.toFixed(1)}%`}formatNumber(r){return r==null||isNaN(r)?"0":r.toLocaleString()}formatDuration(r){return r==null||isNaN(r)?"0 days":r<1?`${Math.round(r*24)}h`:`${r.toFixed(1)} days`}static \u0275fac=function(e){return new(e||a)};static \u0275cmp=j({type:a,selectors:[["app-guest-report"]],decls:87,vars:7,consts:[["exportMenu","matMenu"],[1,"p-6","bg-gray-50","min-h-screen"],[1,"mb-6"],[1,"flex","flex-col","md:flex-row","md:items-center","md:justify-between","gap-4"],[1,"text-3xl","font-bold","text-gray-900"],[1,"text-gray-600","mt-1"],["mat-flat-button","","color","primary",3,"matMenuTriggerFor"],[1,"mr-2"],["mat-menu-item","",3,"click"],[1,"mb-6","bg-yellow-50","border","border-yellow-200","rounded-md","p-4"],[1,"bg-white","rounded-lg","shadow-md","p-6","mb-6"],[1,"text-lg","font-semibold","text-gray-900","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-5","gap-4",3,"formGroup"],["for","startDate",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","date","id","startDate","formControlName","startDate",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500"],["for","endDate",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["type","date","id","endDate","formControlName","endDate",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500"],["for","reportType",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","reportType","formControlName","reportType",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500"],["value","daily"],["value","weekly"],["value","monthly"],["for","guestType",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","guestType","formControlName","guestType",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500"],["value","all"],["value","business"],["value","leisure"],["value","group"],["value","extended"],["for","roomType",1,"block","text-sm","font-medium","text-gray-700","mb-1"],["id","roomType","formControlName","roomType",1,"w-full","px-3","py-2","border","border-gray-300","rounded-md","focus:outline-none","focus:ring-2","focus:ring-blue-500","focus:border-blue-500"],["value","standard"],["value","deluxe"],["value","suite"],["value","executive"],[1,"mt-4","flex","justify-end"],[1,"inline-flex","items-center","px-4","py-2","border","border-transparent","text-sm","font-medium","rounded-md","shadow-sm","text-white","bg-blue-600","hover:bg-blue-700","focus:outline-none","focus:ring-2","focus:ring-offset-2","focus:ring-blue-500","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"bg-white","rounded-lg","shadow-md","p-12"],[1,"flex"],[1,"flex-shrink-0"],["fill","currentColor","viewBox","0 0 20 20",1,"h-5","w-5","text-yellow-400"],["fill-rule","evenodd","d","M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z","clip-rule","evenodd"],[1,"ml-3"],[1,"text-sm","text-yellow-700"],[1,"ml-auto","pl-3"],[1,"-mx-1.5","-my-1.5"],[1,"inline-flex","bg-yellow-50","rounded-md","p-1.5","text-yellow-500","hover:bg-yellow-100",3,"click"],[1,"sr-only"],["fill","currentColor","viewBox","0 0 20 20",1,"h-5","w-5"],["fill-rule","evenodd","d","M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z","clip-rule","evenodd"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","-ml-1","mr-3","h-4","w-4","text-white"],["cx","12","cy","12","r","10","stroke","currentColor","stroke-width","4",1,"opacity-25"],["fill","currentColor","d","m 12,2 a 10,10 0 0 1 10,10 h -4 a 6,6 0 0 0 -6,-6 z",1,"opacity-75"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-4","gap-6","mb-6"],[1,"bg-white","rounded-lg","shadow-md","p-6"],[1,"flex","items-center"],[1,"flex-1"],[1,"text-sm","font-medium","text-gray-500","uppercase","tracking-wide"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-sm","mt-1",3,"ngClass"],[1,"w-12","h-12","bg-blue-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-blue-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"],[1,"text-sm","text-gray-600","mt-1"],[1,"w-12","h-12","bg-green-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-green-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"],[1,"w-12","h-12","bg-purple-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-purple-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"w-12","h-12","bg-orange-100","rounded-lg","flex","items-center","justify-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-orange-600"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6","mb-6"],[1,"h-80"],[1,"h-80","flex","items-center","justify-center","text-gray-500"],["baseChart","","type","line",3,"data","options"],[1,"text-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"mx-auto","h-12","w-12","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"],[1,"mt-2"],["baseChart","","type","doughnut",3,"data","options"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M11 3.055A9.001 9.001 0 1020.945 13H11V3.055z"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20.488 9H15V3.512A9.025 9.025 0 0120.488 9z"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],[1,"hover:bg-gray-50"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-900"],[1,"w-16","bg-gray-200","rounded-full","h-2","mr-2"],[1,"bg-blue-600","h-2","rounded-full"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-lg","font-semibold","text-gray-900"],[1,"text-sm","text-gray-600"],[1,"bg-green-600","h-2","rounded-full"],[1,"flex","flex-col","items-center","justify-center"],["fill","none","viewBox","0 0 24 24",1,"animate-spin","h-12","w-12","text-blue-600","mb-4"],[1,"text-lg","text-gray-600"],[1,"text-sm","text-gray-500","mt-1"]],template:function(e,i){if(e&1){let l=P();t(0,"div",1)(1,"div",2)(2,"div",3)(3,"div")(4,"h1",4),o(5,"Guest Report"),n(),t(6,"p",5),o(7,"Track and analyze guest occupancy patterns and trends"),n()(),t(8,"div")(9,"button",6)(10,"mat-icon",7),o(11,"file_download"),n(),o(12," Export Data "),n(),t(13,"mat-menu",null,0)(15,"button",8),w("click",function(){return S(l),_(i.exportData("pdf"))}),t(16,"mat-icon"),o(17,"picture_as_pdf"),n(),t(18,"span"),o(19,"Export as PDF"),n()(),t(20,"button",8),w("click",function(){return S(l),_(i.exportData("csv"))}),t(21,"mat-icon"),o(22,"description"),n(),t(23,"span"),o(24,"Export as CSV"),n()(),t(25,"button",8),w("click",function(){return S(l),_(i.exportData("excel"))}),t(26,"mat-icon"),o(27,"table_chart"),n(),t(28,"span"),o(29,"Export as Excel"),n()()()()()(),f(30,be,15,1,"div",9),t(31,"div",10)(32,"h2",11),o(33,"Report Filters"),n(),t(34,"form",12)(35,"div")(36,"label",13),o(37,"Start Date"),n(),m(38,"input",14),n(),t(39,"div")(40,"label",15),o(41,"End Date"),n(),m(42,"input",16),n(),t(43,"div")(44,"label",17),o(45,"Report Type"),n(),t(46,"select",18)(47,"option",19),o(48,"Daily"),n(),t(49,"option",20),o(50,"Weekly"),n(),t(51,"option",21),o(52,"Monthly"),n()()(),t(53,"div")(54,"label",22),o(55,"Guest Type"),n(),t(56,"select",23)(57,"option",24),o(58,"All Types"),n(),t(59,"option",25),o(60,"Business"),n(),t(61,"option",26),o(62,"Leisure"),n(),t(63,"option",27),o(64,"Group"),n(),t(65,"option",28),o(66,"Extended Stay"),n()()(),t(67,"div")(68,"label",29),o(69,"Room Type"),n(),t(70,"select",30)(71,"option",24),o(72,"All Rooms"),n(),t(73,"option",31),o(74,"Standard"),n(),t(75,"option",32),o(76,"Deluxe"),n(),t(77,"option",33),o(78,"Suite"),n(),t(79,"option",34),o(80,"Executive"),n()()()(),t(81,"div",35)(82,"button",36),w("click",function(){return S(l),_(i.loadData())}),f(83,ye,4,0)(84,ve,1,0),n()()(),f(85,Pe,65,11),f(86,Re,9,0,"div",37),n()}if(e&2){let l=L(14);s(9),v("matMenuTriggerFor",l),s(21),x(i.error()?30:-1),s(4),v("formGroup",i.filterForm),s(48),v("disabled",i.loading()),s(),x(i.loading()?83:84),s(2),x(i.guestStats()?85:-1),s(),x(i.loading()&&!i.guestStats()?86:-1)}},dependencies:[U,$,re,K,ee,te,J,Y,Z,q,Q,X,ue,A,H,ie,oe,me,le,se,de],styles:[".guest-report[_ngcontent-%COMP%]   .statistics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;margin-bottom:2rem}.guest-report[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:.75rem;box-shadow:0 1px 3px #0000001a;padding:1.5rem}.guest-report[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:3rem;height:3rem;border-radius:.75rem;display:flex;align-items:center;justify-content:center}.guest-report[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon.blue[_ngcontent-%COMP%]{background-color:#3b82f61a;color:#3b82f6}.guest-report[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon.green[_ngcontent-%COMP%]{background-color:#22c55e1a;color:#22c55e}.guest-report[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon.purple[_ngcontent-%COMP%]{background-color:#a855f71a;color:#a855f7}.guest-report[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon.orange[_ngcontent-%COMP%]{background-color:#f59e0b1a;color:#f59e0b}.guest-report[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]{height:320px;position:relative}.guest-report[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .bar-fill[_ngcontent-%COMP%]{transition:width .3s ease-in-out;border-radius:9999px}.guest-report[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]{transition:background-color .2s ease-in-out}.guest-report[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]:hover{background-color:#f9fafb}.guest-report[_ngcontent-%COMP%]   .filter-form[_ngcontent-%COMP%]   .form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.guest-report[_ngcontent-%COMP%]   .filter-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:#374151;margin-bottom:.25rem}.guest-report[_ngcontent-%COMP%]   .filter-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .guest-report[_ngcontent-%COMP%]   .filter-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid rgb(209,213,219);border-radius:.375rem;font-size:.875rem;transition:all .2s ease-in-out}.guest-report[_ngcontent-%COMP%]   .filter-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .guest-report[_ngcontent-%COMP%]   .filter-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.guest-report[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.guest-report[_ngcontent-%COMP%]   .statistics-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.guest-report[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]{height:250px}.guest-report[_ngcontent-%COMP%]   .filter-form[_ngcontent-%COMP%]   .form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.export-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.export-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.5rem}.chart-legend[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1rem;margin-top:1rem}.chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem}.chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-color[_ngcontent-%COMP%]{width:1rem;height:1rem;border-radius:.25rem}.data-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{background-color:#f9fafb}.data-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;text-transform:uppercase;letter-spacing:.05em;font-size:.75rem;color:#6b7280}.data-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f9fafb80}"]})};export{pe as GuestReportComponent};
