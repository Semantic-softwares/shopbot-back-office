import{a as b}from"./chunk-AGZJ637K.js";import{A as s,B as o}from"./chunk-DWCYWQVU.js";import{E as p,aa as l,fa as h,n}from"./chunk-5AECHVKR.js";var g=class i{http=h(o);apiUrl=`${b.apiUrl}/guests`;searchGuests(t,e=1,r=10,u){let a=new s().set("search",t).set("page",e.toString()).set("limit",r.toString());return u&&(a=a.set("storeId",u)),this.http.get(this.apiUrl,{params:a})}searchGuestByPhone(t,e){let r=new s;return e&&(r=r.set("storeId",e)),this.http.get(`${this.apiUrl}/search/phone/${t}`,{params:r}).pipe(p(()=>n(null)))}searchGuestByEmail(t,e){let r=new s;return e&&(r=r.set("storeId",e)),this.http.get(`${this.apiUrl}/search/email/${t}`,{params:r}).pipe(p(()=>n(null)))}getGuestById(t){return this.http.get(`${this.apiUrl}/${t}`)}createGuest(t){return this.http.post(this.apiUrl,t)}updateGuest(t,e){return this.http.put(`${this.apiUrl}/${t}`,e)}deleteGuest(t){return this.http.delete(`${this.apiUrl}/${t}`)}getGuestHistory(t){return this.http.get(`${this.apiUrl}/${t}/history`)}updateLoyaltyPoints(t,e,r){return this.http.put(`${this.apiUrl}/${t}/loyalty`,{points:e,reason:r})}getGuestStats(t){let e=new s;return t&&(e=e.set("storeId",t)),this.http.get(`${this.apiUrl}/stats/overview`,{params:e})}static \u0275fac=function(e){return new(e||i)};static \u0275prov=l({token:i,factory:i.\u0275fac,providedIn:"root"})};export{g as a};
