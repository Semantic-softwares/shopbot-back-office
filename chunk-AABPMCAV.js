import{a as J,b as Q}from"./chunk-P2VEYFPL.js";import{d as y}from"./chunk-T75DEOG5.js";import{b as K}from"./chunk-KR7TMRYR.js";import{b as V,c as j,d as L}from"./chunk-IKP7S2Y7.js";import{a as N}from"./chunk-7QB7BEGO.js";import{a as $}from"./chunk-EUHZN2UI.js";import"./chunk-M5357V7P.js";import"./chunk-SY26FGZT.js";import"./chunk-XYJ5R6BC.js";import{a as Y}from"./chunk-YEWYHM4L.js";import{g as B}from"./chunk-PZG5LZPC.js";import{a as D,e as P,h as q}from"./chunk-GY37C2FD.js";import{C as H,E as z,b as U,d as m,g as k,h as w,m as F,q as _,s as O,t as A}from"./chunk-2UT4NYMV.js";import"./chunk-S2P5547C.js";import{a as R,b as W}from"./chunk-MNFAJ2ZP.js";import"./chunk-AGG277FR.js";import"./chunk-N3VBTGB6.js";import"./chunk-4KLRET2M.js";import{Y as E,_ as G}from"./chunk-KSQJ4KAT.js";import"./chunk-RDMIWI4X.js";import"./chunk-AGZJ637K.js";import"./chunk-VYX7HJYX.js";import"./chunk-FORATDN3.js";import{Eb as T,Fb as C,Ib as I,Jb as M,Kb as u,Lb as a,Mb as e,Nb as n,Rb as g,Sb as b,Yb as x,Za as d,ca as c,mb as S,nc as t,oc as v,ta as h}from"./chunk-53XJD7JZ.js";import{a as p,b as f}from"./chunk-EQDQRRRY.js";var Z=(l,i)=>i.value;function ee(l,i){if(l&1&&(a(0,"mat-option",29),t(1),e()),l&2){let o=i.$implicit;u("value",o.value),d(),v(o.label)}}function te(l,i){l&1&&(g(0),a(1,"mat-icon",38),t(2,"refresh"),e(),t(3," Saving... "),b())}function ie(l,i){l&1&&(g(0),a(1,"mat-icon"),t(2,"save "),e(),t(3," Save Hotel Information "),b())}var X=class l{fb=c(H);snackBar=c(N);storeService=c(Y);storeStore=c($);loading=h(!1);saving=h(!1);hotelInfoForm;timezoneOptions=[{value:"UTC-12",label:"(GMT-12:00) International Date Line West"},{value:"UTC-11",label:"(GMT-11:00) Midway Island, Samoa"},{value:"UTC-10",label:"(GMT-10:00) Hawaii"},{value:"UTC-9",label:"(GMT-09:00) Alaska"},{value:"UTC-8",label:"(GMT-08:00) Pacific Time (US & Canada)"},{value:"UTC-7",label:"(GMT-07:00) Mountain Time (US & Canada)"},{value:"UTC-6",label:"(GMT-06:00) Central Time (US & Canada)"},{value:"UTC-5",label:"(GMT-05:00) Eastern Time (US & Canada)"},{value:"UTC-4",label:"(GMT-04:00) Atlantic Time (Canada)"},{value:"UTC-3",label:"(GMT-03:00) Buenos Aires, Georgetown"},{value:"UTC-2",label:"(GMT-02:00) Mid-Atlantic"},{value:"UTC-1",label:"(GMT-01:00) Azores, Cape Verde Islands"},{value:"UTC+0",label:"(GMT+00:00) Greenwich Mean Time"},{value:"UTC+1",label:"(GMT+01:00) Amsterdam, Berlin, Rome"},{value:"UTC+2",label:"(GMT+02:00) Cairo, Athens, Istanbul"},{value:"UTC+3",label:"(GMT+03:00) Moscow, Kuwait, Riyadh"},{value:"UTC+4",label:"(GMT+04:00) Abu Dhabi, Muscat"},{value:"UTC+5",label:"(GMT+05:00) Islamabad, Karachi"},{value:"UTC+6",label:"(GMT+06:00) Almaty, Dhaka"},{value:"UTC+7",label:"(GMT+07:00) Bangkok, Hanoi, Jakarta"},{value:"UTC+8",label:"(GMT+08:00) Beijing, Perth, Singapore"},{value:"UTC+9",label:"(GMT+09:00) Tokyo, Seoul, Osaka"},{value:"UTC+10",label:"(GMT+10:00) Eastern Australia, Guam"},{value:"UTC+11",label:"(GMT+11:00) Magadan, Solomon Islands"},{value:"UTC+12",label:"(GMT+12:00) Auckland, Wellington"}];ngOnInit(){this.initializeForm(),this.loadSettings()}initializeForm(){this.hotelInfoForm=this.fb.group({hotelName:["",m.required],address:this.fb.group({street:[""],city:["",m.required],state:[""],country:["",m.required],postalCode:[""]}),contactInfo:this.fb.group({phone:["",m.required],email:["",[m.required,m.email]],website:[""]}),timezone:["UTC+0",m.required],checkInTime:["15:00",m.required],checkOutTime:["11:00",m.required]})}loadSettings(){this.loading.set(!0);let i=this.storeStore.selectedStore();i&&this.hotelInfoForm.patchValue({hotelName:i.name||"",address:{street:i.contactInfo?.address||"",city:i.contactInfo?.city||"",state:i.contactInfo?.state||"",country:i.contactInfo?.country||"",postalCode:i.contactInfo?.postalCode||""},contactInfo:{phone:i.contactInfo?.phone||"",email:i.contactInfo?.email||"",website:i.contactInfo?.placeName||""},timezone:i.hotelSettings?.operationalSettings?.timezone||"UTC+0",checkInTime:i.hotelSettings?.operationalSettings?.checkInTime||"15:00",checkOutTime:i.hotelSettings?.operationalSettings?.checkOutTime||"11:00"}),this.loading.set(!1)}saveHotelInfo(){if(this.hotelInfoForm.valid&&this.storeStore.selectedStore()){this.saving.set(!0);let i=this.hotelInfoForm.value,o=this.storeStore.selectedStore(),s={name:i.hotelName,contactInfo:f(p({},o.contactInfo),{phone:i.contactInfo.phone,email:i.contactInfo.email,address:i.address.street,city:i.address.city,state:i.address.state,country:i.address.country,postalCode:i.address.postalCode,placeName:i.contactInfo.website,placeNumber:o.contactInfo?.placeNumber||""}),hotelSettings:f(p({},o.hotelSettings),{operationalSettings:{timezone:i.timezone,checkInTime:i.checkInTime,checkOutTime:i.checkOutTime}})};this.storeService.updateStore(o._id,s).subscribe({next:()=>{this.storeService.getStore(o._id).subscribe({next:r=>{this.storeStore.updateStore(r),this.storeService.saveStoreLocally(r),this.saving.set(!1),this.snackBar.open("Hotel information saved successfully!","Close",{duration:3e3})},error:r=>{console.error("Error fetching updated store:",r),this.saving.set(!1),this.snackBar.open("Settings saved but failed to update local data.","Close",{duration:5e3})}})},error:r=>{console.error("Error saving hotel info:",r),this.saving.set(!1),this.snackBar.open("Failed to save hotel information.","Close",{duration:5e3})}})}}static \u0275fac=function(o){return new(o||l)};static \u0275cmp=S({type:l,selectors:[["app-hotel-info"]],decls:108,vars:4,consts:[[1,"py-6"],[3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-8"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","overflow-hidden"],[1,"bg-gradient-to-r","from-gray-50","to-gray-100","px-6","py-4","border-b","border-gray-200"],[1,"text-lg","font-semibold","text-gray-900","flex","items-center","gap-2"],[1,"text-blue-600"],[1,"p-6","space-y-6"],["appearance","outline",1,"w-full"],["matInput","","formControlName","hotelName","placeholder","Enter hotel name"],["matSuffix",""],["formGroupName","contactInfo",1,"space-y-4"],["matInput","","formControlName","phone","placeholder","+1 (555) 123-4567"],["matInput","","type","email","formControlName","email","placeholder","contact@hotel.com"],["matInput","","formControlName","website","placeholder","https://www.hotel.com"],[1,"text-green-600"],["formGroupName","address",1,"p-6","space-y-6"],["matInput","","formControlName","street","placeholder","123 Hotel Street","rows","2"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["appearance","outline"],["matInput","","formControlName","city","placeholder","New York"],["matInput","","formControlName","state","placeholder","NY"],["matInput","","formControlName","country","placeholder","United States"],["matInput","","formControlName","postalCode","placeholder","10001"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","overflow-hidden","lg:col-span-2"],[1,"text-purple-600"],[1,"p-6"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],["formControlName","timezone"],[3,"value"],["matInput","","type","time","formControlName","checkInTime"],["matInput","","type","time","formControlName","checkOutTime"],[1,"mt-4","p-4","bg-blue-50","border","border-blue-200","rounded-lg"],[1,"font-semibold","text-blue-900","mb-2","flex","items-center","gap-2"],[1,"text-sm","text-blue-800"],[1,"text-xs"],[1,"flex","justify-end","mt-8"],["type","submit","mat-raised-button","","color","primary",1,"px-8","py-2",3,"disabled"],[1,"animate-spin","mr-2"]],template:function(o,s){if(o&1&&(a(0,"div",0)(1,"form",1),x("ngSubmit",function(){return s.saveHotelInfo()}),a(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5)(6,"mat-icon",6),t(7,"info"),e(),t(8," Basic Information "),e()(),a(9,"div",7)(10,"mat-form-field",8)(11,"mat-label"),t(12,"Hotel Name"),e(),n(13,"input",9),a(14,"mat-icon",10),t(15,"business"),e()(),a(16,"div",11)(17,"mat-form-field",8)(18,"mat-label"),t(19,"Phone Number"),e(),n(20,"input",12),a(21,"mat-icon",10),t(22,"phone"),e()(),a(23,"mat-form-field",8)(24,"mat-label"),t(25,"Email Address"),e(),n(26,"input",13),a(27,"mat-icon",10),t(28,"email"),e()(),a(29,"mat-form-field",8)(30,"mat-label"),t(31,"Website (Optional)"),e(),n(32,"input",14),a(33,"mat-icon",10),t(34,"language"),e()()()()(),a(35,"div",3)(36,"div",4)(37,"h3",5)(38,"mat-icon",15),t(39,"location_on"),e(),t(40," Address Information "),e()(),a(41,"div",16)(42,"mat-form-field",8)(43,"mat-label"),t(44,"Street Address"),e(),n(45,"textarea",17),a(46,"mat-icon",10),t(47,"place"),e()(),a(48,"div",18)(49,"mat-form-field",19)(50,"mat-label"),t(51,"City"),e(),n(52,"input",20),e(),a(53,"mat-form-field",19)(54,"mat-label"),t(55,"State/Province"),e(),n(56,"input",21),e()(),a(57,"div",18)(58,"mat-form-field",19)(59,"mat-label"),t(60,"Country"),e(),n(61,"input",22),e(),a(62,"mat-form-field",19)(63,"mat-label"),t(64,"Postal Code"),e(),n(65,"input",23),e()()()(),a(66,"div",24)(67,"div",4)(68,"h3",5)(69,"mat-icon",25),t(70,"settings"),e(),t(71," Operational Settings "),e()(),a(72,"div",26)(73,"div",27)(74,"mat-form-field",19)(75,"mat-label"),t(76,"Timezone"),e(),a(77,"mat-select",28),I(78,ee,2,2,"mat-option",29,Z),e()(),a(80,"mat-form-field",19)(81,"mat-label"),t(82,"Check-in Time"),e(),n(83,"input",30),a(84,"mat-icon",10),t(85,"schedule"),e()(),a(86,"mat-form-field",19)(87,"mat-label"),t(88,"Check-out Time"),e(),n(89,"input",31),a(90,"mat-icon",10),t(91,"schedule"),e()()(),a(92,"div",32)(93,"h5",33)(94,"mat-icon",6),t(95,"info"),e(),t(96," Store Currency "),e(),a(97,"p",34),t(98," Current store currency: "),a(99,"strong"),t(100),e(),n(101,"br"),a(102,"span",35),t(103,"To change currency, update it in the main store settings."),e()()()()()(),a(104,"div",36)(105,"button",37),T(106,te,4,0,"ng-container")(107,ie,4,0,"ng-container"),e()()()()),o&2){let r;d(),u("formGroup",s.hotelInfoForm),d(77),M(s.timezoneOptions),d(22),v(((r=s.storeStore.selectedStore())==null?null:r.currency)||"Not set"),d(5),u("disabled",s.hotelInfoForm.invalid||s.saving()),d(),C(s.saving()?106:107)}},dependencies:[z,F,U,k,w,A,O,_,B,G,E,W,R,V,q,D,P,L,j,Q,J,y,K],styles:["[_nghost-%COMP%]{display:block}"]})};export{X as HotelInfo};
