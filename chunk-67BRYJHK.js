import{a as oe,b as re,c as ae,d as se}from"./chunk-ALAT4ORY.js";import{a as fe}from"./chunk-SD3GJBKE.js";import{b as le}from"./chunk-3F2QXBNK.js";import{a as pe,b as de,c as ue,e as ve,f as ge,g as he,j as _e,l as be}from"./chunk-FJYLQSWC.js";import{a as me,b as ce}from"./chunk-4XV2UKEU.js";import{a as J,b as K,c as Q,d as X,e as Y}from"./chunk-CDJZX4I4.js";import{a as Z,b as ee,c as te,d as ne}from"./chunk-Q4U6FYZ3.js";import{i as G}from"./chunk-QC7H4KPM.js";import{c as ie}from"./chunk-BXJEGH2V.js";import"./chunk-64WHNS37.js";import"./chunk-TIVXUJ22.js";import"./chunk-WAHSRZAW.js";import"./chunk-XLZTIYSF.js";import"./chunk-W7NMJLMQ.js";import{a as j}from"./chunk-YXRAJPAB.js";import{a as z}from"./chunk-UVV7QZRX.js";import"./chunk-TILT22SG.js";import"./chunk-BFT2MTJY.js";import"./chunk-FO4KTVQ3.js";import"./chunk-TRZH7NMW.js";import"./chunk-GXTELBJV.js";import{b as W,c as q}from"./chunk-JPRPNQOM.js";import{Z as U,ba as $}from"./chunk-3LDCGXHW.js";import{e as H,f as F,g as A,h as V,i as B,l as N}from"./chunk-ZLVQTB5B.js";import"./chunk-6PFJHDFS.js";import{Fc as d,Ib as P,Jb as R,Kb as u,Mb as v,Nb as g,Ob as s,Pb as a,Qb as r,Rb as h,Vc as O,Ya as D,Yb as C,ac as w,bb as n,cc as _,fa as p,ka as k,la as x,mc as I,qb as E,rc as l,sc as b,tc as f,wa as S}from"./chunk-J2AK4FW5.js";import{a as y,b as T}from"./chunk-GAL4ENT6.js";var M=()=>["../settings"];function xe(i,t){if(i&1&&(a(0,"a",5),h(1,"img",14),r()),i&2){let e,o=_();s("routerLink",d(3,M)),n(),s("routerLink",d(4,M))("src",(e=o.storeStore.selectedStore())==null?null:e.logo,D)}}function Se(i,t){i&1&&(a(0,"a",6)(1,"mat-icon"),l(2,"hotel"),r()())}function Ce(i,t){if(i&1){let e=C();a(0,"button",15),w("click",function(){let m=k(e).$implicit,c=_();return x(c.selectStore(m))}),l(1),r()}if(i&2){let e,o=t.$implicit,m=_();s("disabled",o._id===((e=m.storeStore.selectedStore())==null?null:e._id)),n(),f(" ",o.name)}}function we(i,t){if(i&1&&(a(0,"a",17,1)(2,"mat-icon",18),l(3),r(),a(4,"span",19),l(5),r()()),i&2){let e=t.$implicit,o=I(1);s("routerLink",e.link)("activated",o.isActive),n(3),b(e.icon),n(2),b(e.label)}}function Ie(i,t){if(i&1&&(a(0,"mat-expansion-panel",12)(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"span",16),l(4),r()()(),v(5,we,6,4,"a",17,u),r()),i&2){let e=t.$implicit;s("expanded",!0),n(4),f(" ",e==null?null:e.name," "),n(),g(e.children)}}var Me=class i{router=p(A);route=p(H);authService=p(j);storeStore=p(G);rolesService=p(z);isMobile=S(window.innerWidth<768);opened=S(!0);currentUser=ie(this.authService.currentUser,{initialValue:null});navItemsConfig=[{name:"Dashboard",children:[{icon:"dashboard",label:"Overview",link:"./overview",permissions:["hotel.reservations.view","hotel.rooms.view"]}]},{name:"Front Desk",children:[{icon:"book_online",label:"Reservations",link:"./front-desk/reservations",permissions:["hotel.reservations.view","hotel.reservations.create"]},{icon:"check_in",label:"Check-In / Check-Out",link:"./front-desk/check-in-check-out",permissions:["hotel.reservations.checkin","hotel.reservations.checkout"]},{icon:"people",label:"Guests",link:"./front-desk/guests",permissions:["hotel.guests.view","hotel.guests.create"]}]},{name:"Channel Management",children:[{icon:"sync_alt",label:"Mappings",link:"./channel-management/mappings",permissions:["hotel.guests.view","hotel.guests.create"]},{icon:"rate_review",label:"Inventory & Rates",link:"./channel-management/inventory-rates",permissions:["hotel.reservations.view","hotel.reservations.create"]},{icon:"meeting_room",label:"Update Room",link:"./channel-management/update-room",permissions:["hotel.reservations.checkin","hotel.reservations.checkout"]},{icon:"live_tv",label:"Live Booking",link:"./channel-management/live-booking",permissions:["hotel.guests.view","hotel.guests.create"]}]},{name:"Room Management",children:[{icon:"hotel",label:"Rooms",link:"./rooms-management/rooms",permissions:["hotel.rooms.view","hotel.rooms.create","hotel.rooms.edit"]},{icon:"category",label:"Room Types",link:"./rooms-management/room-types",permissions:["hotel.roomtypes.view","hotel.roomtypes.create"]}]},{name:"Reports",children:[{icon:"assessment",label:"Occupancy Report",link:"./reports/occupancy",permissions:["finance.reports.view"]},{icon:"monetization_on",label:"Revenue Report",link:"./reports/revenue",permissions:["finance.reports.view","finance.transactions.view"]},{icon:"people_outline",label:"Guest Report",link:"./reports/guest",permissions:["finance.reports.view"]}]},{name:"Settings",children:[{icon:"settings",label:"Hotel Settings",link:"./settings/hotel-settings",permissions:["settings.store.view","settings.store.edit","settings.staff.view","settings.roles.view"]}]}];navItems=O(()=>this.navItemsConfig.map(t=>T(y({},t),{children:t.children.filter(e=>this.rolesService.hasAny(e.permissions))})).filter(t=>t.children.length>0));openLink(t){this.router.navigate([t],{relativeTo:this.route})}toggleSidenav(){this.opened.set(!this.opened())}goToProfile(){this.router.navigate(["dashboard","general","profile"])}selectStore(t){console.log("Selected store:",t),this.storeStore.setSelectedStore(t),window.location.reload()}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=E({type:i,selectors:[["app-hms-dashboard"]],decls:27,vars:11,consts:[["menu","matMenu"],["rla","routerLinkActive"],[1,"hms-dashboard-container"],[3,"menuToggle","title"],[1,"!w-[20em]","!rounded-[0px]","px-2",3,"mode","opened"],["matListItemIcon","",1,"block","!mr-6",3,"routerLink"],["matListItemIcon","",1,"block"],["matListItemTitle","",3,"routerLink"],["matListItemLine","",3,"routerLink"],["matListItemMeta","","mat-icon-button","",1,"block",3,"matMenuTriggerFor"],["mat-menu-item","",3,"disabled"],["multi",""],[1,"mat-elevation-z0",3,"expanded"],[1,"p-4","h-screen"],[1,"!w-full","!min-w-10","!mr-5","!max-w-100","h-10","rounded-full","object-cover",3,"routerLink","src"],["mat-menu-item","",3,"click","disabled"],[1,"flex","items-center"],["mat-list-item","","routerLinkActive","active-link",3,"routerLink","activated"],["matListItemIcon","",1,"material-icons-outlined"],["matListItemTitle",""]],template:function(e,o){if(e&1){let m=C();a(0,"div",2)(1,"app-toolbar",3),w("menuToggle",function(){return k(m),x(o.toggleSidenav())}),r(),a(2,"mat-sidenav-container")(3,"mat-sidenav",4)(4,"mat-list")(5,"mat-list-item"),P(6,xe,2,5,"a",5)(7,Se,3,0,"a",6),a(8,"h2",7),l(9),r(),a(10,"div",8),l(11),r(),a(12,"a",9)(13,"mat-icon"),l(14,"keyboard_arrow_down"),r()()(),h(15,"mat-divider"),r(),a(16,"mat-menu",null,0),v(18,Ce,2,2,"button",10,u),r(),a(20,"mat-nav-list")(21,"mat-accordion",11),v(22,Ie,7,2,"mat-expansion-panel",12,u),r()()(),a(24,"mat-sidenav-content")(25,"div",13),h(26,"router-outlet"),r()()()()}if(e&2){let m,c,L,ke=I(17);n(),s("title","Hotel Management System"),n(2),s("mode",o.isMobile()?"over":"side")("opened",o.opened()),n(3),R((m=o.storeStore.selectedStore())!=null&&m.logo?6:7),n(2),s("routerLink",d(9,M)),n(),b((c=o.currentUser())==null||c.role==null?null:c.role.name),n(),s("routerLink",d(10,M)),n(),f("",(L=o.storeStore.selectedStore())==null?null:L.name," - Hotel"),n(),s("matMenuTriggerFor",ke),n(6),g(o.storeStore.stores()),n(4),g(o.navItems())}},dependencies:[se,re,ae,oe,le,be,ge,_e,he,ve,me,de,pe,ue,q,W,$,U,ne,ee,Z,te,N,F,V,B,Y,X,J,K,Q,ce,fe],styles:[".hms-dashboard-container[_ngcontent-%COMP%]{height:100vh;display:flex;flex-direction:column}mat-sidenav-container[_ngcontent-%COMP%]{flex:1}mat-sidenav[_ngcontent-%COMP%]{border-right:1px solid #e0e0e0}.active-link[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1976d2}.active-link[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#1976d2}mat-nav-list[_ngcontent-%COMP%]{padding-top:0}mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none!important;border:none}mat-expansion-panel[_ngcontent-%COMP%]  .mat-expansion-panel-header{padding:0 16px;height:48px;font-weight:500;color:#333}mat-expansion-panel[_ngcontent-%COMP%]  .mat-expansion-panel-body{padding:0}mat-list-item.active-link[_ngcontent-%COMP%]{background-color:#e3f2fd;border-radius:8px;margin:4px 8px}mat-list-item.active-link[_ngcontent-%COMP%]  .mat-list-item-content{padding:0 12px}mat-list-item[_ngcontent-%COMP%]  .mat-list-item-content{padding:0 16px;border-radius:8px}"]})};export{Me as HmsDashboardComponent};
