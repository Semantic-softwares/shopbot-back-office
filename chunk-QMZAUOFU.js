import{c as T,d as $,e as V,f as Y,g as B,h as H}from"./chunk-DOHPGGLS.js";import{b as L}from"./chunk-YVYCFWPM.js";import{b as j}from"./chunk-3632TDEK.js";import{a as O,b as A,e as G,h as _}from"./chunk-JGZ2V5AL.js";import{C as x,D as N,b as F,g as R,h as E,i as I,k as g,p as w,s as k,y as b}from"./chunk-CXVWFC6J.js";import{a as q,c as C}from"./chunk-7EKHSXIM.js";import{k as S,t as P}from"./chunk-DWCYWQVU.js";import{Jb as u,Kb as p,Lb as l,Mb as d,_a as m,aa as h,dc as M,fa as s,ic as f,kb as y,qb as v,va as D}from"./chunk-5AECHVKR.js";import{a as i}from"./chunk-EQDQRRRY.js";var c=class o{router=s(C);route=s(q);add(e){let t=i({},this.route.snapshot.queryParams),a={};typeof e=="string"?e.split("&").forEach(r=>{let[n,U]=r.split("=");n&&(a[n]=decodeURIComponent(U??""))}):a=e,this.router.navigate([],{relativeTo:this.route,queryParams:i(i({},t),a),queryParamsHandling:"merge"})}remove(e){let t=i({},this.route.snapshot.queryParams);if(!e){this.router.navigate([],{relativeTo:this.route,queryParams:{}});return}let a=Array.isArray(e)?e:[e];for(let r of a)delete t[r];this.router.navigate([],{relativeTo:this.route,queryParams:t})}get getAllParams$(){return this.route.queryParams}get getAllParamsSnapshot(){return this.route.snapshot.queryParams}static \u0275fac=function(t){return new(t||o)};static \u0275prov=h({token:o,factory:o.\u0275fac,providedIn:"root"})};function J(o,e){o&1&&(p(0,"mat-error"),f(1," Both dates are required "),l())}var Q=class o{queryParamsService=s(c);maxDate=D(new Date);today=new Date;firstDayOfMonth=new Date(this.today.getFullYear(),this.today.getMonth(),1);lastDayOfMonth=new Date(this.today.getFullYear(),this.today.getMonth()+1,0);params=this.queryParamsService.getAllParamsSnapshot;dateRange=new I({start:new g(null),end:new g(null)});ngOnInit(){this.dateRange.valueChanges.subscribe(e=>{let t=n=>n?`${n.getFullYear()}-${(n.getMonth()+1).toString().padStart(2,"0")}-${n.getDate().toString().padStart(2,"0")}`:null,a=t(e.start),r=t(e.end);this.queryParamsService.add({start:a,end:r})}),setTimeout(()=>{this.dateRange.patchValue({start:this.params.start?new Date(this.params.start):this.firstDayOfMonth,end:this.params.end?new Date(this.params.end):this.lastDayOfMonth},{emitEvent:!0})},100)}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=y({type:o,selectors:[["date-range-selector"]],decls:10,vars:5,consts:[["picker",""],["appearance","outline",1,"w-full"],[3,"formGroup","max","rangePicker"],["matStartDate","","formControlName","start","placeholder","Start date","required",""],["matEndDate","","formControlName","end","placeholder","End date","required",""],["matIconSuffix","",3,"for"],[4,"ngIf"]],template:function(t,a){if(t&1&&(p(0,"mat-form-field",1)(1,"mat-label"),f(2,"Date Range"),l(),p(3,"mat-date-range-input",2),d(4,"input",3)(5,"input",4),l(),d(6,"mat-datepicker-toggle",5)(7,"mat-date-range-picker",null,0),v(9,J,2,0,"mat-error",6),l()),t&2){let r,n=M(8);m(3),u("formGroup",a.dateRange)("max",a.maxDate())("rangePicker",n),m(3),u("for",n),m(3),u("ngIf",((r=a.dateRange.get("start"))==null?null:r.hasError("required"))||((r=a.dateRange.get("end"))==null?null:r.hasError("required")))}},dependencies:[P,S,j,_,O,A,G,L,H,T,$,V,Y,B,N,F,R,E,b,w,k,x],encapsulation:2})};export{c as a,Q as b};
