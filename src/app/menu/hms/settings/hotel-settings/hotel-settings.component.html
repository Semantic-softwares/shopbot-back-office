<!-- Header Section -->
<div class="bg-gradient-to-r from-blue-50 to-indigo-50 border-b border-blue-100">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center py-6">
      <div class="flex items-center gap-4">
        <div>
          <h1 class="text-3xl font-bold text-gray-900 mb-1">
            Hotel Settings
          </h1>
          <p class="text-sm text-gray-600">Configure your hotel properties and system preferences</p>
        </div>
      </div>
      <div class="flex items-center gap-3">
        <div class="flex items-center gap-2 text-sm text-gray-600">
          <mat-icon class="text-green-600">verified</mat-icon>
          <span>All changes are saved automatically</span>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Loading State -->
@if (loading()) {
  <div class="flex justify-center items-center py-12 bg-white">
    <mat-spinner diameter="40" class="!text-blue-600"></mat-spinner>
    <span class="ml-3 text-gray-600">Loading settings...</span>
  </div>
}

<!-- Main Content -->
@if (!loading()) {
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
    
    <!-- Settings Tabs -->
    <mat-tab-group class="settings-tabs" animationDuration="200ms">
      
      <!-- Hotel Information Tab -->
      <mat-tab>
        <ng-template mat-tab-label>
          <div class="flex items-center gap-2">
            <mat-icon class="text-blue-600">business</mat-icon>
            <span>Hotel Info</span>
          </div>
        </ng-template>
        
        <div class="py-6">
          <form [formGroup]="hotelInfoForm" (ngSubmit)="saveHotelInfo()">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
              
              <!-- Basic Information Card -->
              <div class="bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden">
                <div class="bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200">
                  <h3 class="text-lg font-semibold text-gray-900 flex items-center gap-2">
                    <mat-icon class="text-blue-600">info</mat-icon>
                    Basic Information
                  </h3>
                </div>
                <div class="p-6 space-y-6">
                  <mat-form-field appearance="outline" class="w-full">
                    <mat-label>Hotel Name</mat-label>
                    <input matInput formControlName="hotelName" placeholder="Enter hotel name">
                    <mat-icon matSuffix>business</mat-icon>
                  </mat-form-field>

                  <div formGroupName="contactInfo" class="space-y-4">
                    <mat-form-field appearance="outline" class="w-full">
                      <mat-label>Phone Number</mat-label>
                      <input matInput formControlName="phone" placeholder="+1 (555) 123-4567">
                      <mat-icon matSuffix>phone</mat-icon>
                    </mat-form-field>

                    <mat-form-field appearance="outline" class="w-full">
                      <mat-label>Email Address</mat-label>
                      <input matInput type="email" formControlName="email" placeholder="contact@hotel.com">
                      <mat-icon matSuffix>email</mat-icon>
                    </mat-form-field>

                    <mat-form-field appearance="outline" class="w-full">
                      <mat-label>Website (Optional)</mat-label>
                      <input matInput formControlName="website" placeholder="https://www.hotel.com">
                      <mat-icon matSuffix>language</mat-icon>
                    </mat-form-field>
                  </div>
                </div>
              </div>

              <!-- Address Information Card -->
              <div class="bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden">
                <div class="bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200">
                  <h3 class="text-lg font-semibold text-gray-900 flex items-center gap-2">
                    <mat-icon class="text-green-600">location_on</mat-icon>
                    Address Information
                  </h3>
                </div>
                <div class="p-6 space-y-6" formGroupName="address">
                  <mat-form-field appearance="outline" class="w-full">
                    <mat-label>Street Address</mat-label>
                    <textarea matInput formControlName="street" placeholder="123 Hotel Street" rows="2"></textarea>
                    <mat-icon matSuffix>place</mat-icon>
                  </mat-form-field>

                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <mat-form-field appearance="outline">
                      <mat-label>City</mat-label>
                      <input matInput formControlName="city" placeholder="New York">
                    </mat-form-field>

                    <mat-form-field appearance="outline">
                      <mat-label>State/Province</mat-label>
                      <input matInput formControlName="state" placeholder="NY">
                    </mat-form-field>
                  </div>

                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <mat-form-field appearance="outline">
                      <mat-label>Country</mat-label>
                      <input matInput formControlName="country" placeholder="United States">
                    </mat-form-field>

                    <mat-form-field appearance="outline">
                      <mat-label>Postal Code</mat-label>
                      <input matInput formControlName="postalCode" placeholder="10001">
                    </mat-form-field>
                  </div>
                </div>
              </div>

              <!-- Operational Settings Card -->
              <div class="bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden lg:col-span-2">
                <div class="bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200">
                  <h3 class="text-lg font-semibold text-gray-900 flex items-center gap-2">
                    <mat-icon class="text-purple-600">settings</mat-icon>
                    Operational Settings
                  </h3>
                </div>
                <div class="p-6">
                  <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    <mat-form-field appearance="outline">
                      <mat-label>Timezone</mat-label>
                      <mat-select formControlName="timezone">
                        @for (timezone of timezoneOptions; track timezone.value) {
                          <mat-option [value]="timezone.value">{{ timezone.label }}</mat-option>
                        }
                      </mat-select>
                    </mat-form-field>

                    <mat-form-field appearance="outline">
                      <mat-label>Check-in Time</mat-label>
                      <input matInput type="time" formControlName="checkInTime">
                      <mat-icon matSuffix>schedule</mat-icon>
                    </mat-form-field>

                    <mat-form-field appearance="outline">
                      <mat-label>Check-out Time</mat-label>
                      <input matInput type="time" formControlName="checkOutTime">
                      <mat-icon matSuffix>schedule</mat-icon>
                    </mat-form-field>
                  </div>

                  <!-- Currency Display (Read-only) -->
                  <div class="mt-4 p-4 bg-blue-50 border border-blue-200 rounded-lg">
                    <h5 class="font-semibold text-blue-900 mb-2 flex items-center gap-2">
                      <mat-icon class="text-blue-600">info</mat-icon>
                      Store Currency
                    </h5>
                    <p class="text-sm text-blue-800">
                      Current store currency: <strong>{{ storeStore.selectedStore()?.currency || 'Not set' }}</strong>
                      <br>
                      <span class="text-xs">To change currency, update it in the main store settings.</span>
                    </p>
                  </div>
                </div>
              </div>
            </div>

            <!-- Save Button -->
            <div class="flex justify-end mt-8">
              <button 
                type="submit" 
                mat-raised-button 
                color="primary"
                [disabled]="hotelInfoForm.invalid || saving()"
                class="px-8 py-2">
                @if (saving()) {
                  <ng-container>
                    <mat-icon class="animate-spin mr-2">refresh</mat-icon>
                    Saving...
                  </ng-container>
                } @else {
                  <ng-container>
                    <mat-icon>save </mat-icon>
                    Save Hotel Information
                  </ng-container>
                }
              </button>
            </div>
          </form>
        </div>
      </mat-tab>

      <!-- Printer Settings Tab -->
      <mat-tab>
        <ng-template mat-tab-label>
          <div class="flex items-center gap-2">
            <mat-icon class="text-green-600">print</mat-icon>
            <span>Printer</span>
          </div>
        </ng-template>
        
        <div class="py-6">
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
            
            <!-- Printer Connection Card -->
            <div class="bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden">
              <div class="bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200">
                <h3 class="text-lg font-semibold text-gray-900 flex items-center gap-2">
                  <mat-icon class="text-green-600">bluetooth</mat-icon>
                  Printer Connection
                </h3>
              </div>
              <div class="p-6">
                @if (printerConnected()) {
                  <!-- Connected State -->
                  <div class="text-center py-4">
                    <div class="w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4">
                      <mat-icon class="text-4xl text-green-600">check_circle</mat-icon>
                    </div>
                    <h4 class="text-lg font-semibold text-gray-900 mb-2">Printer Connected</h4>
                    <p class="text-gray-600 mb-4">{{ connectedPrinter()?.name }}</p>
                    <div class="flex flex-col gap-3">
                      <button 
                        mat-stroked-button 
                        color="primary" 
                        (click)="testPrint()"
                        class="w-full">
                        <mat-icon class="mr-2">print</mat-icon>
                        Test Print
                      </button>
                      <button 
                        mat-stroked-button 
                        color="accent" 
                        (click)="testPaperUtilization()"
                        class="w-full">
                        <mat-icon class="mr-2">straighten</mat-icon>
                        Test Paper Width
                      </button>
                      
                      <!-- Logo Upload Button -->
                      <div class="w-full">
                        <input 
                          type="file" 
                          #logoInput 
                          accept="image/*" 
                          (change)="uploadLogo($event)"
                          class="hidden">
                        <button 
                          mat-stroked-button 
                          color="primary" 
                          (click)="logoInput.click()"
                          class="w-full">
                          <mat-icon class="mr-2">image</mat-icon>
                          Upload Logo
                        </button>
                      </div>
                      
                      <button 
                        mat-stroked-button 
                        color="warn" 
                        (click)="disconnectPrinter()"
                        class="w-full">
                        <mat-icon class="mr-2">bluetooth_disabled</mat-icon>
                        Disconnect
                      </button>
                    </div>
                  </div>
                } @else {
                  <!-- Disconnected State -->
                  <div class="text-center py-4">
                    <div class="w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4">
                      <mat-icon class="text-4xl text-gray-400">print_disabled</mat-icon>
                    </div>
                    <h4 class="text-lg font-semibold text-gray-900 mb-2">No Printer Connected</h4>
                    <p class="text-gray-600 mb-4">Connect a Bluetooth printer to enable receipt printing</p>
                    <button 
                      mat-raised-button 
                      color="primary" 
                      (click)="connectPrinter()"
                      [disabled]="printerConnecting()"
                      class="w-full">
                      @if (printerConnecting()) {
                        <mat-icon class="animate-spin mr-2">refresh</mat-icon>
                        Connecting...
                      } @else {
                        <mat-icon class="mr-2">bluetooth</mat-icon>
                        Connect Printer
                      }
                    </button>
                  </div>
                }

                <!-- Printer Requirements -->
                <div class="mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg">
                  <h5 class="font-semibold text-blue-900 mb-2 flex items-center gap-2">
                    <mat-icon class="text-blue-600">info</mat-icon>
                    Printer Requirements
                  </h5>
                  <ul class="text-sm text-blue-800 space-y-1">
                    <li>• ESC/POS compatible Bluetooth printer</li>
                    <li>• Chrome browser (version 56+)</li>
                    <li>• HTTPS connection required</li>
                    <li>• Supported brands: EPSON, Star, Citizen, Bixolon</li>
                  </ul>
                </div>
              </div>
            </div>

            <!-- Printer Configuration Card -->
            <div class="bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden">
              <div class="bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200">
                <h3 class="text-lg font-semibold text-gray-900 flex items-center gap-2">
                  <mat-icon class="text-purple-600">tune</mat-icon>
                  Print Configuration
                </h3>
              </div>
              <div class="p-6">
                <form [formGroup]="printerSettingsForm" (ngSubmit)="savePrinterSettings()">
                  <div class="space-y-6">
                    <mat-form-field appearance="outline" class="w-full">
                      <mat-label>Paper Size</mat-label>
                      <mat-select formControlName="paperSize">
                        @for (size of paperSizeOptions; track size.value) {
                          <mat-option [value]="size.value">{{ size.label }}</mat-option>
                        }
                      </mat-select>
                      <mat-icon matSuffix>straighten</mat-icon>
                    </mat-form-field>

                    <mat-form-field appearance="outline" class="w-full">
                      <mat-label>Print Quality</mat-label>
                      <mat-select formControlName="printQuality">
                        @for (quality of printQualityOptions; track quality.value) {
                          <mat-option [value]="quality.value">{{ quality.label }}</mat-option>
                        }
                      </mat-select>
                      <mat-icon matSuffix>high_quality</mat-icon>
                    </mat-form-field>

                    <div class="grid grid-cols-2 gap-4">
                      <mat-form-field appearance="outline">
                        <mat-label>Font Size</mat-label>
                        <input matInput type="number" formControlName="fontSize" min="8" max="20">
                        <span matSuffix>px</span>
                      </mat-form-field>

                      <mat-form-field appearance="outline">
                        <mat-label>Line Spacing</mat-label>
                        <input matInput type="number" formControlName="lineSpacing" min="1" max="3" step="0.1">
                        <span matSuffix>x</span>
                      </mat-form-field>
                    </div>

                    <mat-form-field appearance="outline" class="w-full">
                      <mat-label>Header Text (Optional)</mat-label>
                      <input matInput formControlName="headerText" placeholder="Welcome to our hotel">
                    </mat-form-field>

                    <mat-form-field appearance="outline" class="w-full">
                      <mat-label>Footer Text</mat-label>
                      <input matInput formControlName="footerText" placeholder="Thank you for your stay!">
                    </mat-form-field>

                    <!-- Toggle Options -->
                    <div class="space-y-4">
                      <div class="flex items-center justify-between">
                        <div>
                          <label class="text-sm font-medium text-gray-700">Auto Cut Paper</label>
                          <p class="text-xs text-gray-500">Automatically cut paper after printing</p>
                        </div>
                        <mat-slide-toggle formControlName="autocut" color="primary"></mat-slide-toggle>
                      </div>

                      <div class="flex items-center justify-between">
                        <div>
                          <label class="text-sm font-medium text-gray-700">Include Logo</label>
                          <p class="text-xs text-gray-500">Print hotel logo on receipts</p>
                        </div>
                        <mat-slide-toggle formControlName="includeLogo" color="primary"></mat-slide-toggle>
                      </div>
                    </div>

                    <button 
                      type="submit" 
                      mat-raised-button 
                      color="primary"
                      [disabled]="printerSettingsForm.invalid || saving()"
                      class="w-full">
                      @if (saving()) {
                        <mat-icon class="animate-spin mr-2">refresh</mat-icon>
                        Saving...
                      } @else {
                        <mat-icon class="mr-2">save</mat-icon>
                        Save Printer Settings
                      }
                    </button>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </mat-tab>

      <!-- Email Settings Tab -->
      <mat-tab>
        <ng-template mat-tab-label>
          <div class="flex items-center gap-2">
            <mat-icon class="text-orange-600">email</mat-icon>
            <span>Email</span>
          </div>
        </ng-template>
        
        <div class="py-6">
          <form [formGroup]="emailSettingsForm" (ngSubmit)="saveEmailSettings()">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
              
              <!-- SMTP Configuration Card -->
              <div class="bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden">
                <div class="bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200">
                  <h3 class="text-lg font-semibold text-gray-900 flex items-center gap-2">
                    <mat-icon class="text-orange-600">settings</mat-icon>
                    SMTP Configuration
                  </h3>
                </div>
                <div class="p-6 space-y-6">
                  <mat-form-field appearance="outline" class="w-full">
                    <mat-label>SMTP Host</mat-label>
                    <input matInput formControlName="smtpHost" placeholder="smtp.gmail.com">
                    <mat-icon matSuffix>dns</mat-icon>
                  </mat-form-field>

                  <div class="grid grid-cols-2 gap-4">
                    <mat-form-field appearance="outline">
                      <mat-label>Port</mat-label>
                      <input matInput type="number" formControlName="smtpPort" placeholder="587">
                    </mat-form-field>

                    <div class="flex items-center">
                      <mat-slide-toggle formControlName="smtpSecure" color="primary"></mat-slide-toggle>
                      <span class="ml-2 text-sm text-gray-700">Use SSL/TLS</span>
                    </div>
                  </div>

                  <mat-form-field appearance="outline" class="w-full">
                    <mat-label>Username</mat-label>
                    <input matInput formControlName="smtpUsername" placeholder="your-email@domain.com">
                    <mat-icon matSuffix>person</mat-icon>
                  </mat-form-field>

                  <mat-form-field appearance="outline" class="w-full">
                    <mat-label>Password</mat-label>
                    <input matInput type="password" formControlName="smtpPassword" placeholder="••••••••">
                    <mat-icon matSuffix>lock</mat-icon>
                  </mat-form-field>

                  <button 
                    type="button" 
                    mat-stroked-button 
                    color="accent" 
                    (click)="testEmailConnection()"
                    class="w-full">
                    <mat-icon class="mr-2">send</mat-icon>
                    Test Connection
                  </button>
                </div>
              </div>

              <!-- Email Branding Card -->
              <div class="bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden">
                <div class="bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200">
                  <h3 class="text-lg font-semibold text-gray-900 flex items-center gap-2">
                    <mat-icon class="text-blue-600">branding_watermark</mat-icon>
                    Email Branding
                  </h3>
                </div>
                <div class="p-6 space-y-6">
                  <mat-form-field appearance="outline" class="w-full">
                    <mat-label>Sender Name</mat-label>
                    <input matInput formControlName="senderName" placeholder="Hotel Name">
                    <mat-icon matSuffix>badge</mat-icon>
                  </mat-form-field>

                  <mat-form-field appearance="outline" class="w-full">
                    <mat-label>Sender Email</mat-label>
                    <input matInput type="email" formControlName="senderEmail" placeholder="noreply@hotel.com">
                    <mat-icon matSuffix>email</mat-icon>
                  </mat-form-field>

                  <mat-form-field appearance="outline" class="w-full">
                    <mat-label>Reply-To Email</mat-label>
                    <input matInput type="email" formControlName="replyToEmail" placeholder="reservations@hotel.com">
                    <mat-icon matSuffix>reply</mat-icon>
                  </mat-form-field>

                  <div class="p-4 bg-yellow-50 border border-yellow-200 rounded-lg">
                    <h5 class="font-semibold text-yellow-900 mb-2 flex items-center gap-2">
                      <mat-icon class="text-yellow-600">lightbulb</mat-icon>
                      Email Tips
                    </h5>
                    <ul class="text-sm text-yellow-800 space-y-1">
                      <li>• Use a dedicated email for hotel communications</li>
                      <li>• Enable 2FA for better security</li>
                      <li>• Test emails before going live</li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>

            <!-- Save Button -->
            <div class="flex justify-end mt-8">
              <button 
                type="submit" 
                mat-raised-button 
                color="primary"
                [disabled]="emailSettingsForm.invalid || saving()"
                class="px-8 py-2">
                @if (saving()) {
                  <mat-icon class="animate-spin mr-2">refresh</mat-icon>
                  Saving...
                } @else {
                  <mat-icon class="mr-2">save</mat-icon>
                  Save Email Settings
                }
              </button>
            </div>
          </form>
        </div>
      </mat-tab>

      <!-- Notifications Tab -->
      <mat-tab>
        <ng-template mat-tab-label>
          <div class="flex items-center gap-2">
            <mat-icon class="text-red-600">notifications</mat-icon>
            <span>Notifications</span>
          </div>
        </ng-template>
        
        <div class="py-6">
          <form [formGroup]="notificationSettingsForm" (ngSubmit)="saveNotificationSettings()">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
              
              <!-- Guest Notifications Card -->
              <div class="bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden">
                <div class="bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200">
                  <h3 class="text-lg font-semibold text-gray-900 flex items-center gap-2">
                    <mat-icon class="text-red-600">person</mat-icon>
                    Guest Notifications
                  </h3>
                </div>
                <div class="p-6 space-y-6">
                  <div class="space-y-4">
                    <div class="flex items-center justify-between">
                      <div>
                        <label class="text-sm font-medium text-gray-700">Reservation Confirmation</label>
                        <p class="text-xs text-gray-500">Send confirmation emails for new reservations</p>
                      </div>
                      <mat-slide-toggle formControlName="reservationConfirmation" color="primary"></mat-slide-toggle>
                    </div>

                    <div class="flex items-center justify-between">
                      <div>
                        <label class="text-sm font-medium text-gray-700">Check-in Reminder</label>
                        <p class="text-xs text-gray-500">Remind guests about upcoming check-ins</p>
                      </div>
                      <mat-slide-toggle formControlName="checkInReminder" color="primary"></mat-slide-toggle>
                    </div>

                    <div class="flex items-center justify-between">
                      <div>
                        <label class="text-sm font-medium text-gray-700">Check-out Reminder</label>
                        <p class="text-xs text-gray-500">Remind guests about check-out times</p>
                      </div>
                      <mat-slide-toggle formControlName="checkOutReminder" color="primary"></mat-slide-toggle>
                    </div>

                    <div class="flex items-center justify-between">
                      <div>
                        <label class="text-sm font-medium text-gray-700">Payment Confirmation</label>
                        <p class="text-xs text-gray-500">Send receipts for payments</p>
                      </div>
                      <mat-slide-toggle formControlName="paymentConfirmation" color="primary"></mat-slide-toggle>
                    </div>

                    <div class="flex items-center justify-between">
                      <div>
                        <label class="text-sm font-medium text-gray-700">Cancellation Notice</label>
                        <p class="text-xs text-gray-500">Notify guests about cancellations</p>
                      </div>
                      <mat-slide-toggle formControlName="cancellationNotice" color="primary"></mat-slide-toggle>
                    </div>

                    <div class="flex items-center justify-between">
                      <div>
                        <label class="text-sm font-medium text-gray-700">Feedback Request</label>
                        <p class="text-xs text-gray-500">Request feedback after checkout</p>
                      </div>
                      <mat-slide-toggle formControlName="guestFeedbackRequest" color="primary"></mat-slide-toggle>
                    </div>
                  </div>
                </div>
              </div>

              <!-- Communication Channels Card -->
              <div class="bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden">
                <div class="bg-gradient-to-r from-gray-50 to-gray-100 px-6 py-4 border-b border-gray-200">
                  <h3 class="text-lg font-semibold text-gray-900 flex items-center gap-2">
                    <mat-icon class="text-green-600">communication</mat-icon>
                    Communication Channels
                  </h3>
                </div>
                <div class="p-6 space-y-6">
                  <div class="space-y-4">
                    <div class="flex items-center justify-between">
                      <div>
                        <label class="text-sm font-medium text-gray-700">SMS Notifications</label>
                        <p class="text-xs text-gray-500">Send important updates via SMS</p>
                      </div>
                      <mat-slide-toggle formControlName="smsNotifications" color="primary"></mat-slide-toggle>
                    </div>

                    <div class="flex items-center justify-between">
                      <div>
                        <label class="text-sm font-medium text-gray-700">Push Notifications</label>
                        <p class="text-xs text-gray-500">Send real-time browser notifications</p>
                      </div>
                      <mat-slide-toggle formControlName="pushNotifications" color="primary"></mat-slide-toggle>
                    </div>
                  </div>

                  <div class="p-4 bg-green-50 border border-green-200 rounded-lg">
                    <h5 class="font-semibold text-green-900 mb-2 flex items-center gap-2">
                      <mat-icon class="text-green-600">tips_and_updates</mat-icon>
                      Best Practices
                    </h5>
                    <ul class="text-sm text-green-800 space-y-1">
                      <li>• Keep notifications relevant and timely</li>
                      <li>• Avoid overwhelming guests with messages</li>
                      <li>• Test notification content before enabling</li>
                      <li>• Respect guest communication preferences</li>
                    </ul>
                  </div>

                  <button 
                    type="submit" 
                    mat-raised-button 
                    color="primary"
                    [disabled]="saving()"
                    class="w-full">
                    @if (saving()) {
                      <ng-container>
                        <mat-icon class="animate-spin mr-2">refresh</mat-icon>
                        Saving...
                      </ng-container>
                    } @else {
                      <ng-container>
                        <mat-icon class="mr-2">save</mat-icon>
                        Save Notification Settings
                      </ng-container>
                    }
                  </button>
                </div>
              </div>
            </div>
          </form>
        </div>
      </mat-tab>
    </mat-tab-group>
  </div>
}
