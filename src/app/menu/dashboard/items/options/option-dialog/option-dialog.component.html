<div class="p-6">
  <h2 mat-dialog-title class="text-xl font-bold mb-4">
    {{ data.isEdit ? 'Edit Option' : 'Create New Option' }}
  </h2>

  <form [formGroup]="optionForm" (ngSubmit)="onSubmit()">
    <div class="space-y-4">
      <mat-form-field appearance="outline" class="w-full">
        <mat-label>Name</mat-label>
        <input matInput formControlName="name" placeholder="Enter option name">
        <mat-error *ngIf="optionForm.get('name')?.hasError('required')">
          Name is required
        </mat-error>
      </mat-form-field>

      <mat-form-field appearance="outline" class="w-full">
        <mat-label>Price</mat-label>
        <input matInput type="number" formControlName="price" min="0">
        <mat-error *ngIf="optionForm.get('price')?.hasError('required')">
          Price is required
        </mat-error>
        <mat-error *ngIf="optionForm.get('price')?.hasError('min')">
          Price must be 0 or greater
        </mat-error>
      </mat-form-field>

      <div class="flex items-center p-4 bg-gray-50 rounded-lg">
        <mat-slide-toggle formControlName="inStock" color="primary">
          In Stock
        </mat-slide-toggle>
      </div>
    </div>

    <div class="flex justify-end space-x-2 mt-6 pt-4 border-t border-gray-200">
      <button mat-button type="button" (click)="onCancel()">Cancel</button>
      <button mat-raised-button color="primary" type="submit" [disabled]="!optionForm.valid || isSubmitting()">
        @if (isSubmitting()) {
          <mat-spinner diameter="20" class="mr-2"></mat-spinner>
        }
        {{data.isEdit ? 'Update' : 'Create'}}
      </button>
    </div>
  </form>
</div>
