<div class="max-w-6xl mx-auto px-4 py-8 min-h-screen">
  <!-- Header -->
  <div class="text-center mb-12">
    <h1 class="text-4xl md:text-5xl font-bold text-gray-900 mb-2">Upgrade Your Subscription</h1>
    <p class="text-lg text-gray-600">Simple USD pricing. Choose your room count and upgrade today.</p>
  </div>

  <!-- Room Count Input -->
  <div class="text-center mb-8">
    <label for="roomCount" class="block font-semibold text-gray-800 mb-3">Number of Rooms</label>
    <div class="flex items-center justify-center gap-4">
      <button (click)="decrementRooms()" mat-icon-button [disabled]="roomCount() <= 1">
        <mat-icon>remove</mat-icon>
      </button>
      <input
        id="roomCount"
        type="number"
        [value]="roomCount()"
        (change)="updateRoomCount($event)"
        min="1"
        max="1000"
        class="w-24 px-4 py-2 text-2xl text-center border-2 border-gray-300 rounded-lg focus:outline-none focus:border-blue-600"
      />
      <button (click)="incrementRooms()" mat-icon-button>
        <mat-icon>add</mat-icon>
      </button>
    </div>
    <p class="text-gray-600 mt-2">{{ tierDescription() }}</p>
  </div>

  <!-- Pricing Cards -->
  <div class="grid md:grid-cols-2 gap-8 mb-8">
    <!-- Trial Card -->
    <mat-card class="flex flex-col hover:shadow-lg transition-all duration-300">
      <mat-card-header class="mb-6">
        <mat-card-title class="text-2xl mb-1">Free Trial</mat-card-title>
        <mat-card-subtitle class="text-gray-500">No payment required</mat-card-subtitle>
      </mat-card-header>

      <mat-card-content class="flex-1 py-4">
        <div class="flex items-baseline gap-2 mb-6 justify-center">
          <span class="text-5xl font-bold text-blue-600">FREE</span>
          <span class="text-gray-500 ml-auto">30 days</span>
        </div>

        <div class="space-y-3">
          <div class="flex items-center gap-3 text-gray-800">
            <mat-icon class="text-green-500">check_circle</mat-icon>
            <span>30-day free trial</span>
          </div>
          <div class="flex items-center gap-3 text-gray-800">
            <mat-icon class="text-green-500">check_circle</mat-icon>
            <span>No card required</span>
          </div>
          <div class="flex items-center gap-3 text-gray-800">
            <mat-icon class="text-green-500">check_circle</mat-icon>
            <span>Full access to features</span>
          </div>
        </div>
      </mat-card-content>

      <mat-card-actions class="pt-6 border-t border-gray-200">
        <button 
          mat-raised-button 
          color="primary" 
          (click)="startTrial()" 
          [disabled]="isProcessing()"
          class="w-full"
        >
          @if (isProcessing()) {
            <mat-progress-spinner diameter="20" mode="indeterminate"></mat-progress-spinner>
          } @else {
            Start Free Trial
          }
        </button>
      </mat-card-actions>
    </mat-card>

    <!-- Monthly Card -->
    <mat-card class="flex flex-col border-2 border-blue-600 hover:shadow-lg transition-all duration-300 bg-gradient-to-br from-blue-50 to-white">
      <mat-card-header class="mb-6">
        <mat-card-title class="text-2xl mb-1">Monthly Subscription</mat-card-title>
        <mat-card-subtitle class="text-gray-500">Recurring billing in USD</mat-card-subtitle>
      </mat-card-header>

      <mat-card-content class="flex-1 py-4">
        <div class="flex items-baseline gap-2 justify-center mb-6">
          <span class="text-sm text-gray-500">$</span>
          <span class="text-5xl font-bold text-blue-600">{{ calculatedPrice() }}</span>
          <span class="text-gray-500 ml-auto">/month</span>
        </div>

        <div class="bg-gray-100 p-4 rounded-lg mb-6">
          <p class="text-center text-gray-700 font-semibold">{{ tierDescription() }}</p>
        </div>

        <div class="space-y-3">
          <div class="flex items-center gap-3 text-gray-800">
            <mat-icon class="text-green-500">check_circle</mat-icon>
            <span>Unlimited rooms</span>
          </div>
          <div class="flex items-center gap-3 text-gray-800">
            <mat-icon class="text-green-500">check_circle</mat-icon>
            <span>24/7 support</span>
          </div>
          <div class="flex items-center gap-3 text-gray-800">
            <mat-icon class="text-green-500">check_circle</mat-icon>
            <span>Automatic monthly billing</span>
          </div>
          <div class="flex items-center gap-3 text-gray-800">
            <mat-icon class="text-green-500">check_circle</mat-icon>
            <span>Full access to all features</span>
          </div>
        </div>
      </mat-card-content>

      <mat-card-actions class="pt-6 border-t border-gray-200">
        <button
          mat-raised-button
          color="accent"
          (click)="initiatePayment()"
          [disabled]="isProcessing()"
          class="w-full"
        >
          @if (isProcessing()) {
            <mat-progress-spinner diameter="20" mode="indeterminate"></mat-progress-spinner>
          } @else {
            Upgrade Now - ${{ calculatedPrice() }}/month
          }
        </button>
      </mat-card-actions>
    </mat-card>
  </div>

  <!-- Pricing Info -->
  <mat-card class="mb-8">
    <mat-card-header class="mb-6">
      <mat-card-title class="text-2xl">Pricing Tiers</mat-card-title>
    </mat-card-header>

    <mat-card-content>
      <div class="grid md:grid-cols-4 gap-4">
        <div class="border border-gray-200 rounded-lg p-4">
          <p class="font-semibold text-gray-900">0-10 Rooms</p>
          <p class="text-2xl font-bold text-blue-600 mt-2">$20</p>
          <p class="text-gray-600 text-sm mt-1">/month</p>
        </div>
        <div class="border border-gray-200 rounded-lg p-4">
          <p class="font-semibold text-gray-900">11-30 Rooms</p>
          <p class="text-2xl font-bold text-blue-600 mt-2">$30</p>
          <p class="text-gray-600 text-sm mt-1">/month</p>
        </div>
        <div class="border border-gray-200 rounded-lg p-4">
          <p class="font-semibold text-gray-900">31-35 Rooms</p>
          <p class="text-2xl font-bold text-blue-600 mt-2">$40</p>
          <p class="text-gray-600 text-sm mt-1">/month</p>
        </div>
        <div class="border border-gray-200 rounded-lg p-4">
          <p class="font-semibold text-gray-900">35+ Rooms</p>
          <p class="text-2xl font-bold text-blue-600 mt-2">$50</p>
          <p class="text-gray-600 text-sm mt-1">/month</p>
        </div>
      </div>
    </mat-card-content>
  </mat-card>

  <!-- Billing Info -->
  <mat-card>
    <mat-card-header class="mb-6">
      <mat-card-title class="text-2xl">How Billing Works</mat-card-title>
    </mat-card-header>

    <mat-card-content>
      <div class="grid md:grid-cols-2 gap-8">
        <div>
          <h3 class="text-lg font-semibold text-gray-900 mb-3">Trial Period</h3>
          <p class="text-gray-600 leading-relaxed">Get 30 days of free access without providing a payment method. After the trial ends, you'll need to upgrade to continue using the platform.</p>
        </div>

        <div>
          <h3 class="text-lg font-semibold text-gray-900 mb-3">Monthly Billing</h3>
          <p class="text-gray-600 leading-relaxed">Once you upgrade, you'll be charged monthly based on your room count tier. Charges are processed automatically on your billing date.</p>
        </div>

        <div>
          <h3 class="text-lg font-semibold text-gray-900 mb-3">Simple Pricing</h3>
          <p class="text-gray-600 leading-relaxed">All payments are in USD. Simply select your room count and we'll show you the monthly price for your tier.</p>
        </div>

        <div>
          <h3 class="text-lg font-semibold text-gray-900 mb-3">Secure Payment</h3>
          <p class="text-gray-600 leading-relaxed">We use Paystack for secure payment processing. Your card details are never stored on our servers.</p>
        </div>
      </div>
    </mat-card-content>
  </mat-card>
</div>
