<div>
  <h2 mat-dialog-title>
    <mat-icon inline class="align-middle">error_outline</mat-icon>
    {{ data.title || 'Validation Errors' }}
  </h2>

  <mat-dialog-content>
    <p>
      {{ data.message || 'Please fix the following errors before submitting:' }}
    </p>

    <mat-list>
      @for (control of data.invalidControls; track control) {
        <mat-list-item>
          <mat-icon matListItemIcon>warning</mat-icon>
          <div matListItemTitle>{{ formatFieldName(control) }}</div>
          <div matListItemLine>{{ formatFullPath(control) }}</div>
        </mat-list-item>
      }

      @if (data.invalidControls.length === 0) {
        <mat-list-item>
          <mat-icon matListItemIcon color="accent">check_circle</mat-icon>
          <div matListItemTitle>All fields are valid</div>
        </mat-list-item>
      }
    </mat-list>
  </mat-dialog-content>

  <mat-dialog-actions align="end">
    <button matButton="filled" color="primary" mat-dialog-close>
      Close
    </button>
  </mat-dialog-actions>
</div>
