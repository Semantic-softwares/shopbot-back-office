import{a as G,b as L}from"./chunk-E5GOXSYX.js";import{a as z}from"./chunk-ZLPZH3LN.js";import{a as B,b as N,c as $,e as j}from"./chunk-2OS3A6OW.js";import{c as A}from"./chunk-45N66JJF.js";import{a as q,b as k}from"./chunk-USY657EX.js";import"./chunk-V6BWQRYA.js";import{a as O}from"./chunk-B5BMUNHO.js";import{g as w,i as D,m as M,o as P,p as F}from"./chunk-2NDSKVKU.js";import{Bb as b,Cb as C,Fb as v,Gb as f,Hb as s,Ib as i,Jb as e,Kb as _,Tb as x,Wa as E,Za as r,bc as I,ea as g,gc as t,hc as p,ic as l,jb as R,pb as u,tc as h,vc as c,xc as m,yc as T}from"./chunk-EV5SF5GC.js";import"./chunk-EQDQRRRY.js";var H=(o,d,n)=>({"bg-green-100 text-green-800":o,"bg-yellow-100 text-yellow-800":d,"bg-red-100 text-red-800":n}),U=(o,d)=>d._id,J=(o,d)=>d.productId;function K(o,d){if(o&1&&(i(0,"div",13)(1,"mat-icon",23),t(2),e(),i(3,"span",9),t(4),e(),i(5,"span",24),t(6),c(7,"date"),e(),i(8,"span",25),t(9),e()()),o&2){let n=d.$implicit;r(),s("ngClass",n.color),r(),p(n.icon),r(2),p(n.name),r(2),p(m(7,5,n.updatedOn,"short")),r(3),p(n.title)}}function W(o,d){if(o&1&&(i(0,"span"),t(1),c(2,"currency"),e()),o&2){let n=x().$implicit,a=x(4);r(),l("(",m(2,1,n.price,a.orderResource.value().store.currency),")")}}function X(o,d){if(o&1&&(i(0,"div",30),t(1),u(2,W,3,4,"span",31),t(3),e()),o&2){let n=d.$implicit;r(),l(" ",n.name," "),r(),s("ngIf",n.price),r(),l(" x",n.quantity," ")}}function Y(o,d){if(o&1&&v(0,X,4,3,"div",30,U),o&2){let n=x().$implicit;f(n.options)}}function Z(o,d){o&1&&(i(0,"span",29),t(1,"-"),e())}function ee(o,d){if(o&1&&(i(0,"tr",17)(1,"td",26),_(2,"img",27),e(),i(3,"td",28),t(4),e(),i(5,"td",26),b(6,Y,2,0)(7,Z,2,0,"span",29),e(),i(8,"td",26),t(9),e(),i(10,"td",26),t(11),c(12,"currency"),e(),i(13,"td",28),t(14),e()()),o&2){let n=d.$implicit,a=x(2);r(2),s("src",n.photos[0],E),r(2),p(n.name),r(2),C((n.options==null?null:n.options.length)>0?6:7),r(3),p(n.quantity),r(2),p(m(12,6,n.price,a.orderResource.value().store.currency)),r(3),l(" ",a.getProductSubtotal(n,a.orderResource.value().store.currency)," ")}}function te(o,d){if(o&1&&(i(0,"div",20)(1,"span"),t(2,"Discount"),e(),i(3,"span"),t(4),c(5,"currency"),e()()),o&2){let n=x(2);r(4),l("-",m(5,1,n.orderResource.value().discount,n.orderResource.value().store.currency))}}function ie(o,d){if(o&1&&(i(0,"div",2)(1,"div",3)(2,"span",4),t(3),e()(),i(4,"div",5)(5,"mat-card",6)(6,"mat-card-title",7),t(7,"Order Info"),e(),i(8,"mat-card-content")(9,"div",8)(10,"div")(11,"span",9),t(12,"Order Ref:"),e(),t(13),e(),i(14,"div")(15,"span",9),t(16,"Order Date:"),e(),t(17),c(18,"date"),e(),i(19,"div")(20,"span",9),t(21,"Payment:"),e(),t(22),e(),i(23,"div")(24,"span",9),t(25,"Payment Status:"),e(),t(26),e(),i(27,"div")(28,"span",9),t(29,"Order Type:"),e(),t(30),e(),i(31,"div")(32,"span",9),t(33,"Delivery Type:"),e(),t(34),e()()()(),i(35,"mat-card",6)(36,"mat-card-title",7),t(37,"Customer Info"),e(),i(38,"mat-card-content")(39,"div",8)(40,"div")(41,"span",9),t(42,"Name:"),e(),t(43),e(),i(44,"div")(45,"span",9),t(46,"Phone:"),e(),t(47),e(),i(48,"div")(49,"span",9),t(50,"Email:"),e(),t(51),e(),i(52,"div")(53,"span",9),t(54,"Address:"),e(),t(55),e()()()()(),i(56,"div",10)(57,"mat-card",11)(58,"mat-card-title",7),t(59,"Order Status Timeline"),e(),i(60,"mat-card-content")(61,"div",12),v(62,K,10,8,"div",13,U),e()()()(),i(64,"div",10)(65,"mat-card",11)(66,"mat-card-title",7),t(67,"Order Items"),e(),i(68,"mat-card-content")(69,"div",14)(70,"table",15)(71,"thead")(72,"tr")(73,"th",16),t(74,"Photo"),e(),i(75,"th",16),t(76,"Product"),e(),i(77,"th",16),t(78,"Options"),e(),i(79,"th",16),t(80,"Qty"),e(),i(81,"th",16),t(82,"Price"),e(),i(83,"th",16),t(84,"Subtotal"),e()()(),i(85,"tbody"),v(86,ee,15,9,"tr",17,J),e()()()()()(),i(88,"div",18)(89,"mat-card",6)(90,"mat-card-title",7),t(91,"Order Summary"),e(),i(92,"mat-card-content")(93,"div",19)(94,"div",20)(95,"span"),t(96,"Subtotal"),e(),i(97,"span"),t(98),c(99,"currency"),e()(),i(100,"div",20)(101,"span"),t(102,"Service Fee"),e(),i(103,"span"),t(104),c(105,"currency"),e()(),i(106,"div",20)(107,"span"),t(108,"Shipping Fee"),e(),i(109,"span"),t(110),c(111,"currency"),e()(),u(112,te,6,4,"div",21),i(113,"div",22)(114,"span"),t(115,"Total"),e(),i(116,"span"),t(117),c(118,"currency"),e()()()()()()()),o&2){let n,a=x();r(2),s("ngClass",h(32,H,a.orderResource.value().category==="Complete",a.orderResource.value().category==="Pending",a.orderResource.value().category==="Cancel")),r(),l(" ",a.orderResource.value().category," "),r(10),l(" ",a.orderResource.value().reference),r(4),l(" ",m(18,17,a.orderResource.value().createdAt,"medium")),r(5),l(" ",a.orderResource.value().payment),r(4),l(" ",a.orderResource.value().paymentStatus),r(4),l(" ",a.orderResource.value().orderType),r(4),l(" ",a.orderResource.value().deliveryType),r(9),l(" ",a.orderResource.value().user.name),r(4),l(" ",a.orderResource.value().user.phoneNumber),r(4),l(" ",a.orderResource.value().user.email),r(4),l(" ",(n=a.orderResource.value().shipping)==null?null:n.name),r(7),f(a.orderResource.value().status),r(24),f(a.orderResource.value().cart.products),r(12),p(m(99,20,a.orderResource.value().subTotal,a.orderResource.value().store.currency)),r(6),p(m(105,23,a.orderResource.value().serviceFee,a.orderResource.value().store.currency)),r(6),p(m(111,26,a.orderResource.value().shippingFee,a.orderResource.value().store.currency)),r(2),s("ngIf",a.orderResource.value().discount),r(5),p(m(118,29,a.orderResource.value().total,a.orderResource.value().store.currency))}}function ne(o,d){o&1&&(i(0,"div",32),_(1,"mat-spinner",33),e())}var Q=class o{route=g(O);orderService=g(z);orderResource=A({params:()=>({id:this.route.snapshot.paramMap.get("id")}),stream:({params:d})=>this.orderService.getOrder(d.id)});getProductSubtotal(d,n){let a=(d.price||0)*(d.quantity||0),y=(d.options||[]).reduce((V,S)=>V+(S.price||0)*(S.quantity||0),0);return(a+y).toLocaleString(void 0,{style:"currency",currency:n||"NGN",currencyDisplay:"symbol"})}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=R({type:o,selectors:[["receipts-details"]],decls:3,vars:2,consts:[["loading",""],["class","max-w-4xl mx-auto my-10 p-0 md:p-6 bg-white rounded-xl shadow-lg border border-gray-100",4,"ngIf","ngIfElse"],[1,"max-w-4xl","mx-auto","my-10","p-0","md:p-6","bg-white","rounded-xl","shadow-lg","border","border-gray-100"],[1,"flex","flex-col","md:flex-row","md:items-center","gap-4","border-b","pb-6","px-6","pt-6"],[1,"px-4","py-1","rounded-full","text-xs","font-semibold","shadow",3,"ngClass"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6","px-6","py-6"],[1,"!shadow-none","!border","!border-gray-200","!rounded-lg"],[1,"!text-base","!font-semibold","mb-2"],[1,"space-y-2","text-sm"],[1,"font-semibold"],[1,"px-6"],[1,"mb-6","!shadow-none","!border","!border-gray-200","!rounded-lg"],[1,"flex","flex-col","gap-3"],[1,"flex","items-center","gap-3"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"px-2","py-2","text-left","text-xs","font-medium","text-gray-500","uppercase"],[1,"hover:bg-gray-50","transition"],[1,"px-6","pb-6"],[1,"flex","flex-col","gap-2","text-sm"],[1,"flex","justify-between"],["class","flex justify-between",4,"ngIf"],[1,"flex","justify-between","font-bold","text-lg","mt-2"],[1,"text-lg","!text-base",3,"ngClass"],[1,"text-xs","text-gray-500"],[1,"ml-2","text-xs","text-gray-400"],[1,"px-2","py-2"],["alt","product",1,"w-14","h-14","object-cover","rounded","shadow","border",3,"src"],[1,"px-2","py-2","font-semibold"],[1,"text-gray-400","text-xs"],[1,"text-xs"],[4,"ngIf"],[1,"flex","items-center","justify-center","min-h-[300px]"],["diameter","40"]],template:function(n,a){if(n&1&&u(0,ie,119,36,"div",1)(1,ne,2,0,"ng-template",null,0,T),n&2){let y=I(2);s("ngIf",a.orderResource.hasValue())("ngIfElse",y)}},dependencies:[F,w,D,P,M,j,B,$,N,k,q,L,G],styles:["[_nghost-%COMP%]{display:block}"]})};export{Q as ReceiptsDetailsComponent};
