import{a as Xe}from"./chunk-7EG3WBGC.js";import{b as We}from"./chunk-HY4LTOAV.js";import"./chunk-4G2PTLMY.js";import"./chunk-EIZRJIIE.js";import{a as et,b as tt}from"./chunk-PHUMCDCS.js";import"./chunk-XXOGWVW6.js";import"./chunk-R4SEO7WU.js";import{a as Qe}from"./chunk-52P4PDQN.js";import{a as T}from"./chunk-LQ4BVWLT.js";import{a as Ze}from"./chunk-VPPMXXDW.js";import"./chunk-YK4A772F.js";import"./chunk-HXICWX3M.js";import"./chunk-4YIJHWNC.js";import{a as Je,b as Ke}from"./chunk-EPNSEEH4.js";import"./chunk-CGDRKYIW.js";import"./chunk-CTT4BYCX.js";import{a as W}from"./chunk-V7ZBVJLR.js";import{a as $}from"./chunk-T4ACDKLD.js";import"./chunk-5QCN73SK.js";import{b as $e}from"./chunk-NQRUH5DO.js";import"./chunk-QEF3JOQ3.js";import"./chunk-LSROOOYO.js";import"./chunk-7NDZPDVA.js";import{a as qe,b as X,c as Z}from"./chunk-OWLRGWNJ.js";import{$ as Y,Y as z,Z as L}from"./chunk-OS2CYUJN.js";import{a as je,b as He,c as Ge,d as Ve,f as ze,g as l,j as Le,k as Ye}from"./chunk-WFEXX4HI.js";import{A as Be,B as Ue,g as G,r as V,u as ke,v as Ne,y as Ae,z as Fe}from"./chunk-U2P6GFP5.js";import{$ as ve,$a as a,B as A,Ba as Pe,E,Eb as Te,Gb as y,Hb as x,J as ne,Ja as Me,L as F,Mb as m,Nb as c,Ob as d,Pb as De,Qb as se,Rb as U,Sb as ae,Tc as s,U as re,V as fe,Wb as j,X as S,Y as he,Yc as ce,Zc as g,_b as O,ac as b,ca as f,cd as Ie,db as Se,ea as o,fa as be,g as ue,gb as we,id as H,ja as w,jb as Re,jd as P,k as me,ka as R,lc as pe,m as D,mc as Ee,n as N,na as _e,oa as Ce,ob as v,pc as u,qb as I,qc as _,r as M,sa as ye,sb as oe,tb as Oe,va as h,wa as xe,ya as ie,z as te,za as B}from"./chunk-IQSYHSID.js";import"./chunk-EQDQRRRY.js";var le=()=>{let n=o(l),t=o($),e=o(W);return t.currentUser.pipe(M(r=>r?!0:(e.open("Please log in first","Close",{duration:3e3}),n.navigate(["/auth/login"]),!1)))};var nt=()=>{let n=o(l),t=o($),e=o(W);return t.currentUser.pipe(M(r=>r?(e.open("You are already logged in","Close",{duration:3e3,horizontalPosition:"end",verticalPosition:"top"}),n.navigate(["/menu/menu"]),!1):!0))};var ge=(n,t)=>{let e=o(T);return e.getSubscriptionStatus().pipe(E(r=>r.status===404?(console.log("No subscription found for store, creating trial subscription..."),e.createTrial().pipe(E(i=>(console.error("Failed to create trial subscription:",i),D(null))))):(console.error("Failed to load subscription:",r),D(null))))};var rt=(n,t)=>{let e=o(l),i=o(T).getCachedSubscription();return i?i.status==="EXPIRED"||i.status==="PAST_DUE"||i.status==="CANCELLED"?(e.navigate(["/pricing/pricing"]),!1):i.status==="TRIAL"||i.status==="ACTIVE":(e.navigate(["/pricing/pricing"]),!1)};var it=[{path:"",pathMatch:"full",redirectTo:"website"},{path:"",loadChildren:()=>import("./chunk-ACGXPMLH.js").then(n=>n.WEBSITE_ROUTES)},{path:"auth",loadChildren:()=>import("./chunk-SFGYZZXI.js").then(n=>n.AUTH_ROUTES),canActivate:[nt]},{path:"pricing",loadComponent:()=>import("./chunk-UQB4KPUV.js").then(n=>n.PricingShellComponent),canActivate:[le],resolve:{subscription:ge},children:[{path:"",redirectTo:"pricing",pathMatch:"full"},{path:"pricing",loadComponent:()=>import("./chunk-L7QO7KOS.js").then(n=>n.PricingComponent)},{path:"billing",loadComponent:()=>import("./chunk-X7LGKZPE.js").then(n=>n.BillingComponent)},{path:"payment-callback",loadComponent:()=>import("./chunk-BR6BMKHA.js").then(n=>n.PaymentCallbackComponent)}]},{path:"menu",loadChildren:()=>import("./chunk-CXC5E6ET.js").then(n=>n.MENU_ROUTES),canActivate:[le,rt],resolve:{role:Xe,subscription:ge}}];var bt="@",_t=(()=>{class n{doc;delegate;zone;animationType;moduleImpl;_rendererFactoryPromise=null;scheduler=null;injector=o(_e);loadingSchedulerFn=o(Ct,{optional:!0});_engine;constructor(e,r,i,p,C){this.doc=e,this.delegate=r,this.zone=i,this.animationType=p,this.moduleImpl=C}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-2M4ZS4CP.js").then(i=>i),r;return this.loadingSchedulerFn?r=this.loadingSchedulerFn(e):r=e(),r.catch(i=>{throw new he(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:p})=>{this._engine=i(this.animationType,this.doc);let C=new p(this.delegate,this._engine,this.zone);return this.delegate=C,C})}createRenderer(e,r){let i=this.delegate.createRenderer(e,r);if(i.\u0275type===0)return i;typeof i.throwOnSyntheticProps=="boolean"&&(i.throwOnSyntheticProps=!1);let p=new de(i);return r?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(C=>{let vt=C.createRenderer(e,r);p.use(vt),this.scheduler??=this.injector.get(xe,null,{optional:!0}),this.scheduler?.notify(10)}).catch(C=>{p.use(i)}),p}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}componentReplaced(e){this._engine?.flush(),this.delegate.componentReplaced?.(e)}static \u0275fac=function(r){Re()};static \u0275prov=ve({token:n,factory:n.\u0275fac})}return n})(),de=class{delegate;replay=[];\u0275type=1;constructor(t){this.delegate=t}use(t){if(this.delegate=t,this.replay!==null){for(let e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,r,i){this.delegate.insertBefore(t,e,r,i)}removeChild(t,e,r,i){this.delegate.removeChild(t,e,r,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,r,i){this.delegate.setAttribute(t,e,r,i)}removeAttribute(t,e,r){this.delegate.removeAttribute(t,e,r)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,r,i){this.delegate.setStyle(t,e,r,i)}removeStyle(t,e,r){this.delegate.removeStyle(t,e,r)}setProperty(t,e,r){this.shouldReplay(e)&&this.replay.push(i=>i.setProperty(t,e,r)),this.delegate.setProperty(t,e,r)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,r,i){return this.shouldReplay(e)&&this.replay.push(p=>p.listen(t,e,r,i)),this.delegate.listen(t,e,r,i)}shouldReplay(t){return this.replay!==null&&t.startsWith(bt)}},Ct=new f("");function ot(n="animations"){return Se("NgAsyncAnimations"),be([{provide:we,useFactory:()=>new _t(o(Ce),o(ke),o(ye),n)},{provide:Me,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var st=(n,t)=>{let r=o($e).getItem("auth_token"),i=o(Ze);if(r){let p=n.clone({headers:n.headers.set("Authorization",`Bearer ${r}`).set("storeId",i.selectedStore()?._id||"")});return t(p)}return t(n)};var at=(n,t)=>{let e=o(l);return t(n).pipe(E(r=>r.status===402?(e.navigate(["/billing"],{queryParams:{reason:"subscription-expired"}}),N(()=>r)):r.status===403&&r.error?.code==="SUBSCRIPTION_PAST_DUE"?(e.navigate(["/billing"],{queryParams:{reason:"past-due"}}),N(()=>r)):N(()=>r)))};function xt(n,t){n&1&&ae(0,"div",3)}function Pt(n,t){n&1&&(se(0,"div",4),ae(1,"div",5),U())}var Mt={min:8,max:100,speed:200,debounceTime:0,trickleSpeed:300,fadeOutSpeed:50,relative:!1,flat:!1,spinner:!1,direction:"ltr+",spinnerPosition:"right",trickleFunc:n=>n>=0&&n<20?10:n>=20&&n<50?4:n>=50&&n<80?2:n>=80&&n<99?.5:0},pt=new f("NG_PROGRESS_OPTIONS",{providedIn:"root",factory:()=>Mt});var q=(function(n){return n.START="START",n.COMPLETE="COMPLETE",n})(q||{});function St(n){let t=P(n)||0;return t<100&&t>=0?t:0}function wt(n){let t=P(n)||100;return t>0&&t<=100?t:100}var J=(()=>{class n{constructor(){this.defaultOptions=o(pt),this.min=g(this.defaultOptions.min,{transform:St}),this.max=g(this.defaultOptions.max,{transform:wt}),this.speed=g(this.defaultOptions.speed,{transform:P}),this.trickleSpeed=g(this.defaultOptions.trickleSpeed,{transform:P}),this.fadeOutSpeed=g(this.defaultOptions.fadeOutSpeed,{transform:P}),this.debounceTime=g(this.defaultOptions.debounceTime,{transform:P}),this.trickleFunc=g(this.defaultOptions.trickleFunc),this.config=s(()=>({max:this.max(),min:this.min(),speed:this.speed(),trickleSpeed:this.trickleSpeed(),fadeOutSpeed:this.fadeOutSpeed(),trickleFunc:this.trickleFunc(),debounceTime:this.debounceTime()})),this._progress=h(0),this._active=h(!1),this.active=s(()=>this._active()),this.progress=s(()=>this._progress()),this.started=ce(),this.completed=ce(),this._trigger=new ue(null);let e;ie(r=>{let i=this.config();B(()=>{e=this._trigger.pipe(A(p=>!!p),re(p=>p===q.START?te(i.debounceTime).pipe(re(()=>this.onTrickling(i))):this.onComplete(i))).subscribe(),r(()=>e?.unsubscribe())})})}start(){this.started.emit(),this._trigger.next(q.START),this._active.set(!0)}complete(){this._trigger.next(q.COMPLETE)}inc(e){let r=this.progress();this.active()?(typeof e!="number"&&(e=this.config().trickleFunc(r)),this.set(r+e)):this.start()}set(e){this._active.set(!0),this._progress.set(this.clamp(e))}clamp(e){return Math.max(this.config().min,Math.min(this.config().max,e))}onTrickling(e){return this.active()||this.set(e.min),te(0,e.trickleSpeed).pipe(S(()=>this.inc()))}onComplete(e){return this.active()?(this.completed.emit(),D({}).pipe(S(()=>this._progress.set(100)),ne(e.speed+140),S(()=>this._active.set(!1)),ne(e.fadeOutSpeed),F(()=>this._progress.set(0)),fe(Ke(this.started)))):me}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=I({type:n,selectors:[["","ngProgressRef",""]],inputs:{min:[1,"min"],max:[1,"max"],speed:[1,"speed"],trickleSpeed:[1,"trickleSpeed"],fadeOutSpeed:[1,"fadeOutSpeed"],debounceTime:[1,"debounceTime"],trickleFunc:[1,"trickleFunc"]},outputs:{started:"started",completed:"completed"},exportAs:["ngProgressRef"]})}}return n})(),ct=(()=>{class n{constructor(){this.config=o(pt),this.progressRef=o(J,{host:!0,self:!0}),this.flat=g(this.config.flat,{transform:H}),this.spinner=g(this.config.spinner,{transform:H}),this.relative=g(this.config.relative,{transform:H}),this.spinnerPosition=g(this.config.spinnerPosition),this.direction=g(this.config.direction),this.progressTransform=s(()=>`translate3d(${this.progressRef.progress()}%,0,0)`)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=v({type:n,selectors:[["ng-progress"]],hostAttrs:["role","progressbar"],hostVars:12,hostBindings:function(r,i){r&2&&(Te("spinnerPosition",i.spinnerPosition())("direction",i.direction()),pe("--_ng-progress-speed",i.progressRef.speed()+"ms")("--_ng-progress-fade-out-speed",i.progressRef.fadeOutSpeed()+"ms"),Ee("ng-progress-bar",!0)("ng-progress-bar-active",i.progressRef.active())("ng-progress-bar-relative",i.relative()))},inputs:{flat:[1,"flat"],spinner:[1,"spinner"],relative:[1,"relative"],spinnerPosition:[1,"spinnerPosition"],direction:[1,"direction"]},exportAs:["ngProgress"],features:[oe([{directive:J,inputs:["min","min","max","max","speed","speed","trickleSpeed","trickleSpeed","fadeOutSpeed","fadeOutSpeed","debounceTime","debounceTime"],outputs:["started","started","completed","completed"]}])],decls:5,vars:4,consts:[[1,"ng-progress-bar-wrapper"],[1,"ng-bar-placeholder"],[1,"ng-bar"],[1,"ng-meteor"],[1,"ng-spinner"],[1,"ng-spinner-icon"]],template:function(r,i){r&1&&(se(0,"div",0)(1,"div",1)(2,"div",2),y(3,xt,1,0,"div",3),U()(),y(4,Pt,2,0,"div",4),U()),r&2&&(a(2),pe("transform",i.progressTransform()),a(),x(i.flat()?-1:3),a(),x(i.spinner()?4:-1))},styles:['[_nghost-%COMP%]{--_ng-progress-thickness: var(--ng-progress-thickness, 2);--_ng-progress-thickness-px: calc(var(--_ng-progress-thickness) * 1px);--_ng-progress-thickness-add-one: calc(var(--_ng-progress-thickness) + 1);--_ng-progress-meteor-position-px: calc(var(--_ng-progress-thickness-add-one) * -1px);--_ng-progress-color: var(--ng-progress-color, #1B95E0);--_ng-progress-holder-color: var(--ng-progress-holder-color, transparent);--_ng-progress-ease: var(--ng-progress-ease, linear);--_ng-progress-spinner-thickness: var(--ng-progress-spinner-thickness, 2);--_ng-progress-spinner-thickness-px: calc(var(--_ng-progress-spinner-thickness) * 1px);--_ng-progress-spinner-spacing: var(--ng-progress-spinner-spacing, 15);--_ng-progress-spinner-spacing-px: calc(var(--_ng-progress-spinner-spacing) * 1px);--_ng-progress-spinner-size: var(--ng-progress-spinner-size, 18);--_ng-progress-spinner-size-px: calc(var(--_ng-progress-spinner-size) * 1px);--_ng-progress-spinner-speed: var(--ng-progress-spinner-speed, .25s);z-index:999999;pointer-events:none}.ng-progress-bar-active[_nghost-%COMP%]   .ng-progress-bar-wrapper[_ngcontent-%COMP%]{filter:alpha(opacity=100);opacity:1;transition:none}.ng-progress-bar-active[_nghost-%COMP%]   .ng-bar[_ngcontent-%COMP%]{transition:all var(--_ng-progress-speed) var(--_ng-progress-ease)}.ng-progress-bar-relative[_nghost-%COMP%]   .ng-progress-bar-wrapper[_ngcontent-%COMP%]{position:relative}[direction="ltr+"][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%], [direction=ltr-][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%]{rotate:calc(var(--_ng-progress-thickness-add-one) * 1deg)}[direction="ltr+"][_nghost-%COMP%]   .ng-bar[_ngcontent-%COMP%], [direction="rtl+"][_nghost-%COMP%]   .ng-bar[_ngcontent-%COMP%]{margin-left:-100%}[direction="ltr+"][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%], [direction="rtl+"][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%]{right:0}[direction="ltr+"][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%], [direction=rtl-][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%]{top:var(--_ng-progress-meteor-position-px)}[direction=ltr-][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%], [direction="rtl+"][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%]{bottom:var(--_ng-progress-meteor-position-px)}[direction=ltr-][_nghost-%COMP%]   .ng-bar-placeholder[_ngcontent-%COMP%], [direction="rtl+"][_nghost-%COMP%]   .ng-bar-placeholder[_ngcontent-%COMP%]{transform:rotate(180deg)}[direction=ltr-][_nghost-%COMP%]   .ng-spinner-icon[_ngcontent-%COMP%], [direction="rtl+"][_nghost-%COMP%]   .ng-spinner-icon[_ngcontent-%COMP%]{animation-direction:reverse}[direction="rtl+"][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%], [direction=rtl-][_nghost-%COMP%]   .ng-meteor[_ngcontent-%COMP%]{rotate:calc(var(--_ng-progress-thickness-add-one) * -1deg)}[_nghost-%COMP%]   .ng-spinner[_ngcontent-%COMP%]{top:var(--_ng-progress-spinner-spacing-px)}[spinnerPosition=left][_nghost-%COMP%]   .ng-spinner[_ngcontent-%COMP%]{left:var(--_ng-progress-spinner-spacing-px)}[spinnerPosition=right][_nghost-%COMP%]   .ng-spinner[_ngcontent-%COMP%]{right:var(--_ng-progress-spinner-spacing-px)}.ng-progress-bar-wrapper[_ngcontent-%COMP%]{position:fixed;z-index:999999;top:0;left:0;width:100%;transform:scale(1);filter:alpha(opacity=0);opacity:0;transition:opacity var(--_ng-progress-fade-out-speed) linear}.ng-bar-placeholder[_ngcontent-%COMP%]{position:absolute;height:var(--_ng-progress-thickness-px);width:100%}.ng-bar[_ngcontent-%COMP%]{width:100%;height:100%;transform:translate(-100%,0,0);background:var(--_ng-progress-color)}.ng-meteor[_ngcontent-%COMP%]{display:block;position:absolute;width:100px;height:100%;opacity:1;box-shadow:0 0 10px var(--_ng-progress-color),0 0 5px var(--_ng-progress-color)}.ng-spinner[_ngcontent-%COMP%]{position:absolute;display:block;z-index:1031;top:10px}.ng-spinner-icon[_ngcontent-%COMP%]{box-sizing:border-box;animation:_ngcontent-%COMP%_spinner-animation var(--_ng-progress-spinner-speed) linear infinite;border-style:solid;border-color:transparent;border-radius:50%;border-top-color:var(--_ng-progress-color);border-left-color:var(--_ng-progress-color);width:var(--_ng-progress-spinner-size-px);height:var(--_ng-progress-spinner-size-px);border-width:var(--_ng-progress-spinner-thickness-px)}@keyframes _ngcontent-%COMP%_spinner-animation{0%{transform:rotate(0)}to{transform:rotate(360deg)}}'],changeDetection:0})}}return n})();var Rt=new f("NG_PROGRESS_HTTP_OPTIONS",{providedIn:"root",factory:()=>null});var Ot=new f("NgProgressHttpCounter",{providedIn:"root",factory:()=>h(0)});function dt(n,t){let e=o(Rt),r=o(Ot);return n.headers.has("ignoreProgressBar")?t(n.clone({headers:n.headers.delete("ignoreProgressBar")})):e&&Tt(n,e)?t(n):B(()=>(r.set(r()+1),t(n).pipe(F(()=>{r.set(r()-1)}))))}function Tt(n,t){let e=n.url.toLowerCase();return t.matcher&&t.silentApis?.length?gt(e,t.matcher)&&lt(e,t.silentApis):t.silentApis?.length?lt(e,t.silentApis):t.matcher?gt(e,t.matcher):!1}function lt(n,t){return!!t.find(e=>n.includes(e.toLowerCase()))}function gt(n,t){return!!n.match(t)}var ut={providers:[Ie({eventCoalescing:!0}),Le(it,Ye()),ot(),We(),{provide:qe,useValue:{fontSet:"material-symbols-outlined"}},Ae(Ue(),Be(),Fe([st,at,dt])),tt(et())]};var Dt={minDuration:0,startEvents:[je],completeEvents:[He,Ge,Ve]},Et=new f("NG_PROGRESS_ROUTER_OPTIONS",{providedIn:"root",factory:()=>Dt});function mt(n,t){return t.some(e=>n instanceof e)}var It=(()=>{class n{constructor(){this.router=o(l),this.config=o(Et),this.progressRef=o(J,{host:!0,self:!0});let e;this.router.events.pipe(A(r=>mt(r,[...this.config.startEvents,...this.config.completeEvents])),M(r=>mt(r,this.config.startEvents)),S(r=>{clearTimeout(e),r?this.progressRef.start():e=setTimeout(()=>{this.progressRef.complete()},this.config.minDuration)}),Je()).subscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=I({type:n})}}return n})(),ft=(()=>{class n extends It{static{this.\u0275fac=(()=>{let e;return function(i){return(e||(e=Pe(n)))(i||n)}})()}static{this.\u0275dir=I({type:n,selectors:[["ng-progress","ngProgressRouter",""]],features:[Oe]})}}return n})();function Ft(n,t){if(n&1){let e=j();c(0,"div",0)(1,"div",1)(2,"div",0)(3,"mat-icon",2),u(4),d()(),c(5,"div",3)(6,"strong",0),u(7),d(),c(8,"p",0),u(9),d()(),c(10,"div",4)(11,"button",5),O("click",function(){w(e);let i=b();return R(i.upgradeTrial())}),u(12," Upgrade Now "),d(),c(13,"button",6),O("click",function(){w(e);let i=b();return R(i.closeBanner())}),c(14,"mat-icon",7),u(15,"close"),d()()()()()}if(n&2){let e=b();m("ngClass","px-4 py-3  bg-white flex items-center justify-between  gap-2  "+e.bannerClass()),a(2),m("ngClass","flex items-center justify-center w-8 h-8 rounded-full flex-shrink-0 "+(e.bannerClass()==="info"?"text-cyan-600 bg-cyan-100":e.bannerClass()==="warning"?"text-orange-600 bg-orange-100":"text-red-600 bg-red-100")),a(2),_(e.bannerIcon()),a(2),m("ngClass","block m-0 mb-1 text-sm font-semibold "+(e.bannerClass()==="info"?"text-cyan-900":e.bannerClass()==="warning"?"text-orange-900":"text-red-900")),a(),_(e.bannerTitle()),a(),m("ngClass","m-0 text-xs leading-snug "+(e.bannerClass()==="info"?"text-cyan-900":e.bannerClass()==="warning"?"text-orange-900":"text-red-900 font-medium")),a(),_(e.bannerMessage())}}var K=class n{router=o(l);featureGatingService=o(Qe);dismissedBanner=h(!1);isTrialActive=this.featureGatingService.isTrialActive;trialDaysRemaining=this.featureGatingService.trialDaysRemaining;showBanner=s(()=>!this.dismissedBanner()&&this.isTrialActive());bannerClass=s(()=>{let t=this.trialDaysRemaining();return t<=1?"critical":t<=3||t<=7?"warning":"info"});bannerIcon=s(()=>{let t=this.trialDaysRemaining();return t<=1?"priority_high":t<=3?"warning":"info"});bannerTitle=s(()=>{let t=this.trialDaysRemaining();return t===0?"Trial Ended!":t===1?"Trial Ends Tomorrow":t<=3?"Trial Ending Soon!":"Free Trial Active"});bannerMessage=s(()=>{let t=this.trialDaysRemaining();return t===0?"Your free trial has ended. Upgrade now to continue using ShopBot and managing your business.":t===1?"Your free trial ends tomorrow. Upgrade now to continue uninterrupted service.":`You have ${t} days remaining in your free trial. Upgrade now to maintain continuous access to all features.`});upgradeTrial(){this.router.navigate(["/menu/hms/settings/hotel-settings/billing"])}closeBanner(){this.dismissedBanner.set(!0)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=v({type:n,selectors:[["app-trial-warning-banner"]],decls:1,vars:1,consts:[[3,"ngClass"],[1,"flex","items-center","gap-3","w-full","flex-wrap"],[1,"text-sm"],[1,"flex-1","min-w-[180px]"],[1,"flex","items-center","gap-1","flex-shrink-0"],["matButton","outlined","color","primary",1,"whitespace-nowrap",3,"click"],["mat-icon-button","",1,"w-8","h-8",3,"click"],[1,"text-gray-400","hover:text-gray-600"]],template:function(e,r){e&1&&y(0,Ft,16,7,"div",0),e&2&&x(r.showBanner()?0:-1)},dependencies:[V,G,Y,L,z,Z,X],encapsulation:2})};function Bt(n,t){if(n&1){let e=j();c(0,"div",0)(1,"div",1)(2,"div",0)(3,"mat-icon",2),u(4),d()(),c(5,"div",3)(6,"strong",0),u(7),d(),c(8,"p",0),u(9),d()(),c(10,"div",4)(11,"button",5),O("click",function(){w(e);let i=b();return R(i.manageBilling())}),u(12," Manage Billing "),d(),c(13,"button",6),O("click",function(){w(e);let i=b();return R(i.closeBanner())}),c(14,"mat-icon",7),u(15,"close"),d()()()()()}if(n&2){let e=b();m("ngClass","px-4 py-3  bg-white flex items-center justify-between  gap-2  "+e.bannerClass()),a(2),m("ngClass","flex items-center justify-center w-8 h-8 rounded-full flex-shrink-0 "+(e.bannerClass()==="info"?"text-cyan-600 bg-cyan-100":e.bannerClass()==="warning"?"text-orange-600 bg-orange-100":"text-red-600 bg-red-100")),a(2),_(e.bannerIcon()),a(2),m("ngClass","block m-0 mb-1 text-sm font-semibold "+(e.bannerClass()==="info"?"text-cyan-900":e.bannerClass()==="warning"?"text-orange-900":"text-red-900")),a(),_(e.bannerTitle()),a(),m("ngClass","m-0 text-xs leading-snug "+(e.bannerClass()==="info"?"text-cyan-900":e.bannerClass()==="warning"?"text-orange-900":"text-red-900 font-medium")),a(),_(e.bannerMessage())}}var Q=class n{router=o(l);subscriptionService=o(T);dismissedBanner=h(!1);subscription=this.subscriptionService.getSubscriptionSignal();daysUntilRenewal=s(()=>{let t=this.subscription();if(!t||t.status!=="ACTIVE"||!t.nextBillingDate)return null;let e=new Date,r=new Date(t.nextBillingDate),i=Math.ceil((r.getTime()-e.getTime())/(1e3*60*60*24));return i>0&&i<=7?i:null});showBanner=s(()=>!this.dismissedBanner()&&this.daysUntilRenewal()!==null);bannerClass=s(()=>{let t=this.daysUntilRenewal();return t===null?"":t<=1?"critical":t<=3?"warning":"info"});bannerIcon=s(()=>{let t=this.daysUntilRenewal();return t===null?"":t<=1?"priority_high":t<=3?"warning":"notifications_active"});bannerTitle=s(()=>{let t=this.daysUntilRenewal();return t===null?"":t===0?"Subscription Renews Today!":t===1?"Subscription Renews Tomorrow":t<=3?"Subscription Renewing Soon":"Subscription Renewal Coming"});bannerMessage=s(()=>{let t=this.daysUntilRenewal(),e=this.subscription();return t===null||!e?"":t===0?"Your subscription renews today.":t===1?"Your subscription renews tomorrow.":`Your subscription will renew in ${t} days.`});manageBilling(){this.router.navigate(["/menu/hms/settings/hotel-settings/billing"])}closeBanner(){this.dismissedBanner.set(!0)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=v({type:n,selectors:[["app-subscription-expiring-banner"]],decls:1,vars:1,consts:[[3,"ngClass"],[1,"flex","items-center","gap-3","w-full","flex-wrap"],[1,"text-sm"],[1,"flex-1","min-w-[180px]"],[1,"flex","items-center","gap-1","flex-shrink-0"],["matButton","outlined","color","primary",1,"whitespace-nowrap",3,"click"],["mat-icon-button","",1,"w-8","h-8",3,"click"],[1,"text-gray-400","hover:text-gray-600"]],template:function(e,r){e&1&&y(0,Bt,16,7,"div",0),e&2&&x(r.showBanner()?0:-1)},dependencies:[V,G,Y,L,z,Z,X],encapsulation:2})};var ee=class n{title="shopbot-back-office";static \u0275fac=function(e){return new(e||n)};static \u0275cmp=v({type:n,selectors:[["app-root"]],decls:4,vars:0,consts:[["ngProgressRouter","",1,"root-progress-bar"]],template:function(e,r){e&1&&De(0,"ng-progress",0)(1,"app-trial-warning-banner")(2,"app-subscription-expiring-banner")(3,"router-outlet")},dependencies:[ze,ct,ft,K,Q],styles:[".root-progress-bar[_ngcontent-%COMP%]{--ng-progress-thickness: 3}.root-progress-bar[_ngcontent-%COMP%]     .ng-bar-placeholder{background-color:#d3d3d3}.root-progress-bar[_ngcontent-%COMP%]     .ng-bar{background:#0000ef}"]})};Ne(ee,ut).catch(n=>console.error(n));
