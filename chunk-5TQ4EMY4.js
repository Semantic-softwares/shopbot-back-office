import{a as A}from"./chunk-WPOEM2SM.js";import"./chunk-WE4JXOI6.js";import"./chunk-WHARIOSL.js";import{a as O}from"./chunk-GQ6FHLWU.js";import"./chunk-SORGHC3Z.js";import"./chunk-E4PTFC5Z.js";import"./chunk-4P4GBQE7.js";import{i as w}from"./chunk-ZKQYDJ5W.js";import"./chunk-HJGFVW6K.js";import"./chunk-VTDH2LYT.js";import"./chunk-5TL46KBL.js";import"./chunk-EMG7PKSI.js";import{a as E}from"./chunk-MNYT3JO3.js";import"./chunk-53AK2UWQ.js";import"./chunk-BFT2MTJY.js";import{a as I,h as k}from"./chunk-JONI64R4.js";import"./chunk-H7INH462.js";import"./chunk-OOL2KACG.js";import"./chunk-KZJMNFJ3.js";import{b as P,c as b}from"./chunk-G6I3OKXX.js";import"./chunk-4Z2XUZY2.js";import{g as y}from"./chunk-F436VINI.js";import{u as C}from"./chunk-H22US2IH.js";import{Ib as d,Jb as m,Ob as f,Pb as e,Qb as o,Rb as M,Wc as _,Yb as v,ac as h,bb as a,cc as S,fa as l,ka as p,la as u,qb as x,rc as n,za as g}from"./chunk-P5WOETP4.js";import"./chunk-GAL4ENT6.js";function N(i,t){if(i&1){let r=v();e(0,"mat-card",6),h("click",function(){p(r);let c=S();return u(c.navigateToModule("erp"))}),e(1,"div",7)(2,"mat-icon",8),n(3,"business"),o()(),e(4,"h3",9),n(5,"Enterprise Resource Planning (ERP)"),o(),e(6,"p",10),n(7,"Manage your restaurant operations, orders, inventory, and sales"),o()()}}function T(i,t){if(i&1){let r=v();e(0,"mat-card",6),h("click",function(){p(r);let c=S();return u(c.navigateToModule("hotel"))}),e(1,"div",7)(2,"mat-icon",8),n(3,"hotel"),o()(),e(4,"h3",9),n(5,"Hotel Management"),o(),e(6,"p",10),n(7,"Manage hotel operations, rooms, reservations, and guest services"),o()()}}function D(i,t){if(i&1){let r=v();e(0,"mat-card",6),h("click",function(){p(r);let c=S();return u(c.navigateToModule("pos"))}),e(1,"div",7)(2,"mat-icon",8),n(3,"point_of_sale"),o()(),e(4,"h3",9),n(5,"Point of Sale"),o(),e(6,"p",10),n(7,"Manage sales, transactions, and customer orders"),o()()}}function V(i,t){i&1&&(e(0,"div",5)(1,"mat-icon",11),n(2,"lock"),o(),e(3,"h3",12),n(4,"No Access"),o(),e(5,"p",13),n(6,"You don't have permission to access any modules. Please contact your administrator."),o()())}var R=class i{router=l(y);socketService=l(A);storeStore=l(w);rolesService=l(E);ERP_PERMISSIONS=["erp.inventory.view","erp.inventory.create","erp.inventory.edit","erp.inventory.delete","erp.inventory.adjust","erp.products.view","erp.products.create","erp.products.edit","erp.products.delete","erp.orders.view","erp.orders.create","erp.orders.edit","erp.orders.cancel","erp.orders.refund","erp.suppliers.view","erp.suppliers.create","erp.suppliers.edit","erp.suppliers.delete"];HMS_PERMISSIONS=["hotel.reservations.view","hotel.reservations.create","hotel.reservations.edit","hotel.reservations.delete","hotel.reservations.checkin","hotel.reservations.checkout","hotel.reservations.export","hotel.rooms.view","hotel.rooms.create","hotel.rooms.edit","hotel.rooms.delete","hotel.rooms.status","hotel.roomtypes.view","hotel.roomtypes.create","hotel.roomtypes.edit","hotel.roomtypes.delete","hotel.guests.view","hotel.guests.create","hotel.guests.edit","hotel.guests.delete","hotel.housekeeping.view","hotel.housekeeping.manage","hotel.housekeeping.complete"];POS_PERMISSIONS=this.ERP_PERMISSIONS;canAccessERP=_(()=>this.rolesService.isAdmin()||this.rolesService.hasAny(this.ERP_PERMISSIONS));canAccessHMS=_(()=>this.rolesService.isAdmin()||this.rolesService.hasAny(this.HMS_PERMISSIONS));canAccessPOS=_(()=>this.rolesService.isAdmin()||this.rolesService.hasAny(this.POS_PERMISSIONS));constructor(){g(()=>{let t=this.storeStore.selectedStore();t?._id&&!this.socketService.isConnected()&&(this.socketService.connect(t._id),console.log("\u{1F50C} Socket connected for store:",t.name))})}ngOnInit(){let t=this.storeStore.selectedStore()?._id;console.log("\u{1F50C} [MENU] Menu component ngOnInit - Store ID:",t),t&&!this.socketService.isConnected()&&(console.log("\u{1F50C} [MENU] Connecting socket..."),this.socketService.connect(t))}ngOnDestroy(){}navigateToModule(t){t==="erp"?this.router.navigate(["/menu/erp"]):t==="hotel"?this.router.navigate(["/menu/hms"]):t==="pos"&&this.router.navigate(["/menu/pos"])}static \u0275fac=function(r){return new(r||i)};static \u0275cmp=x({type:i,selectors:[["app-menu"]],decls:8,vars:6,consts:[[1,"h-screen","flex","flex-col"],[3,"showMenuButton","title"],[1,"flex-1","flex","items-center","justify-center","p-8","md:p-32"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-8","max-w-4xl","w-full"],["appearance","outlined",1,"p-8","text-center","transition-all","duration-300","ease-in-out","cursor-pointer","border-2","border-transparent","hover:-translate-y-1","hover:shadow-2xl","hover:border-blue-600"],[1,"col-span-1","md:col-span-2","text-center","py-12"],["appearance","outlined",1,"p-8","text-center","transition-all","duration-300","ease-in-out","cursor-pointer","border-2","border-transparent","hover:-translate-y-1","hover:shadow-2xl","hover:border-blue-600",3,"click"],[1,"mb-6"],[1,"!text-6xl","!w-16","!h-16","text-blue-600","md:!text-4xl","md:!w-12","md:!h-12"],[1,"text-gray-800","text-2xl","font-semibold","mb-4","leading-tight","md:text-xl"],[1,"text-gray-600","text-base","leading-relaxed","m-0"],[1,"!text-6xl","!w-24","!h-24","text-gray-400","mb-4"],[1,"text-gray-800","text-2xl","font-semibold","mb-2"],[1,"text-gray-600"]],template:function(r,s){r&1&&(e(0,"div",0),M(1,"app-toolbar",1),e(2,"div",2)(3,"div",3),d(4,N,8,0,"mat-card",4),d(5,T,8,0,"mat-card",4),d(6,D,8,0,"mat-card",4),d(7,V,7,0,"div",5),o()()()),r&2&&(a(),f("showMenuButton",!1)("title","Select Module"),a(3),m(s.canAccessERP()?4:-1),a(),m(s.canAccessHMS()?5:-1),a(),m(s.canAccessPOS()?6:-1),a(),m(!s.canAccessERP()&&!s.canAccessHMS()&&!s.canAccessPOS()?7:-1))},dependencies:[C,b,P,k,I,O],styles:["[_nghost-%COMP%]{display:block}"]})};export{R as MenuComponent};
