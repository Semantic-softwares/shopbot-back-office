import{a as N}from"./chunk-CDZK5J5G.js";import{i as j}from"./chunk-ZKQYDJ5W.js";import"./chunk-VTDH2LYT.js";import"./chunk-53AK2UWQ.js";import"./chunk-BFT2MTJY.js";import{e as L,g as B,l as P}from"./chunk-F436VINI.js";import{g as T,n as V,q as M,u as A}from"./chunk-H22US2IH.js";import{Ib as p,Ic as w,Jb as d,Mc as y,Ob as h,Oc as E,Pb as n,Qb as i,Rb as S,Ya as D,Yb as I,ac as u,bb as o,cc as a,fa as C,ka as _,la as v,ma as f,na as g,qb as k,rc as r,sc as c,tc as x,wa as b}from"./chunk-P5WOETP4.js";import"./chunk-GAL4ENT6.js";var H=(t,l)=>({"bg-green-100 text-green-800":t,"bg-red-100 text-red-800":l}),O=(t,l)=>({"border-red-300 text-red-700 hover:bg-red-50":t,"border-green-300 text-green-700 hover:bg-green-50":l});function R(t,l){if(t&1){let e=I();n(0,"div",8)(1,"button",12),u("click",function(){_(e);let m=a();return v(m.editSupplier())}),r(2," Edit Supplier "),i()()}}function z(t,l){t&1&&(n(0,"div",9),S(1,"div",13),i())}function G(t,l){if(t&1&&(n(0,"div",10)(1,"div",14)(2,"div",15),f(),n(3,"svg",16),S(4,"path",17),i()(),g(),n(5,"div",18)(6,"p",19),r(7),i()()()()),t&2){let e=a();o(7),c(e.error())}}function U(t,l){if(t&1&&(n(0,"p",27),r(1),i()),t&2){let e=a(2);o(),c(e.supplier().description)}}function $(t,l){if(t&1&&(n(0,"div")(1,"label",34),r(2,"Phone"),i(),n(3,"p",35),r(4),i()()),t&2){let e=a(2);o(4),c(e.supplier().phone)}}function q(t,l){if(t&1&&(n(0,"div")(1,"label",34),r(2,"Contact Person"),i(),n(3,"p",35),r(4),i()()),t&2){let e=a(2);o(4),c(e.supplier().contactPerson)}}function W(t,l){if(t&1&&(n(0,"div")(1,"label",34),r(2,"Website"),i(),n(3,"a",44),r(4),i()()),t&2){let e=a(2);o(3),h("href",e.supplier().website,D),o(),x(" ",e.supplier().website," ")}}function J(t,l){if(t&1&&(n(0,"div")(1,"label",34),r(2,"Tax ID"),i(),n(3,"p",35),r(4),i()()),t&2){let e=a(2);o(4),c(e.supplier().taxId)}}function K(t,l){if(t&1&&(n(0,"div")(1,"label",34),r(2,"Payment Terms"),i(),n(3,"p",35),r(4),i()()),t&2){let e=a(2);o(4),c(e.supplier().paymentTerms)}}function Q(t,l){if(t&1&&(n(0,"div")(1,"label",34),r(2,"Credit Limit"),i(),n(3,"p",35),r(4),y(5,"number"),i()()),t&2){let e=a(2);o(4),x("$",E(5,1,e.supplier().creditLimit,"1.2-2"))}}function X(t,l){if(t&1&&(n(0,"div",46),r(1),i()),t&2){let e=a(3);o(),c(e.supplier().address.street)}}function Y(t,l){if(t&1&&(n(0,"span"),r(1),i()),t&2){let e=a(3);o(),c(e.supplier().address.city)}}function Z(t,l){if(t&1&&(n(0,"span"),r(1),i()),t&2){let e=a(3);o(),x(", ",e.supplier().address.state)}}function ee(t,l){if(t&1&&(n(0,"span"),r(1),i()),t&2){let e=a(3);o(),c(e.supplier().address.postalCode)}}function te(t,l){if(t&1&&(n(0,"div",48),r(1),i()),t&2){let e=a(3);o(),c(e.supplier().address.country)}}function ie(t,l){if(t&1&&(n(0,"div",36)(1,"div",37)(2,"h3",38),r(3,"Address Information"),i()(),n(4,"div",30)(5,"div",45),p(6,X,2,1,"div",46),n(7,"div",47),p(8,Y,2,1,"span"),p(9,Z,2,1,"span"),p(10,ee,2,1,"span"),i(),p(11,te,2,1,"div",48),i()()()),t&2){let e=a(2);o(6),d(e.supplier().address.street?6:-1),o(2),d(e.supplier().address.city?8:-1),o(),d(e.supplier().address.state?9:-1),o(),d(e.supplier().address.postalCode?10:-1),o(),d(e.supplier().address.country?11:-1)}}function ne(t,l){if(t&1&&(n(0,"div",36)(1,"div",37)(2,"h3",38),r(3,"Notes"),i()(),n(4,"div",30)(5,"p",49),r(6),i()()()),t&2){let e=a(2);o(6),c(e.supplier().notes)}}function oe(t,l){if(t&1&&(n(0,"div")(1,"label",34),r(2,"Created At"),i(),n(3,"p",35),r(4),y(5,"date"),i()()),t&2){let e=a(2);o(4),c(E(5,1,e.supplier().createdAt,"medium"))}}function re(t,l){if(t&1&&(n(0,"div")(1,"label",34),r(2,"Last Updated"),i(),n(3,"p",35),r(4),y(5,"date"),i()()),t&2){let e=a(2);o(4),c(E(5,1,e.supplier().updatedAt,"medium"))}}function le(t,l){t&1&&(n(0,"div",43),f(),n(1,"svg",50),S(2,"path",51),i(),g(),n(3,"h3",52),r(4,"Supplier Not Found"),i(),n(5,"p",53),r(6,"The requested supplier could not be found."),i()())}function ae(t,l){if(t&1){let e=I();n(0,"div",11)(1,"div",20)(2,"div",21)(3,"div",22)(4,"div",23)(5,"div",24)(6,"span",25),r(7),i()(),n(8,"div")(9,"h2",26),r(10),i(),p(11,U,2,1,"p",27),i()(),n(12,"div",23)(13,"span",28),r(14),i(),n(15,"button",29),u("click",function(){_(e);let m=a();return v(m.toggleSupplierStatus())}),r(16),i()()()(),n(17,"div",30)(18,"div",31)(19,"div")(20,"h3",32),r(21,"Contact Information"),i(),n(22,"div",33)(23,"div")(24,"label",34),r(25,"Email"),i(),n(26,"p",35),r(27),i()(),p(28,$,5,1,"div"),p(29,q,5,1,"div"),p(30,W,5,2,"div"),i()(),n(31,"div")(32,"h3",32),r(33,"Business Information"),i(),n(34,"div",33),p(35,J,5,1,"div"),p(36,K,5,1,"div"),p(37,Q,6,4,"div"),i()()()()(),p(38,ie,12,5,"div",36),p(39,ne,7,1,"div",36),n(40,"div",36)(41,"div",37)(42,"h3",38),r(43,"Record Information"),i()(),n(44,"div",30)(45,"div",31),p(46,oe,6,4,"div"),p(47,re,6,4,"div"),i()()(),n(48,"div",39)(49,"button",40),u("click",function(){_(e);let m=a();return v(m.deleteSupplier())}),r(50," Delete Supplier "),i(),n(51,"div",8)(52,"button",41),u("click",function(){_(e);let m=a();return v(m.goBack())}),r(53," Back to List "),i(),n(54,"button",42),u("click",function(){_(e);let m=a();return v(m.editSupplier())}),r(55," Edit Supplier "),i()()(),p(56,le,7,0,"div",43),i()}if(t&2){let e=a();o(7),x(" ",e.supplier().name.charAt(0).toUpperCase()," "),o(3),c(e.supplier().name),o(),d(e.supplier().description?11:-1),o(2),h("ngClass",w(19,H,e.supplier().active,!e.supplier().active)),o(),x(" ",e.supplier().active?"Active":"Inactive"," "),o(),h("ngClass",w(22,O,e.supplier().active,!e.supplier().active)),o(),x(" ",e.supplier().active?"Deactivate":"Activate"," "),o(11),c(e.supplier().email),o(),d(e.supplier().phone?28:-1),o(),d(e.supplier().contactPerson?29:-1),o(),d(e.supplier().website?30:-1),o(5),d(e.supplier().taxId?35:-1),o(),d(e.supplier().paymentTerms?36:-1),o(),d(e.supplier().creditLimit?37:-1),o(),d(e.supplier().address&&e.hasAddressInfo()?38:-1),o(),d(e.supplier().notes?39:-1),o(7),d(e.supplier().createdAt?46:-1),o(),d(e.supplier().updatedAt?47:-1),o(9),d(!e.supplier()&&!e.loading()?56:-1)}}var F=class t{suppliersService=C(N);router=C(B);route=C(L);storeStore=C(j);supplier=b(null);loading=b(!1);error=b(null);supplierId;constructor(){}ngOnInit(){this.supplierId=this.route.snapshot.paramMap.get("id"),this.supplierId?this.loadSupplier():this.router.navigate(["/menu/erp/inventory/suppliers"])}loadSupplier(){let l=this.storeStore.selectedStore()?._id;l&&(this.loading.set(!0),this.error.set(null),this.suppliersService.getSupplier(this.supplierId,l).subscribe({next:e=>{this.supplier.set(e),this.loading.set(!1)},error:e=>{this.error.set("Failed to load supplier details"),this.loading.set(!1),console.error("Error loading supplier:",e)}}))}editSupplier(){this.router.navigate(["/menu/erp/inventory/suppliers/edit",this.supplierId])}toggleSupplierStatus(){if(!this.supplier())return;let e=this.storeStore.selectedStore()?._id;e&&this.suppliersService.toggleSupplierStatus(this.supplierId,e).subscribe({next:s=>{this.supplier.set(s)},error:s=>{console.error("Error toggling supplier status:",s),this.error.set("Failed to update supplier status")}})}deleteSupplier(){let l=this.supplier();if(!l)return;let e=this.storeStore.selectedStore()?._id;e&&confirm(`Are you sure you want to delete supplier "${l.name}"?`)&&this.suppliersService.deleteSupplier(this.supplierId,e).subscribe({next:()=>{this.router.navigate(["/menu/erp/inventory/suppliers"])},error:s=>{console.error("Error deleting supplier:",s),this.error.set("Failed to delete supplier")}})}goBack(){this.router.navigate(["/menu/erp/inventory/suppliers"])}hasAddressInfo(){let l=this.supplier()?.address;return l?!!(l.street||l.city||l.state||l.country||l.postalCode):!1}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=k({type:t,selectors:[["app-supplier-details"]],decls:15,vars:4,consts:[[1,"p-6","max-w-4xl","mx-auto"],[1,"flex","justify-between","items-start","mb-6"],[1,"flex","items-center","space-x-4"],[1,"p-2","text-gray-400","hover:text-gray-600","transition-colors",3,"click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-gray-600","mt-1"],[1,"flex","space-x-3"],[1,"flex","justify-center","items-center","py-12"],[1,"bg-red-50","border","border-red-200","rounded-lg","p-4","mb-6"],[1,"space-y-6"],[1,"bg-blue-600","hover:bg-blue-700","text-white","px-4","py-2","rounded-lg","font-medium","transition-colors",3,"click"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-blue-600"],[1,"flex"],[1,"flex-shrink-0"],["viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","text-red-400"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule","evenodd"],[1,"ml-3"],[1,"text-sm","text-red-800"],[1,"bg-white","shadow-sm","rounded-lg","overflow-hidden"],[1,"px-6","py-4","border-b","border-gray-200","bg-gray-50"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","space-x-3"],[1,"flex-shrink-0","h-12","w-12","bg-blue-100","rounded-full","flex","items-center","justify-center"],[1,"text-blue-600","font-semibold","text-lg"],[1,"text-xl","font-semibold","text-gray-900"],[1,"text-gray-500"],[1,"inline-flex","px-3","py-1","text-sm","font-semibold","rounded-full",3,"ngClass"],[1,"text-sm","px-3","py-1","rounded-md","border","transition-colors",3,"click","ngClass"],[1,"px-6","py-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"text-sm","font-medium","text-gray-500","uppercase","tracking-wide","mb-3"],[1,"space-y-3"],[1,"block","text-sm","font-medium","text-gray-700"],[1,"mt-1","text-sm","text-gray-900"],[1,"bg-white","shadow-sm","rounded-lg"],[1,"px-6","py-4","border-b","border-gray-200"],[1,"text-lg","font-medium","text-gray-900"],[1,"flex","justify-between","items-center","pt-6"],[1,"bg-red-600","hover:bg-red-700","text-white","px-4","py-2","rounded-lg","font-medium","transition-colors",3,"click"],[1,"px-6","py-2","border","border-gray-300","rounded-lg","text-gray-700","bg-white","hover:bg-gray-50","font-medium","transition-colors",3,"click"],[1,"bg-blue-600","hover:bg-blue-700","text-white","px-6","py-2","rounded-lg","font-medium","transition-colors",3,"click"],[1,"text-center","py-12"],["target","_blank",1,"mt-1","text-sm","text-blue-600","hover:text-blue-800","underline",3,"href"],[1,"text-sm","text-gray-900"],[1,"mb-1"],[1,"flex","space-x-2"],[1,"mt-1"],[1,"text-sm","text-gray-900","whitespace-pre-wrap"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"mx-auto","h-12","w-12","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2 2v-5m16 0h-2M4 13h2m13-8l-4 4m0 0l-4-4m4 4V3"],[1,"mt-2","text-sm","font-medium","text-gray-900"],[1,"mt-1","text-sm","text-gray-500"]],template:function(e,s){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),u("click",function(){return s.goBack()}),f(),n(4,"svg",4),S(5,"path",5),i()(),g(),n(6,"div")(7,"h1",6),r(8,"Supplier Details"),i(),n(9,"p",7),r(10,"View and manage supplier information"),i()()(),p(11,R,3,0,"div",8),i()(),p(12,z,2,0,"div",9),p(13,G,8,1,"div",10),p(14,ae,57,25,"div",11)),e&2&&(o(11),d(s.supplier()?11:-1),o(),d(s.loading()?12:-1),o(),d(s.error()?13:-1),o(),d(s.supplier()&&!s.loading()?14:-1))},dependencies:[A,T,P,M,V],styles:["[_nghost-%COMP%]{display:block}"]})};export{F as SupplierDetailsComponent};
