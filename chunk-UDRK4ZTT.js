import{a as Q,b as X,c as Y,d as Z,e as Me}from"./chunk-A2LBCXOK.js";import{a as ke}from"./chunk-W3WCX3UE.js";import{b as ee}from"./chunk-TIJBZH7S.js";import{a as ge,b as he,c as _e,d as fe,e as be}from"./chunk-2CA6XTE2.js";import"./chunk-KB4RKS4G.js";import"./chunk-ZD2MQVCP.js";import"./chunk-ZOYXPNSX.js";import{a as ne,b as oe,c as re,e as ae,f as le,g as se,j as me,l as ce}from"./chunk-BK234AW2.js";import{a as te,b as ie}from"./chunk-P2NXASYZ.js";import"./chunk-A2NM27HC.js";import"./chunk-ZXGSCOR2.js";import{a as pe,b as de,c as ue,d as ve}from"./chunk-CXPTKSLY.js";import{a as J}from"./chunk-EUHZN2UI.js";import"./chunk-M5357V7P.js";import{c as K}from"./chunk-2WBLSBPP.js";import"./chunk-SY26FGZT.js";import"./chunk-XYJ5R6BC.js";import"./chunk-YEWYHM4L.js";import"./chunk-PZG5LZPC.js";import"./chunk-GY37C2FD.js";import"./chunk-2UT4NYMV.js";import"./chunk-S2P5547C.js";import{a as W,b as q}from"./chunk-MNFAJ2ZP.js";import{a as G}from"./chunk-4HZDDISM.js";import{a as j}from"./chunk-56TSQ6HG.js";import"./chunk-AGG277FR.js";import"./chunk-N3VBTGB6.js";import"./chunk-4KLRET2M.js";import{X as $,_ as z}from"./chunk-KSQJ4KAT.js";import"./chunk-RDMIWI4X.js";import"./chunk-AGZJ637K.js";import{a as H,b as A,c as V,d as B,e as N,i as U}from"./chunk-LTDPQFG4.js";import"./chunk-VYX7HJYX.js";import"./chunk-FORATDN3.js";import{Bc as u,Eb as O,Fb as F,Gb as v,Ib as g,Jb as h,Kb as l,Lb as r,Mb as a,Nb as d,Pc as R,Ub as C,Va as E,Yb as I,Za as i,_b as _,ca as p,ha as k,ia as S,ic as w,mb as P,nc as s,oc as f,pc as b,ta as x}from"./chunk-53XJD7JZ.js";import{a as T,b as D}from"./chunk-EQDQRRRY.js";var M=()=>["../settings"];function Ce(o,t){if(o&1&&(r(0,"a",5),d(1,"img",15),a()),o&2){let e,n=_();l("routerLink",u(3,M)),i(),l("routerLink",u(4,M))("src",(e=n.storeStore.selectedStore())==null?null:e.logo,E)}}function Ie(o,t){o&1&&(r(0,"a",6)(1,"mat-icon"),s(2,"hotel"),a()())}function we(o,t){if(o&1){let e=C();r(0,"button",16),I("click",function(){let m=k(e).$implicit,c=_();return S(c.selectStore(m))}),s(1),a()}if(o&2){let e,n=t.$implicit,m=_();l("disabled",n._id===((e=m.storeStore.selectedStore())==null?null:e._id)),i(),b(" ",n.name)}}function Le(o,t){if(o&1&&(r(0,"a",18,1)(2,"mat-icon",19),s(3),a(),r(4,"span",20),s(5),a()()),o&2){let e=t.$implicit,n=w(1);l("routerLink",e.link)("activated",n.isActive),i(3),f(e.icon),i(2),f(e.label)}}function ye(o,t){if(o&1&&(r(0,"mat-expansion-panel",13)(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"span",17),s(4),a()()(),g(5,Le,6,4,"a",18,v),a()),o&2){let e=t.$implicit;l("expanded",!0),i(4),b(" ",e==null?null:e.name," "),i(),h(e.children)}}var Se=class o{router=p(V);route=p(H);authService=p(G);storeStore=p(J);rolesService=p(j);isMobile=x(window.innerWidth<768);opened=x(!0);currentUser=K(this.authService.currentUser,{initialValue:null});navItemsConfig=[{name:"Dashboard",children:[{icon:"dashboard",label:"Overview",link:"./overview",permissions:["hotel.reservations.view","hotel.rooms.view"]}]},{name:"Front Desk",children:[{icon:"book_online",label:"Reservations",link:"./front-desk/reservations",permissions:["hotel.reservations.view","hotel.reservations.create"]},{icon:"check_in",label:"Check-In / Check-Out",link:"./front-desk/check-in-check-out",permissions:["hotel.reservations.checkin","hotel.reservations.checkout"]},{icon:"people",label:"Guests",link:"./front-desk/guests",permissions:["hotel.guests.view","hotel.guests.create"]}]},{name:"Room Management",children:[{icon:"hotel",label:"Rooms",link:"./rooms-management/rooms",permissions:["hotel.rooms.view","hotel.rooms.create","hotel.rooms.edit"]},{icon:"category",label:"Room Types",link:"./rooms-management/room-types",permissions:["hotel.roomtypes.view","hotel.roomtypes.create"]}]},{name:"Reports",children:[{icon:"assessment",label:"Occupancy Report",link:"./reports/occupancy",permissions:["finance.reports.view"]},{icon:"monetization_on",label:"Revenue Report",link:"./reports/revenue",permissions:["finance.reports.view","finance.transactions.view"]},{icon:"people_outline",label:"Guest Report",link:"./reports/guest",permissions:["finance.reports.view"]}]},{name:"Settings",children:[{icon:"settings",label:"Hotel Settings",link:"./settings/hotel-settings",permissions:["settings.store.view","settings.store.edit","settings.staff.view","settings.roles.view"]}]}];navItems=R(()=>this.navItemsConfig.map(t=>D(T({},t),{children:t.children.filter(e=>this.rolesService.hasAny(e.permissions))})).filter(t=>t.children.length>0));openLink(t){this.router.navigate([t],{relativeTo:this.route})}toggleSidenav(){this.opened.set(!this.opened())}goToProfile(){this.router.navigate(["dashboard","general","profile"])}selectStore(t){console.log("Selected store:",t),this.storeStore.setSelectedStore(t),window.location.reload()}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=P({type:o,selectors:[["app-hms-dashboard"]],decls:28,vars:12,consts:[["menu","matMenu"],["rla","routerLinkActive"],[1,"hms-dashboard-container"],[3,"menuToggle","title"],[1,"!w-[20em]","!rounded-[0px]","px-2",3,"mode","opened"],["matListItemIcon","",1,"block","!mr-6",3,"routerLink"],["matListItemIcon","",1,"block"],["matListItemTitle","",3,"routerLink"],["matListItemLine","",3,"routerLink"],["matListItemMeta","","mat-icon-button","",1,"block",3,"matMenuTriggerFor"],["mat-menu-item","",3,"disabled"],[3,"storeId"],["multi",""],[1,"mat-elevation-z0",3,"expanded"],[1,"p-4","bg-[#F9FAFB]","h-screen"],[1,"!w-full","!min-w-10","!mr-5","!max-w-100","h-10","rounded-full","object-cover",3,"routerLink","src"],["mat-menu-item","",3,"click","disabled"],[1,"flex","items-center"],["mat-list-item","","routerLinkActive","active-link",3,"routerLink","activated"],["matListItemIcon","",1,"material-icons-outlined"],["matListItemTitle",""]],template:function(e,n){if(e&1){let m=C();r(0,"div",2)(1,"app-toolbar",3),I("menuToggle",function(){return k(m),S(n.toggleSidenav())}),a(),r(2,"mat-sidenav-container")(3,"mat-sidenav",4)(4,"mat-list")(5,"mat-list-item"),O(6,Ce,2,5,"a",5)(7,Ie,3,0,"a",6),r(8,"h2",7),s(9),a(),r(10,"div",8),s(11),a(),r(12,"a",9)(13,"mat-icon"),s(14,"keyboard_arrow_down"),a()()(),d(15,"mat-divider"),a(),r(16,"mat-menu",null,0),g(18,we,2,2,"button",10,v),a(),r(20,"mat-nav-list"),d(21,"app-usage-indicator",11),r(22,"mat-accordion",12),g(23,ye,7,2,"mat-expansion-panel",13,v),a()()(),r(25,"mat-sidenav-content")(26,"div",14),d(27,"router-outlet"),a()()()()}if(e&2){let m,c,L,y,xe=w(17);i(),l("title","Hotel Management System"),i(2),l("mode",n.isMobile()?"over":"side")("opened",n.opened()),i(3),F((m=n.storeStore.selectedStore())!=null&&m.logo?6:7),i(2),l("routerLink",u(10,M)),i(),f((c=n.currentUser())==null||c.role==null?null:c.role.name),i(),l("routerLink",u(11,M)),i(),b("",(L=n.storeStore.selectedStore())==null?null:L.name," - Hotel"),i(),l("matMenuTriggerFor",xe),i(6),h(n.storeStore.stores()),i(3),l("storeId",(y=n.storeStore.selectedStore())==null?null:y._id),i(2),h(n.navItems())}},dependencies:[Z,X,Y,Q,ee,ce,le,me,se,ae,te,oe,ne,re,q,W,z,$,ve,de,pe,ue,U,A,B,N,be,fe,ge,he,_e,ie,ke,Me],styles:[".hms-dashboard-container[_ngcontent-%COMP%]{height:100vh;display:flex;flex-direction:column}mat-sidenav-container[_ngcontent-%COMP%]{flex:1}mat-sidenav[_ngcontent-%COMP%]{border-right:1px solid #e0e0e0}.active-link[_ngcontent-%COMP%]{background-color:#e3f2fd;color:#1976d2}.active-link[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#1976d2}mat-nav-list[_ngcontent-%COMP%]{padding-top:0}mat-expansion-panel[_ngcontent-%COMP%]{box-shadow:none!important;border:none}mat-expansion-panel[_ngcontent-%COMP%]  .mat-expansion-panel-header{padding:0 16px;height:48px;font-weight:500;color:#333}mat-expansion-panel[_ngcontent-%COMP%]  .mat-expansion-panel-body{padding:0}mat-list-item.active-link[_ngcontent-%COMP%]{background-color:#e3f2fd;border-radius:8px;margin:4px 8px}mat-list-item.active-link[_ngcontent-%COMP%]  .mat-list-item-content{padding:0 12px}mat-list-item[_ngcontent-%COMP%]  .mat-list-item-content{padding:0 16px;border-radius:8px}"]})};export{Se as HmsDashboardComponent};
