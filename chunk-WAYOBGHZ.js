import{a as G}from"./chunk-VPPMXXDW.js";import{a as X,b as Z}from"./chunk-3IQG3KHZ.js";import{d as I}from"./chunk-YK4A772F.js";import"./chunk-HXICWX3M.js";import"./chunk-4YIJHWNC.js";import"./chunk-MMNFDWV7.js";import{a as E}from"./chunk-CGDRKYIW.js";import{b as Y,c as $,d as J}from"./chunk-IS37LNAK.js";import{a as R,e as W,h as K}from"./chunk-QJ2P7YZL.js";import"./chunk-LXD47U2C.js";import{b as Q}from"./chunk-ZG44B3L4.js";import{B as L,b as B,d as r,g as H,h as z,m as D,q as P,s as q,t as j,z as V}from"./chunk-SZWYIW32.js";import"./chunk-CTT4BYCX.js";import{a as y}from"./chunk-V7ZBVJLR.js";import"./chunk-NQRUH5DO.js";import{a as k,b as F,c as w,f as A,g as O,h as _}from"./chunk-MESJBQC5.js";import"./chunk-QEF3JOQ3.js";import"./chunk-LSROOOYO.js";import"./chunk-7NDZPDVA.js";import{b as N,c as U}from"./chunk-OWLRGWNJ.js";import{$ as x,Z as M}from"./chunk-OS2CYUJN.js";import"./chunk-U2P6GFP5.js";import{$a as s,Kb as b,Lb as g,Mb as u,Nb as t,Ob as e,Pb as n,_b as T,ea as c,ob as v,pc as a,qc as S,rc as C,va as h}from"./chunk-IQSYHSID.js";import{a as p,b as f}from"./chunk-EQDQRRRY.js";var te=(d,i)=>i.value;function ae(d,i){if(d&1&&(t(0,"mat-option",27),a(1),e()),d&2){let o=i.$implicit;u("value",o.value),s(),S(o.label)}}var ee=class d{fb=c(V);snackBar=c(y);storeService=c(E);storeStore=c(G);loading=h(!1);saving=h(!1);hotelInfoForm;timezoneOptions=[{value:"UTC-12",label:"(GMT-12:00) International Date Line West"},{value:"UTC-11",label:"(GMT-11:00) Midway Island, Samoa"},{value:"UTC-10",label:"(GMT-10:00) Hawaii"},{value:"UTC-9",label:"(GMT-09:00) Alaska"},{value:"UTC-8",label:"(GMT-08:00) Pacific Time (US & Canada)"},{value:"UTC-7",label:"(GMT-07:00) Mountain Time (US & Canada)"},{value:"UTC-6",label:"(GMT-06:00) Central Time (US & Canada)"},{value:"UTC-5",label:"(GMT-05:00) Eastern Time (US & Canada)"},{value:"UTC-4",label:"(GMT-04:00) Atlantic Time (Canada)"},{value:"UTC-3",label:"(GMT-03:00) Buenos Aires, Georgetown"},{value:"UTC-2",label:"(GMT-02:00) Mid-Atlantic"},{value:"UTC-1",label:"(GMT-01:00) Azores, Cape Verde Islands"},{value:"UTC+0",label:"(GMT+00:00) Greenwich Mean Time"},{value:"UTC+1",label:"(GMT+01:00) Amsterdam, Berlin, Rome"},{value:"UTC+2",label:"(GMT+02:00) Cairo, Athens, Istanbul"},{value:"UTC+3",label:"(GMT+03:00) Moscow, Kuwait, Riyadh"},{value:"UTC+4",label:"(GMT+04:00) Abu Dhabi, Muscat"},{value:"UTC+5",label:"(GMT+05:00) Islamabad, Karachi"},{value:"UTC+6",label:"(GMT+06:00) Almaty, Dhaka"},{value:"UTC+7",label:"(GMT+07:00) Bangkok, Hanoi, Jakarta"},{value:"UTC+8",label:"(GMT+08:00) Beijing, Perth, Singapore"},{value:"UTC+9",label:"(GMT+09:00) Tokyo, Seoul, Osaka"},{value:"UTC+10",label:"(GMT+10:00) Eastern Australia, Guam"},{value:"UTC+11",label:"(GMT+11:00) Magadan, Solomon Islands"},{value:"UTC+12",label:"(GMT+12:00) Auckland, Wellington"}];ngOnInit(){this.initializeForm(),this.loadSettings()}initializeForm(){this.hotelInfoForm=this.fb.group({hotelName:["",r.required],address:this.fb.group({street:[""],city:["",r.required],state:[""],country:["",r.required],postalCode:[""]}),contactInfo:this.fb.group({phone:["",r.required],email:["",[r.required,r.email]],website:[""]}),timezone:["UTC+0",r.required],checkInTime:["15:00",r.required],checkOutTime:["11:00",r.required]})}loadSettings(){this.loading.set(!0);let i=this.storeStore.selectedStore();i&&this.hotelInfoForm.patchValue({hotelName:i.name||"",address:{street:i.contactInfo?.address||"",city:i.contactInfo?.city||"",state:i.contactInfo?.state||"",country:i.contactInfo?.country||"",postalCode:i.contactInfo?.postalCode||""},contactInfo:{phone:i.contactInfo?.phone||"",email:i.contactInfo?.email||"",website:i.contactInfo?.placeName||""},timezone:i.hotelSettings?.operationalSettings?.timezone||"UTC+0",checkInTime:i.hotelSettings?.operationalSettings?.checkInTime||"15:00",checkOutTime:i.hotelSettings?.operationalSettings?.checkOutTime||"11:00"}),this.loading.set(!1)}saveHotelInfo(){if(this.hotelInfoForm.valid&&this.storeStore.selectedStore()){this.saving.set(!0);let i=this.hotelInfoForm.value,o=this.storeStore.selectedStore(),m={name:i.hotelName,contactInfo:f(p({},o.contactInfo),{phone:i.contactInfo.phone,email:i.contactInfo.email,address:i.address.street,city:i.address.city,state:i.address.state,country:i.address.country,postalCode:i.address.postalCode,placeName:i.contactInfo.website,placeNumber:o.contactInfo?.placeNumber||""}),hotelSettings:f(p({},o.hotelSettings),{operationalSettings:{timezone:i.timezone,checkInTime:i.checkInTime,checkOutTime:i.checkOutTime}})};this.storeService.updateStore(o._id,m).subscribe({next:()=>{this.storeService.getStore(o._id).subscribe({next:l=>{this.storeStore.updateStore(l),this.storeService.saveStoreLocally(l),this.saving.set(!1),this.snackBar.open("Hotel information saved successfully!","Close",{duration:3e3})},error:l=>{console.error("Error fetching updated store:",l),this.saving.set(!1),this.snackBar.open("Settings saved but failed to update local data.","Close",{duration:5e3})}})},error:l=>{console.error("Error saving hotel info:",l),this.saving.set(!1),this.snackBar.open("Failed to save hotel information.","Close",{duration:5e3})}})}}static \u0275fac=function(o){return new(o||d)};static \u0275cmp=v({type:d,selectors:[["app-hotel-info"]],decls:107,vars:4,consts:[[1,"py-6"],[3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-8"],["appearance","outlined"],["mat-card-avatar","",1,"text-blue-600","!flex","!items-center","!justify-center"],[1,"pt-4","space-y-6"],["appearance","outline",1,"w-full"],["matInput","","formControlName","hotelName","placeholder","Enter hotel name"],["matSuffix",""],["formGroupName","contactInfo",1,"space-y-4"],["matInput","","formControlName","phone","placeholder","+1 (555) 123-4567"],["matInput","","type","email","formControlName","email","placeholder","contact@hotel.com"],["matInput","","formControlName","website","placeholder","https://www.hotel.com"],["mat-card-avatar","",1,"text-green-600","!flex","!items-center","!justify-center"],["formGroupName","address",1,"pt-4","space-y-6"],["matInput","","formControlName","street","placeholder","123 Hotel Street","rows","2"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["appearance","outline"],["matInput","","formControlName","city","placeholder","New York"],["matInput","","formControlName","state","placeholder","NY"],["matInput","","formControlName","country","placeholder","United States"],["matInput","","formControlName","postalCode","placeholder","10001"],["appearance","outlined",1,"lg:col-span-2"],["mat-card-avatar","",1,"text-purple-600","!flex","!items-center","!justify-center"],[1,"pt-4"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","gap-6"],["formControlName","timezone"],[3,"value"],["matInput","","type","time","formControlName","checkInTime"],["matInput","","type","time","formControlName","checkOutTime"],[1,"mt-4","p-4","bg-blue-50","border","border-blue-200","rounded-lg"],[1,"font-semibold","text-blue-900","mb-2","flex","items-center","gap-2"],[1,"text-blue-600"],[1,"text-sm","text-blue-800"],[1,"text-xs"],[1,"flex","justify-end","mt-8"],["type","submit","matButton","filled","color","primary",1,"px-8","py-2",3,"disabled"]],template:function(o,m){if(o&1&&(t(0,"div",0)(1,"form",1),T("ngSubmit",function(){return m.saveHotelInfo()}),t(2,"div",2)(3,"mat-card",3)(4,"mat-card-header")(5,"mat-icon",4),a(6,"info"),e(),t(7,"mat-card-title"),a(8,"Basic Information"),e()(),t(9,"mat-card-content",5)(10,"mat-form-field",6)(11,"mat-label"),a(12,"Hotel Name"),e(),n(13,"input",7),t(14,"mat-icon",8),a(15,"business"),e()(),t(16,"div",9)(17,"mat-form-field",6)(18,"mat-label"),a(19,"Phone Number"),e(),n(20,"input",10),t(21,"mat-icon",8),a(22,"phone"),e()(),t(23,"mat-form-field",6)(24,"mat-label"),a(25,"Email Address"),e(),n(26,"input",11),t(27,"mat-icon",8),a(28,"email"),e()(),t(29,"mat-form-field",6)(30,"mat-label"),a(31,"Website (Optional)"),e(),n(32,"input",12),t(33,"mat-icon",8),a(34,"language"),e()()()()(),t(35,"mat-card",3)(36,"mat-card-header")(37,"mat-icon",13),a(38,"location_on"),e(),t(39,"mat-card-title"),a(40,"Address Information"),e()(),t(41,"mat-card-content",14)(42,"mat-form-field",6)(43,"mat-label"),a(44,"Street Address"),e(),n(45,"textarea",15),t(46,"mat-icon",8),a(47,"place"),e()(),t(48,"div",16)(49,"mat-form-field",17)(50,"mat-label"),a(51,"City"),e(),n(52,"input",18),e(),t(53,"mat-form-field",17)(54,"mat-label"),a(55,"State/Province"),e(),n(56,"input",19),e()(),t(57,"div",16)(58,"mat-form-field",17)(59,"mat-label"),a(60,"Country"),e(),n(61,"input",20),e(),t(62,"mat-form-field",17)(63,"mat-label"),a(64,"Postal Code"),e(),n(65,"input",21),e()()()(),t(66,"mat-card",22)(67,"mat-card-header")(68,"mat-icon",23),a(69,"settings"),e(),t(70,"mat-card-title"),a(71,"Operational Settings"),e()(),t(72,"mat-card-content",24)(73,"div",25)(74,"mat-form-field",17)(75,"mat-label"),a(76,"Timezone"),e(),t(77,"mat-select",26),b(78,ae,2,2,"mat-option",27,te),e()(),t(80,"mat-form-field",17)(81,"mat-label"),a(82,"Check-in Time"),e(),n(83,"input",28),t(84,"mat-icon",8),a(85,"schedule"),e()(),t(86,"mat-form-field",17)(87,"mat-label"),a(88,"Check-out Time"),e(),n(89,"input",29),t(90,"mat-icon",8),a(91,"schedule"),e()()(),t(92,"div",30)(93,"h5",31)(94,"mat-icon",32),a(95,"info"),e(),a(96," Store Currency "),e(),t(97,"p",33),a(98," Current store currency: "),t(99,"strong"),a(100),e(),n(101,"br"),t(102,"span",34),a(103,"To change currency, update it in the main store settings."),e()()()()()(),t(104,"div",35)(105,"button",36),a(106),e()()()()),o&2){let l;s(),u("formGroup",m.hotelInfoForm),s(77),g(m.timezoneOptions),s(22),S(((l=m.storeStore.selectedStore())==null?null:l.currency)||"Not set"),s(5),u("disabled",m.hotelInfoForm.invalid||m.saving()),s(),C(" ",m.saving()?"Saving...":"Save Hotel Information"," ")}},dependencies:[L,D,B,H,z,j,q,P,_,k,O,w,A,F,x,M,U,N,Y,K,R,W,J,$,Z,X,I,Q],styles:["[_nghost-%COMP%]{display:block}"]})};export{ee as HotelInfo};
