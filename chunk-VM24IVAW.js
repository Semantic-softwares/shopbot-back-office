import{c as xe}from"./chunk-YYC555FK.js";import"./chunk-XXOGWVW6.js";import{a as be}from"./chunk-RBYYFQHC.js";import"./chunk-UPBHOZRL.js";import{C as ue,E as ge,b as oe,g as ae,h as ie,m as ce,s as le,t as de,u as me,v as se,w as pe}from"./chunk-LM7FYRY4.js";import"./chunk-LYY57WCE.js";import{a as re}from"./chunk-5CST2L2O.js";import{m as Q,n as X,q as ee,r as te,x as S,y as ne}from"./chunk-ETP2OZKZ.js";import{D as f,Db as w,Eb as _,Gc as O,Hb as A,Hc as q,Ib as L,Ic as K,Jb as v,Jc as $,Kb as n,Lb as r,Mb as m,Oc as G,T as C,Tb as z,Xb as x,Ya as c,Z as Y,Zb as g,ca as y,f as W,g as V,ha as F,ia as j,ja as h,ka as D,lb as Z,lc as B,m as N,mc as o,nc as d,oc as M,r as I,ta as u,x as J}from"./chunk-KGWH6IHP.js";import{a as k,b as T}from"./chunk-EQDQRRRY.js";var U=class l{http=y(ne);baseUrl=`${re.apiUrl}/occupancy`;loadingSubject=new V(!1);loading$=this.loadingSubject.asObservable();errorSubject=new V(null);error$=this.errorSubject.asObservable();getOccupancyData(t){this.loadingSubject.next(!0),this.errorSubject.next(null);let e=new S().set("startDate",t.startDate.toISOString()).set("endDate",t.endDate.toISOString()).set("reportType",t.reportType);return t.roomType&&(e=e.set("roomType",t.roomType)),t.floorNumber&&!isNaN(t.floorNumber)&&(e=e.set("floorNumber",t.floorNumber.toString())),this.http.get(`${this.baseUrl}/data`,{params:e}).pipe(I(a=>(this.loadingSubject.next(!1),a.map(i=>T(k({},i),{date:new Date(i.date)})))),f(a=>(console.error("Error fetching occupancy data:",a),this.errorSubject.next("Failed to load occupancy data. Using mock data for demonstration."),this.loadingSubject.next(!1),N(this.generateMockOccupancyData(t.startDate,t.endDate)))))}getRoomStatuses(t){let e=new S;return t&&!isNaN(t)&&(e=e.set("floor",t.toString())),this.http.get(`${this.baseUrl}/rooms`,{params:e}).pipe(I(a=>a.map(i=>T(k({},i),{checkIn:i.checkIn?new Date(i.checkIn):void 0,checkOut:i.checkOut?new Date(i.checkOut):void 0}))),f(a=>(console.error("Error fetching room statuses:",a),N(this.generateMockRoomStatuses()))))}getOccupancyStats(t){let e=new S().set("startDate",t.startDate.toISOString()).set("endDate",t.endDate.toISOString()).set("reportType",t.reportType);return t.roomType&&(e=e.set("roomType",t.roomType)),t.floorNumber&&!isNaN(t.floorNumber)&&(e=e.set("floorNumber",t.floorNumber.toString())),this.http.get(`${this.baseUrl}/stats`,{params:e}).pipe(I(a=>T(k({},a),{peakOccupancyDate:new Date(a.peakOccupancyDate),lowestOccupancyDate:new Date(a.lowestOccupancyDate)})),f(a=>(console.error("Error fetching occupancy stats:",a),N({totalRooms:100,currentOccupied:75,currentAvailable:20,currentOOO:3,currentMaintenance:2,currentOccupancyRate:75,averageOccupancyRate:72.5,totalRevenue:156750,averageRate:209,peakOccupancyDate:new Date,lowestOccupancyDate:new Date(Date.now()-10080*60*1e3),peakOccupancyRate:95,lowestOccupancyRate:45}))))}exportToCSV(t){let e=new S().set("startDate",t.startDate.toISOString()).set("endDate",t.endDate.toISOString()).set("reportType",t.reportType).set("format","csv");return this.http.get(`${this.baseUrl}/export`,{params:e,responseType:"blob"}).pipe(f(a=>{throw console.error("Error exporting data:",a),this.errorSubject.next("Failed to export data. Please try again."),a}))}exportToPDF(t){let e=new S().set("startDate",t.startDate.toISOString()).set("endDate",t.endDate.toISOString()).set("reportType",t.reportType).set("format","pdf");return this.http.get(`${this.baseUrl}/export`,{params:e,responseType:"blob"}).pipe(f(a=>{throw console.error("Error exporting PDF:",a),this.errorSubject.next("Failed to export PDF. Please try again."),a}))}clearError(){this.errorSubject.next(null)}generateMockOccupancyData(t,e){let a=[],i=new Date(t);for(;i<=e;){let s=Math.floor(Math.random()*85)+10,P=Math.floor(Math.random()*5),R=Math.floor(Math.random()*3),p=100-s-P-R,E=Math.round(s/100*100),H=150+Math.random()*100,ye=s*H,he=s+Math.floor(Math.random()*10);a.push({date:new Date(i),totalRooms:100,occupiedRooms:s,availableRooms:p,outOfOrderRooms:P,maintenanceRooms:R,occupancyRate:E,revenue:ye,averageRate:H,reservationCount:he}),i.setDate(i.getDate()+1)}return a}generateMockRoomStatuses(){let t=[],e=["occupied","available","out-of-order","maintenance"],a=["Standard","Deluxe","Suite","Presidential"],i=[1,2,3,4,5];for(let b=101;b<=200;b++){let s=e[Math.floor(Math.random()*e.length)],P=a[Math.floor(Math.random()*a.length)],R=i[Math.floor(Math.random()*i.length)],p={roomNumber:b.toString(),roomType:P,floorNumber:R,status:s};if(s==="occupied"){let E=["John Doe","Jane Smith","Mike Johnson","Sarah Wilson","David Brown"];p.guestName=E[Math.floor(Math.random()*E.length)],p.guestId=`guest_${b}`,p.checkIn=new Date(Date.now()-Math.floor(Math.random()*7)*24*60*60*1e3),p.checkOut=new Date(Date.now()+Math.random()*7*24*60*60*1e3),p.rate=150+Math.random()*100}else s==="maintenance"?p.notes="Scheduled maintenance - AC repair":s==="out-of-order"&&(p.notes="Plumbing issue - under repair");t.push(p)}return t.sort((b,s)=>parseInt(b.roomNumber)-parseInt(s.roomNumber))}static \u0275fac=function(e){return new(e||l)};static \u0275prov=Y({token:l,factory:l.\u0275fac,providedIn:"root"})};var Oe=(l,t)=>t.date,Se=(l,t)=>t.roomNumber;function Ce(l,t){l&1&&(n(0,"div",16),m(1,"div",19),n(2,"span",20),o(3,"Loading occupancy data..."),r()())}function De(l,t){if(l&1){let e=z();n(0,"div",17)(1,"div",21)(2,"div",22),h(),n(3,"svg",23),m(4,"path",24),r(),D(),n(5,"div",25)(6,"h3",26),o(7,"Error Loading Data"),r(),n(8,"p",27),o(9),r()(),n(10,"button",28),x("click",function(){F(e);let i=g();return j(i.clearError())}),o(11," Dismiss "),r()()()()}if(l&2){let e=g();c(9),d(e.error())}}function we(l,t){if(l&1&&(n(0,"div",51)(1,"div",78)(2,"div",79)(3,"div")(4,"p",80),o(5,"Current Occupancy"),r(),n(6,"p",81),o(7),r()(),n(8,"div",82),o(9," \u{1F3E8} "),r()()(),n(10,"div",83)(11,"div",79)(12,"div")(13,"p",84),o(14,"Total Rooms"),r(),n(15,"p",85),o(16),r()(),n(17,"div",86),o(18," \u{1F3E0} "),r()()(),n(19,"div",87)(20,"div",79)(21,"div")(22,"p",88),o(23,"Occupied"),r(),n(24,"p",89),o(25),r()(),n(26,"div",90),o(27," \u{1F465} "),r()()(),n(28,"div",91)(29,"div",79)(30,"div")(31,"p",92),o(32,"Available"),r(),n(33,"p",93),o(34),r()(),n(35,"div",94),o(36," \u2705 "),r()()(),n(37,"div",95)(38,"div",79)(39,"div")(40,"p",96),o(41,"Avg Occupancy"),r(),n(42,"p",97),o(43),r()(),n(44,"div",98),o(45," \u{1F4C8} "),r()()(),n(46,"div",99)(47,"div",79)(48,"div")(49,"p",100),o(50,"Total Revenue"),r(),n(51,"p",101),o(52),O(53,"currency"),r()(),n(54,"div",102),o(55," \u{1F4B0} "),r()()()()),l&2){let e=g(2);c(7),d(e.formatPercent(e.occupancyStats().currentOccupancyRate)),c(9),d(e.occupancyStats().totalRooms),c(9),d(e.occupancyStats().currentOccupied),c(9),d(e.occupancyStats().currentAvailable),c(9),d(e.formatPercent(e.occupancyStats().averageOccupancyRate)),c(9),d($(53,6,e.occupancyStats().totalRevenue,e.currency(),"symbol","1.2-2"))}}function _e(l,t){if(l&1&&(n(0,"tr",66)(1,"td",103),o(2),r(),n(3,"td",104),o(4),r(),n(5,"td",105),o(6),r(),n(7,"td",106),o(8),r(),n(9,"td",107)(10,"span",108),o(11),r()(),n(12,"td",109),o(13),O(14,"currency"),r(),n(15,"td",104),o(16),O(17,"currency"),r()()),l&2){let e=t.$implicit,a=g(2);c(2),d(a.formatDate(e.date)),c(2),d(e.totalRooms),c(2),d(e.occupiedRooms),c(2),d(e.availableRooms),c(2),B(a.getOccupancyRateClass(e.occupancyRate)),c(),M(" ",a.formatPercent(e.occupancyRate)," "),c(2),d($(14,9,e.revenue,a.currency(),"symbol","1.2-2")),c(3),d($(17,14,e.averageRate,a.currency(),"symbol","1.2-2"))}}function Me(l,t){if(l&1&&(n(0,"div",110),O(1,"titlecase"),n(2,"div",111),o(3),r(),n(4,"div",112),o(5),r(),n(6,"div",113),o(7),r()()),l&2){let e=t.$implicit,a=g(2);B(a.getRoomStatusClass(e.status)),v("title",e.status==="occupied"?"Guest: "+e.guestName+`
Check-in: `+a.formatDateTime(e.checkIn)+`
Rate: `+a.formatCurrency(e.rate||0):"Room Type: "+e.roomType+`
Status: `+q(1,6,e.status)),c(3),d(e.roomNumber),c(2),d(e.roomType),c(2),M(" ",a.getRoomStatusIcon(e.status)," ")}}function Pe(l,t){if(l&1){let e=z();n(0,"div",18)(1,"div",29)(2,"h2",30),o(3,"Report Filters"),r(),n(4,"form",31)(5,"div")(6,"label",32),o(7,"Start Date"),r(),n(8,"input",33),x("change",function(){F(e);let i=g();return j(i.onDateRangeChange())}),r()(),n(9,"div")(10,"label",32),o(11,"End Date"),r(),n(12,"input",34),x("change",function(){F(e);let i=g();return j(i.onDateRangeChange())}),r()(),n(13,"div")(14,"label",32),o(15,"Report Type"),r(),n(16,"select",35)(17,"option",36),o(18,"Daily"),r(),n(19,"option",37),o(20,"Weekly"),r(),n(21,"option",38),o(22,"Monthly"),r()()(),n(23,"div")(24,"label",32),o(25,"Room Type"),r(),n(26,"select",39)(27,"option",40),o(28,"All Room Types"),r(),n(29,"option",41),o(30,"Standard"),r(),n(31,"option",42),o(32,"Deluxe"),r(),n(33,"option",43),o(34,"Suite"),r(),n(35,"option",44),o(36,"Presidential"),r()()(),n(37,"div")(38,"label",32),o(39,"Floor"),r(),n(40,"select",45)(41,"option",40),o(42,"All Floors"),r(),n(43,"option",46),o(44,"Floor 1"),r(),n(45,"option",47),o(46,"Floor 2"),r(),n(47,"option",48),o(48,"Floor 3"),r(),n(49,"option",49),o(50,"Floor 4"),r(),n(51,"option",50),o(52,"Floor 5"),r()()()()(),w(53,we,56,11,"div",51),n(54,"div",52)(55,"div",29)(56,"div",53)(57,"h3",54),o(58,"Occupancy Trend"),r(),n(59,"p",4),o(60,"Room occupancy and availability over time"),r()(),n(61,"div",55),m(62,"canvas",56),r()(),n(63,"div",29)(64,"div",53)(65,"h3",54),o(66,"Daily Revenue"),r(),n(67,"p",4),o(68,"Revenue generated from room bookings"),r()(),n(69,"div",55),m(70,"canvas",57),r()()(),n(71,"div",58)(72,"div",59)(73,"h3",54),o(74,"Detailed Occupancy Data"),r(),n(75,"p",60),o(76,"Day-by-day breakdown of occupancy metrics"),r()(),n(77,"div",61)(78,"table",62)(79,"thead",63)(80,"tr")(81,"th",64),o(82,"Date"),r(),n(83,"th",64),o(84,"Total Rooms"),r(),n(85,"th",64),o(86,"Occupied"),r(),n(87,"th",64),o(88,"Available"),r(),n(89,"th",64),o(90,"Occupancy Rate"),r(),n(91,"th",64),o(92,"Revenue"),r(),n(93,"th",64),o(94,"Avg Rate"),r()()(),n(95,"tbody",65),A(96,_e,18,19,"tr",66,Oe),r()()()(),n(98,"div",29)(99,"div",67)(100,"h3",54),o(101,"Current Room Status"),r(),n(102,"p",60),o(103,"Real-time status of all rooms"),r()(),n(104,"div",68),A(105,Me,8,8,"div",69,Se),r(),n(107,"div",70)(108,"div",71),m(109,"div",72),n(110,"span",73),o(111,"Occupied"),r()(),n(112,"div",71),m(113,"div",74),n(114,"span",73),o(115,"Available"),r()(),n(116,"div",71),m(117,"div",75),n(118,"span",73),o(119,"Out of Order"),r()(),n(120,"div",71),m(121,"div",76),n(122,"span",73),o(123,"Maintenance"),r()()()(),n(124,"div",77),o(125),O(126,"date"),r()()}if(l&2){let e=g();c(4),v("formGroup",e.filterForm),c(49),_(e.occupancyStats()?53:-1),c(9),v("data",e.occupancyChartData())("options",e.occupancyChartOptions),c(8),v("data",e.revenueChartData())("options",e.revenueChartOptions),c(26),L(e.occupancyData()),c(9),L(e.roomStatuses()),c(20),M(" Last updated: ",K(126,7,e.lastUpdated(),"medium")," ")}}var fe=class l{fb=y(ue);occupancyService=y(U);storeStore=y(be);destroy$=new W;selectedStore=G(()=>this.storeStore.selectedStore());currency=G(()=>this.selectedStore()?.currencyCode||this.selectedStore()?.currency||"USD");filterForm;loading=u(!1);occupancyData=u([]);roomStatuses=u([]);occupancyStats=u(null);error=u(null);lastUpdated=u(new Date);occupancyChartData=u({labels:[],datasets:[{data:[],label:"Occupancy Rate (%)",backgroundColor:"rgba(59, 130, 246, 0.1)",borderColor:"rgba(59, 130, 246, 1)",borderWidth:2,fill:!0,tension:.4},{data:[],label:"Available Rooms",backgroundColor:"rgba(34, 197, 94, 0.1)",borderColor:"rgba(34, 197, 94, 1)",borderWidth:2,fill:!1,tension:.4}]});occupancyChartOptions={responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},plugins:{legend:{display:!0,position:"top"},tooltip:{callbacks:{label:t=>t.datasetIndex===0?`Occupancy Rate: ${t.parsed.y}%`:`Available Rooms: ${t.parsed.y}`}}},scales:{x:{display:!0,title:{display:!0,text:"Date"}},y:{display:!0,title:{display:!0,text:"Percentage / Count"},beginAtZero:!0}}};revenueChartData=u({labels:[],datasets:[{data:[],label:"Daily Revenue",backgroundColor:"rgba(168, 85, 247, 0.8)",borderColor:"rgba(168, 85, 247, 1)",borderWidth:1}]});revenueChartOptions={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:t=>{let e=this.currency();return`Revenue: ${new Intl.NumberFormat("en-US",{style:"currency",currency:e}).format(t.parsed.y??0)}`}}}},scales:{x:{display:!0,title:{display:!0,text:"Date"}},y:{display:!0,title:{display:!0,text:`Revenue (${this.currency()})`},beginAtZero:!0,ticks:{callback:t=>{let e=this.currency();return new Intl.NumberFormat("en-US",{style:"currency",currency:e}).format(Number(t))}}}}};displayedColumns=["date","totalRooms","occupiedRooms","availableRooms","occupancyRate","revenue","averageRate"];constructor(){this.filterForm=this.fb.group({startDate:[new Date(Date.now()-720*60*60*1e3)],endDate:[new Date],reportType:["daily"],roomType:["all"],floorNumber:["all"]})}ngOnInit(){this.loadData(),this.filterForm.valueChanges.pipe(C(this.destroy$)).subscribe(()=>{this.loadData()}),this.occupancyService.loading$.pipe(C(this.destroy$)).subscribe(t=>this.loading.set(t)),this.occupancyService.error$.pipe(C(this.destroy$)).subscribe(t=>this.error.set(t))}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadData(){let t=this.getFilters();J({occupancyData:this.occupancyService.getOccupancyData(t),roomStatuses:this.occupancyService.getRoomStatuses(),stats:this.occupancyService.getOccupancyStats(t)}).pipe(C(this.destroy$)).subscribe({next:({occupancyData:e,roomStatuses:a,stats:i})=>{this.occupancyData.set(e),this.roomStatuses.set(a),this.occupancyStats.set(i),this.updateCharts(e),this.lastUpdated.set(new Date)},error:e=>{console.error("Error loading data:",e),this.error.set("Failed to load occupancy data. Please try again.")}})}getFilters(){let t=this.filterForm.value;return{startDate:t.startDate,endDate:t.endDate,reportType:t.reportType,roomType:t.roomType!=="all"?t.roomType:void 0,floorNumber:t.floorNumber&&t.floorNumber!=="all"?parseInt(t.floorNumber):void 0}}updateCharts(t){this.occupancyChartData.set({labels:t.map(e=>this.formatDateShort(e.date)),datasets:[{data:t.map(e=>e.occupancyRate),label:"Occupancy Rate (%)",backgroundColor:"rgba(59, 130, 246, 0.1)",borderColor:"rgba(59, 130, 246, 1)",borderWidth:2,fill:!0,tension:.4},{data:t.map(e=>e.availableRooms),label:"Available Rooms",backgroundColor:"rgba(34, 197, 94, 0.1)",borderColor:"rgba(34, 197, 94, 1)",borderWidth:2,fill:!1,tension:.4}]}),this.revenueChartData.set({labels:t.map(e=>this.formatDateShort(e.date)),datasets:[{data:t.map(e=>e.revenue),label:"Daily Revenue",backgroundColor:"rgba(168, 85, 247, 0.8)",borderColor:"rgba(168, 85, 247, 1)",borderWidth:1}]})}onDateRangeChange(){this.loadData()}exportToCSV(){let t=this.getFilters();this.occupancyService.exportToCSV(t).subscribe({next:e=>{let a=window.URL.createObjectURL(e),i=document.createElement("a");i.href=a,i.download=`occupancy-report-${this.formatDateISO(new Date)}.csv`,i.click(),window.URL.revokeObjectURL(a)},error:e=>{console.error("Export error:",e),this.error.set("Failed to export CSV. Please try again.")}})}exportToPDF(){let t=this.getFilters();this.occupancyService.exportToPDF(t).subscribe({next:e=>{let a=window.URL.createObjectURL(e),i=document.createElement("a");i.href=a,i.download=`occupancy-report-${this.formatDateISO(new Date)}.pdf`,i.click(),window.URL.revokeObjectURL(a)},error:e=>{console.error("Export error:",e),this.error.set("Failed to export PDF. Please try again.")}})}refreshData(){this.loadData()}clearError(){this.occupancyService.clearError(),this.error.set(null)}getRoomStatusClass(t){switch(t){case"occupied":return"bg-red-100 text-red-800 border-red-300";case"available":return"bg-green-100 text-green-800 border-green-300";case"out-of-order":return"bg-gray-100 text-gray-800 border-gray-300";case"maintenance":return"bg-yellow-100 text-yellow-800 border-yellow-300";default:return"bg-gray-100 text-gray-800 border-gray-300"}}getRoomStatusIcon(t){switch(t){case"occupied":return"\u{1F464}";case"available":return"\u2705";case"out-of-order":return"\u{1F6AB}";case"maintenance":return"\u{1F527}";default:return"\u2753"}}getOccupancyRateClass(t){return t>=80?"bg-green-100 text-green-800 border-green-300":t>=60?"bg-yellow-100 text-yellow-800 border-yellow-300":"bg-red-100 text-red-800 border-red-300"}formatCurrency(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:this.currency()}).format(t)}formatDate(t){return t.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}formatDateShort(t){return t.toLocaleDateString("en-US",{month:"short",day:"numeric"})}formatDateISO(t){return t.toISOString().split("T")[0]}formatPercent(t){return`${t.toFixed(1)}%`}formatDateTime(t){return t.toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}static \u0275fac=function(e){return new(e||l)};static \u0275cmp=Z({type:l,selectors:[["app-occupancy-report"]],decls:31,vars:5,consts:[[1,"bg-gradient-to-r","from-purple-50","to-indigo-50","border-b","border-purple-100"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","justify-between","items-center","py-6"],[1,"text-3xl","font-bold","text-gray-900","mb-1"],[1,"text-sm","text-gray-600"],[1,"flex","items-center","gap-3"],[1,"bg-purple-600","hover:bg-purple-700","disabled:bg-purple-300","text-white","px-4","py-2","rounded-lg","font-medium","transition-colors","duration-200","flex","items-center","gap-2",3,"click","disabled"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-4","h-4"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"],[1,"relative"],["id","export-menu-button",1,"bg-white","border","border-purple-300","text-purple-600","hover:bg-purple-50","px-4","py-2","rounded-lg","font-medium","transition-colors","duration-200","flex","items-center","gap-2"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],["id","export-menu",1,"absolute","right-0","mt-2","w-48","bg-white","rounded-lg","shadow-lg","border","border-gray-200","z-10","hidden"],[1,"py-1"],[1,"w-full","text-left","px-4","py-2","text-sm","text-gray-700","hover:bg-gray-100","flex","items-center","gap-2",3,"click"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"],[1,"flex","justify-center","items-center","py-16"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-6"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-6","space-y-6"],[1,"animate-spin","rounded-full","h-10","w-10","border-b-2","border-purple-600"],[1,"ml-3","text-gray-600"],[1,"bg-red-50","border","border-red-200","rounded-lg","p-6"],[1,"flex","items-center"],["fill","none","stroke","currentColor","viewBox","0 0 24 24",1,"w-6","h-6","text-red-600","mr-3"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"],[1,"flex-1"],[1,"text-lg","font-semibold","text-red-800"],[1,"text-red-700","mt-1"],[1,"bg-red-100","hover:bg-red-200","text-red-800","px-3","py-1","rounded","text-sm",3,"click"],[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-200","p-6"],[1,"text-lg","font-semibold","text-gray-900","mb-4"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-5","gap-4",3,"formGroup"],[1,"block","text-sm","font-medium","text-gray-700","mb-2"],["type","date","formControlName","startDate",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-purple-500","focus:border-transparent",3,"change"],["type","date","formControlName","endDate",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-purple-500","focus:border-transparent",3,"change"],["formControlName","reportType",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-purple-500","focus:border-transparent"],["value","daily"],["value","weekly"],["value","monthly"],["formControlName","roomType",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-purple-500","focus:border-transparent"],["value","all"],["value","standard"],["value","deluxe"],["value","suite"],["value","presidential"],["formControlName","floorNumber",1,"w-full","px-3","py-2","border","border-gray-300","rounded-lg","focus:outline-none","focus:ring-2","focus:ring-purple-500","focus:border-transparent"],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],[1,"grid","grid-cols-2","md:grid-cols-3","lg:grid-cols-6","gap-4"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6"],[1,"mb-4"],[1,"text-lg","font-semibold","text-gray-900"],[1,"h-80"],["baseChart","","type","line",3,"data","options"],["baseChart","","type","bar",3,"data","options"],[1,"bg-white","rounded-xl","shadow-sm","border","border-gray-200","overflow-hidden"],[1,"px-6","py-4","border-b","border-gray-200"],[1,"text-sm","text-gray-600","mt-1"],[1,"overflow-x-auto"],[1,"w-full"],[1,"bg-gray-50"],[1,"px-6","py-3","text-left","text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"bg-white","divide-y","divide-gray-200"],[1,"hover:bg-gray-50","transition-colors","duration-150"],[1,"mb-6"],[1,"grid","grid-cols-4","sm:grid-cols-6","md:grid-cols-8","lg:grid-cols-10","xl:grid-cols-12","gap-3","mb-6"],[1,"relative","p-3","rounded-lg","border-2","text-center","text-sm","font-medium","transition-all","duration-200","hover:scale-105","cursor-pointer",3,"class","title"],[1,"flex","flex-wrap","gap-4","text-sm"],[1,"flex","items-center","gap-2"],[1,"w-4","h-4","rounded","bg-red-100","border","border-red-300"],[1,"text-gray-700"],[1,"w-4","h-4","rounded","bg-green-100","border","border-green-300"],[1,"w-4","h-4","rounded","bg-gray-100","border","border-gray-300"],[1,"w-4","h-4","rounded","bg-yellow-100","border","border-yellow-300"],[1,"text-center","text-sm","text-gray-500"],[1,"bg-gradient-to-br","from-blue-50","to-blue-100","rounded-xl","shadow-sm","p-4","border","border-blue-200"],[1,"flex","items-center","justify-between"],[1,"text-xs","font-medium","text-blue-600","uppercase","tracking-wide"],[1,"text-2xl","font-bold","text-blue-900"],[1,"w-12","h-12","bg-blue-500","rounded-full","flex","items-center","justify-center","text-white","text-xl"],[1,"bg-gradient-to-br","from-purple-50","to-purple-100","rounded-xl","shadow-sm","p-4","border","border-purple-200"],[1,"text-xs","font-medium","text-purple-600","uppercase","tracking-wide"],[1,"text-2xl","font-bold","text-purple-900"],[1,"w-12","h-12","bg-purple-500","rounded-full","flex","items-center","justify-center","text-white","text-xl"],[1,"bg-gradient-to-br","from-red-50","to-red-100","rounded-xl","shadow-sm","p-4","border","border-red-200"],[1,"text-xs","font-medium","text-red-600","uppercase","tracking-wide"],[1,"text-2xl","font-bold","text-red-900"],[1,"w-12","h-12","bg-red-500","rounded-full","flex","items-center","justify-center","text-white","text-xl"],[1,"bg-gradient-to-br","from-green-50","to-green-100","rounded-xl","shadow-sm","p-4","border","border-green-200"],[1,"text-xs","font-medium","text-green-600","uppercase","tracking-wide"],[1,"text-2xl","font-bold","text-green-900"],[1,"w-12","h-12","bg-green-500","rounded-full","flex","items-center","justify-center","text-white","text-xl"],[1,"bg-gradient-to-br","from-orange-50","to-orange-100","rounded-xl","shadow-sm","p-4","border","border-orange-200"],[1,"text-xs","font-medium","text-orange-600","uppercase","tracking-wide"],[1,"text-2xl","font-bold","text-orange-900"],[1,"w-12","h-12","bg-orange-500","rounded-full","flex","items-center","justify-center","text-white","text-xl"],[1,"bg-gradient-to-br","from-teal-50","to-teal-100","rounded-xl","shadow-sm","p-4","border","border-teal-200"],[1,"text-xs","font-medium","text-teal-600","uppercase","tracking-wide"],[1,"text-2xl","font-bold","text-teal-900"],[1,"w-12","h-12","bg-teal-500","rounded-full","flex","items-center","justify-center","text-white","text-xl"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-gray-900"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-red-600","font-medium"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-green-600","font-medium"],[1,"px-6","py-4","whitespace-nowrap"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","border"],[1,"px-6","py-4","whitespace-nowrap","text-sm","text-purple-600","font-medium"],[1,"relative","p-3","rounded-lg","border-2","text-center","text-sm","font-medium","transition-all","duration-200","hover:scale-105","cursor-pointer",3,"title"],[1,"text-lg","font-bold"],[1,"text-xs","opacity-75"],[1,"absolute","top-1","right-1","text-sm"]],template:function(e,a){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),o(5,"Occupancy Report"),r(),n(6,"p",4),o(7,"Monitor room occupancy rates, availability, and revenue trends"),r()(),n(8,"div",5)(9,"button",6),x("click",function(){return a.refreshData()}),h(),n(10,"svg",7),m(11,"path",8),r(),o(12),r(),D(),n(13,"div",9)(14,"button",10),h(),n(15,"svg",7),m(16,"path",11),r(),o(17," Export "),r(),D(),n(18,"div",12)(19,"div",13)(20,"button",14),x("click",function(){return a.exportToCSV()}),h(),n(21,"svg",7),m(22,"path",15),r(),o(23," Export to CSV "),r(),D(),n(24,"button",14),x("click",function(){return a.exportToPDF()}),h(),n(25,"svg",7),m(26,"path",11),r(),o(27," Export to PDF "),r()()()()()()()(),w(28,Ce,4,0,"div",16),w(29,De,12,1,"div",17),w(30,Pe,127,10,"div",18)),e&2&&(c(9),v("disabled",a.loading()),c(3),M(" ",a.loading()?"Loading...":"Refresh"," "),c(16),_(a.loading()?28:-1),c(),_(a.error()?29:-1),c(),_(!a.loading()&&!a.error()?30:-1))},dependencies:[te,ge,ce,se,pe,oe,me,ae,ie,de,le,xe,Q,ee,X],styles:["[_nghost-%COMP%]{display:block}.stats-card[_ngcontent-%COMP%]{transition:all .3s ease;border:none}.stats-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 25px #00000026!important}.stats-card[_ngcontent-%COMP%]   mat-card-content[_ngcontent-%COMP%]{padding:0!important}.chart-container[_ngcontent-%COMP%]{position:relative;height:320px;width:100%}.room-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(80px,1fr));gap:8px}.room-grid[_ngcontent-%COMP%]   .room-card[_ngcontent-%COMP%]{aspect-ratio:1;display:flex;flex-direction:column;align-items:center;justify-content:center;border-radius:8px;border:2px solid;transition:all .2s ease;cursor:pointer;position:relative}.room-grid[_ngcontent-%COMP%]   .room-card[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 4px 12px #00000026}.room-grid[_ngcontent-%COMP%]   .room-card.occupied[_ngcontent-%COMP%]{background-color:#fee2e2;border-color:#fecaca;color:#dc2626}.room-grid[_ngcontent-%COMP%]   .room-card.available[_ngcontent-%COMP%]{background-color:#d1fae5;border-color:#a7f3d0;color:#059669}.room-grid[_ngcontent-%COMP%]   .room-card.out-of-order[_ngcontent-%COMP%]{background-color:#f3f4f6;border-color:#e5e7eb;color:#6b7280}.room-grid[_ngcontent-%COMP%]   .room-card.maintenance[_ngcontent-%COMP%]{background-color:#fef3c7;border-color:#fde68a;color:#d97706}.room-grid[_ngcontent-%COMP%]   .room-card[_ngcontent-%COMP%]   .room-number[_ngcontent-%COMP%]{font-size:1.125rem;font-weight:700;margin-bottom:2px}.room-grid[_ngcontent-%COMP%]   .room-card[_ngcontent-%COMP%]   .room-type[_ngcontent-%COMP%]{font-size:.75rem;opacity:.8;text-transform:uppercase;letter-spacing:.025em}.room-grid[_ngcontent-%COMP%]   .room-card[_ngcontent-%COMP%]   .status-icon[_ngcontent-%COMP%]{position:absolute;top:4px;right:4px;font-size:14px}.mat-mdc-table[_ngcontent-%COMP%]{box-shadow:none;border-radius:8px;overflow:hidden}.mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-header-row[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8fafc,#e2e8f0)}.mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-header-row[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%]{font-weight:600;color:#475569;border-bottom:2px solid #e2e8f0}.mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-row[_ngcontent-%COMP%]{transition:background-color .2s ease}.mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-row[_ngcontent-%COMP%]:hover{background-color:#8b5cf60d!important}.mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-row[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%]{border-bottom:1px solid #f1f5f9;padding:16px}  .mat-mdc-form-field .mat-mdc-text-field-wrapper{background-color:#fafbfc;border-radius:8px}  .mat-mdc-form-field.mat-focused .mat-mdc-form-field-focus-overlay{background-color:#8b5cf60d}  .mat-mdc-form-field .mat-mdc-form-field-outline-thick{color:#8b5cf6}  .mat-mdc-form-field .mat-mdc-floating-label.mdc-floating-label--float-above{color:#8b5cf6}  .mat-mdc-card-header{padding-bottom:16px;border-bottom:1px solid #e2e8f0;margin-bottom:16px}  .mat-mdc-card-header .mat-mdc-card-title{font-size:1.125rem;font-weight:600;color:#1f2937;margin-bottom:4px}  .mat-mdc-card-header .mat-mdc-card-subtitle{color:#6b7280;font-size:.875rem}  .mat-mdc-raised-button{box-shadow:0 2px 4px #0000001a;border-radius:8px;font-weight:500;text-transform:none}  .mat-mdc-raised-button:hover{box-shadow:0 4px 8px #00000026}  .mat-mdc-raised-button.mat-primary{background:linear-gradient(135deg,#8b5cf6,#7c3aed)}  .mat-mdc-raised-button.mat-primary:hover{background:linear-gradient(135deg,#7c3aed,#6d28d9)}  .mat-mdc-menu-panel{border-radius:8px;box-shadow:0 10px 25px #00000026;border:1px solid #e2e8f0}  .mat-mdc-menu-panel .mat-mdc-menu-item{border-radius:4px;margin:4px 8px;transition:background-color .2s ease}  .mat-mdc-menu-panel .mat-mdc-menu-item:hover{background-color:#8b5cf61a}  .mat-mdc-menu-panel .mat-mdc-menu-item .mat-icon{color:#6b7280;margin-right:12px}  .mat-mdc-progress-spinner circle{stroke:#8b5cf6}  .mat-mdc-tooltip{background-color:#1f2937;color:#fff;font-size:.75rem;border-radius:6px;padding:8px 12px;white-space:pre-line}.occupancy-badge.high[_ngcontent-%COMP%]{background-color:#d1fae5;color:#065f46;border:1px solid #a7f3d0}.occupancy-badge.medium[_ngcontent-%COMP%]{background-color:#fef3c7;color:#92400e;border:1px solid #fde68a}.occupancy-badge.low[_ngcontent-%COMP%]{background-color:#fee2e2;color:#991b1b;border:1px solid #fecaca}.export-buttons[_ngcontent-%COMP%]   .mat-mdc-button[_ngcontent-%COMP%]{margin-left:8px;border:1px solid #d1d5db;color:#6b7280}.export-buttons[_ngcontent-%COMP%]   .mat-mdc-button[_ngcontent-%COMP%]:hover{background-color:#f9fafb;border-color:#9ca3af}.chart-legend[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;gap:16px;margin-top:16px}.chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;font-size:.875rem;color:#6b7280}.chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-color[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:2px}@media(max-width:1024px){.room-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(70px,1fr));gap:6px}.stats-card[_ngcontent-%COMP%]   .stats-content[_ngcontent-%COMP%]{padding:12px}}@media(max-width:768px){.room-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(60px,1fr));gap:4px}.room-grid[_ngcontent-%COMP%]   .room-card[_ngcontent-%COMP%]   .room-number[_ngcontent-%COMP%]{font-size:1rem}.room-grid[_ngcontent-%COMP%]   .room-card[_ngcontent-%COMP%]   .room-type[_ngcontent-%COMP%]{font-size:.625rem}.chart-container[_ngcontent-%COMP%]{height:250px}.mat-mdc-table[_ngcontent-%COMP%]{font-size:.875rem}.mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-cell[_ngcontent-%COMP%], .mat-mdc-table[_ngcontent-%COMP%]   .mat-mdc-header-cell[_ngcontent-%COMP%]{padding:8px 12px}}@media(max-width:640px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr);gap:12px}.filter-form[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:16px}.export-buttons[_ngcontent-%COMP%]{flex-direction:column;gap:8px;width:100%}.export-buttons[_ngcontent-%COMP%]   .mat-mdc-button[_ngcontent-%COMP%]{margin:0;width:100%}}.error-state[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]{display:flex;align-items:center;padding:16px;background-color:#fef2f2;border:1px solid #fecaca;border-radius:8px;color:#dc2626}.error-state[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   .mat-icon[_ngcontent-%COMP%]{margin-right:12px;font-size:24px}.error-state[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]{flex:1}.error-state[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0 0 4px;font-size:1.125rem;font-weight:600}.error-state[_ngcontent-%COMP%]   .error-content[_ngcontent-%COMP%]   .error-text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.875rem}.loading-state[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:48px 16px;color:#6b7280}.loading-state[_ngcontent-%COMP%]   .mat-mdc-progress-spinner[_ngcontent-%COMP%]{margin-bottom:16px}.loading-state[_ngcontent-%COMP%]   .loading-text[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .3s ease-out}@media print{.export-buttons[_ngcontent-%COMP%], .filter-form[_ngcontent-%COMP%], mat-card-header[_ngcontent-%COMP%]{display:none!important}.room-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(10,1fr);gap:2px}.mat-mdc-card[_ngcontent-%COMP%]{box-shadow:none!important;border:1px solid #e5e7eb}}"]})};export{fe as OccupancyReportComponent};
