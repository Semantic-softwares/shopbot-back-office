import{d as ge,e as _e}from"./chunk-HAT37PYE.js";import{a as xe}from"./chunk-OC53S64Y.js";import{a as pe,b as ue}from"./chunk-24SFQJLQ.js";import"./chunk-MS4AQ6UA.js";import{a as se,b as ce}from"./chunk-YVYCFWPM.js";import"./chunk-3RK6DDJD.js";import"./chunk-JQGESV5S.js";import{d as U}from"./chunk-XQNDMVIO.js";import{b as oe,c as re,d as ae}from"./chunk-3632TDEK.js";import"./chunk-EEQKDLYL.js";import"./chunk-JTD73F4Y.js";import{a as te,d as ie,h as ne}from"./chunk-JGZ2V5AL.js";import{B as Y,C as Z,D as ee,b as Q,g as z,h as K,m as W,p as X,s as J}from"./chunk-CXVWFC6J.js";import"./chunk-JTLCVARK.js";import{a as le,b as de}from"./chunk-7C3RSL2D.js";import"./chunk-OHZSVTBE.js";import"./chunk-VIOSJ367.js";import"./chunk-TEL7Y7UN.js";import{q as G}from"./chunk-FSA22CPB.js";import{b as me}from"./chunk-JTAKXPWP.js";import"./chunk-M2YK6UF7.js";import"./chunk-BVQK7CK4.js";import"./chunk-LJSEVW7O.js";import{d as H,g as q}from"./chunk-7EKHSXIM.js";import"./chunk-TQDHD3WD.js";import{i as B,o as A,t as D}from"./chunk-DWCYWQVU.js";import{Ac as R,Bc as k,Cc as h,Db as s,Dc as y,Eb as c,Fb as L,Gb as w,Hb as _,Ib as f,Jb as u,Kb as n,Lb as i,Mb as S,Mc as N,Qb as E,Ub as g,Vb as d,_a as l,fa as $,fc as P,ic as r,jc as x,kb as j,kc as p,la as v,lc as I,ma as b,va as C,wc as M,xc as V}from"./chunk-5AECHVKR.js";import{f as F}from"./chunk-EQDQRRRY.js";var Ee=(t,o,e,a,m)=>({"bg-green-100 text-green-800":t,"bg-purple-100 text-purple-800":o,"bg-orange-100 text-orange-800":e,"bg-cyan-100 text-cyan-800":a,"bg-red-100 text-red-800":m}),Re=(t,o,e,a)=>({"bg-green-100 text-green-800":t,"bg-orange-100 text-orange-800":o,"bg-cyan-100 text-cyan-800":e,"bg-red-100 text-red-800":a}),ve=(t,o,e,a,m)=>({"bg-green-100 text-green-800 ring-green-200":t,"bg-purple-100 text-purple-800 ring-purple-200":o,"bg-orange-100 text-orange-800 ring-orange-200":e,"bg-cyan-100 text-cyan-800 ring-cyan-200":a,"bg-red-100 text-red-800 ring-red-200":m}),be=(t,o,e,a,m)=>({"bg-green-600":t,"bg-purple-600":o,"bg-orange-600":e,"bg-cyan-600":a,"bg-red-600":m}),he=(t,o,e,a)=>({"bg-green-100 text-green-800 ring-green-200":t,"bg-orange-100 text-orange-800 ring-orange-200":o,"bg-cyan-100 text-cyan-800 ring-cyan-200":e,"bg-red-100 text-red-800 ring-red-200":a}),ye=(t,o,e,a)=>({"bg-green-600":t,"bg-orange-600":o,"bg-cyan-600":e,"bg-red-600":a}),Ce=t=>["./",t],Se=t=>["./",t,"edit"],O=()=>[],ke=(t,o)=>o.id||o._id,we=(t,o)=>o._id||o.id;function Te(t,o){if(t&1&&(n(0,"mat-option",34)(1,"span",52)(2,"span",53),r(3),h(4,"titlecase"),i()()()),t&2){let e=o.$implicit;u("value",e),l(2),u("ngClass",k(5,Ee,e==="available",e==="occupied",e==="maintenance",e==="cleaning",e==="out_of_order")),l(),p(" ",y(4,3,e)," ")}}function Fe(t,o){if(t&1&&(n(0,"mat-option",34)(1,"span",52)(2,"span",53),r(3),h(4,"titlecase"),i()()()),t&2){let e=o.$implicit;u("value",e),l(2),u("ngClass",R(5,Re,e==="clean",e==="dirty",e==="inspected",e==="out_of_order")),l(),p(" ",y(4,3,e)," ")}}function Le(t,o){if(t&1&&(n(0,"mat-option",34),r(1),i()),t&2){let e=o.$implicit;u("value",e.id||e._id),l(),x(e.name)}}function Ie(t,o){if(t&1&&(n(0,"mat-option",34),r(1),i()),t&2){let e=o.$implicit;u("value",e),l(),p("Floor ",e)}}function Me(t,o){if(t&1){let e=E();n(0,"div",47)(1,"div",54)(2,"span",55),r(3),i(),n(4,"div",56)(5,"button",57),g("click",function(){v(e);let m=d();return b(m.bulkUpdateStatus("available"))}),n(6,"mat-icon",45),r(7,"check_circle"),i(),r(8," Mark Available "),i(),n(9,"button",58),g("click",function(){v(e);let m=d();return b(m.bulkUpdateStatus("maintenance"))}),n(10,"mat-icon",45),r(11,"build"),i(),r(12," Mark Maintenance "),i(),n(13,"button",59),g("click",function(){v(e);let m=d();return b(m.bulkUpdateStatus("cleaning"))}),n(14,"mat-icon",45),r(15,"cleaning_services"),i(),r(16," Mark Cleaning "),i(),n(17,"button",60),g("click",function(){v(e);let m=d();return b(m.clearSelection())}),n(18,"mat-icon",45),r(19,"clear"),i(),r(20," Clear Selection "),i()()()()}if(t&2){let e=d();l(3),p("",e.selectedRooms().length," room(s) selected")}}function Ve(t,o){t&1&&(n(0,"div",48),S(1,"div",61),n(2,"span",62),r(3,"Loading rooms..."),i()())}function $e(t,o){if(t&1&&(r(0),n(1,"span",96),r(2),i()),t&2){let e=d().$implicit;p(" ",e.name," "),l(2),p("(",e.roomNumber,")")}}function Oe(t,o){if(t&1&&r(0),t&2){let e=d().$implicit;p(" ",e.roomNumber," ")}}function Ne(t,o){if(t&1&&(n(0,"div",78),r(1),i()),t&2){let e=d().$implicit;l(),p("Floor ",e.floor)}}function je(t,o){if(t&1&&(n(0,"div",79),r(1),i()),t&2){let e=d().$implicit;l(),x(e.bedConfiguration)}}function Pe(t,o){if(t&1&&r(0),t&2){let e=d().$implicit;I(" ",e.capacity.adults,"A/",e.capacity.children,"C ")}}function Be(t,o){if(t&1&&r(0),t&2){let e=d().$implicit;I(" ",e.roomType.capacity.adults,"A/",e.roomType.capacity.children,"C ")}}function Ae(t,o){if(t&1&&r(0),t&2){let e=d().$implicit;p(" \u2022 Max ",e.maxOccupancy," ")}}function De(t,o){if(t&1&&r(0),t&2){let e=d().$implicit;p(" $",e.priceOverride,"/night ")}}function He(t,o){if(t&1&&r(0),t&2){let e=d().$implicit;p(" $",e.roomType.basePrice,"/night ")}}function qe(t,o){if(t&1&&(n(0,"div",81),r(1),i()),t&2){let e=d().$implicit,a=d(2);l(),x(a.getSizeDisplay(e.size))}}function Ue(t,o){if(t&1&&(n(0,"div",82)(1,"mat-icon",97),r(2),i(),r(3),h(4,"titlecase"),i()),t&2){let e=d().$implicit,a=d(2);l(2),x(a.getViewIcon(e.viewType)),l(),p(" ",y(4,2,e.viewType)," View ")}}function Ge(t,o){t&1&&(n(0,"mat-icon",98),r(1,"star"),i())}function Qe(t,o){t&1&&(n(0,"mat-icon",99),r(1,"star_border"),i())}function ze(t,o){if(t&1&&(n(0,"div",83),_(1,Ge,2,0,"mat-icon",98,L),_(3,Qe,2,0,"mat-icon",99,L),n(5,"span",100),r(6),i()()),t&2){let e=d().$implicit;l(),f(M(1,O).constructor(e.qualityRating)),l(2),f(M(2,O).constructor(5-e.qualityRating)),l(3),p("",e.qualityRating,"/5")}}function Ke(t,o){t&1&&(n(0,"span",84),r(1,"Not rated"),i())}function We(t,o){if(t&1&&(n(0,"span",88),r(1),i()),t&2){let e=o.$implicit;l(),x(e)}}function Xe(t,o){if(t&1&&(n(0,"span",89),r(1),i()),t&2){let e=d().$implicit,a=d(2);l(),p("+",a.getFeaturesList(e).length-3)}}function Je(t,o){if(t&1){let e=E();n(0,"tr",70)(1,"td",72)(2,"mat-checkbox",73),g("change",function(){let m=v(e).$implicit,T=d(2);return b(T.toggleRoomSelection(m))}),i()(),n(3,"td",72)(4,"div",74)(5,"div",75)(6,"mat-icon",76),r(7,"hotel"),i()(),n(8,"div")(9,"div",77),s(10,$e,3,2)(11,Oe,1,1),i(),s(12,Ne,2,1,"div",78),s(13,je,2,1,"div",79),i()()(),n(14,"td",72)(15,"div")(16,"div",77),r(17),i(),n(18,"div",78),s(19,Pe,1,2)(20,Be,1,2),s(21,Ae,1,1),i(),n(22,"div",80),s(23,De,1,1)(24,He,1,1),i()()(),n(25,"td",72)(26,"div"),s(27,qe,2,1,"div",81),s(28,Ue,5,4,"div",82),i()(),n(29,"td",72),s(30,ze,7,3,"div",83)(31,Ke,2,0,"span",84),i(),n(32,"td",72)(33,"span",85),S(34,"span",86),r(35),h(36,"titlecase"),i()(),n(37,"td",72)(38,"span",85),S(39,"span",86),r(40),h(41,"titlecase"),i()(),n(42,"td",72)(43,"div",87),_(44,We,2,1,"span",88,w),s(46,Xe,2,1,"span",89),i()(),n(47,"td",90)(48,"div",91)(49,"button",92)(50,"mat-icon",8),r(51,"visibility"),i()(),n(52,"button",93)(53,"mat-icon",8),r(54,"edit"),i()(),n(55,"div",94)(56,"button",95)(57,"mat-icon",8),r(58,"more_vert"),i()()()()()()}if(t&2){let e=o.$implicit,a=d(2);l(2),u("checked",a.isRoomSelected(e)),l(8),c(e.name?10:11),l(2),c(e.floor!==void 0&&e.floor!==null?12:-1),l(),c(e.bedConfiguration?13:-1),l(4),x(a.getRoomTypeName(e)),l(2),c(e.capacity?19:e.roomType&&typeof e.roomType=="object"?20:-1),l(2),c(e.maxOccupancy?21:-1),l(2),c(e.priceOverride?23:e.roomType&&typeof e.roomType=="object"?24:-1),l(4),c(e.size?27:-1),l(),c(e.viewType?28:-1),l(2),c(e.qualityRating?30:31),l(3),u("ngClass",k(24,ve,e.status==="available",e.status==="occupied",e.status==="maintenance",e.status==="cleaning",e.status==="out_of_order")),l(),u("ngClass",k(30,be,e.status==="available",e.status==="occupied",e.status==="maintenance",e.status==="cleaning",e.status==="out_of_order")),l(),p(" ",y(36,20,e.status)," "),l(3),u("ngClass",R(36,he,e.housekeepingStatus==="clean",e.housekeepingStatus==="dirty",e.housekeepingStatus==="inspected",e.housekeepingStatus==="out_of_order")),l(),u("ngClass",R(41,ye,e.housekeepingStatus==="clean",e.housekeepingStatus==="dirty",e.housekeepingStatus==="inspected",e.housekeepingStatus==="out_of_order")),l(),p(" ",y(41,22,e.housekeepingStatus)," "),l(4),f(a.getFeaturesList(e).slice(0,3)),l(2),c(a.getFeaturesList(e).length>3?46:-1),l(3),u("routerLink",V(46,Ce,e._id||e.id)),l(3),u("routerLink",V(48,Se,e._id||e.id))}}function Ye(t,o){t&1&&(n(0,"div",71)(1,"div",101)(2,"mat-icon",102),r(3,"hotel"),i()(),n(4,"h3",103),r(5,"No rooms found"),i(),n(6,"p",104),r(7,"Try adjusting your filters or create a new room."),i(),n(8,"button",105)(9,"mat-icon",8),r(10,"add"),i(),r(11," Add Room "),i()())}function Ze(t,o){if(t&1){let e=E();n(0,"div",49)(1,"div",63)(2,"table",64)(3,"thead",65)(4,"tr")(5,"th",66)(6,"mat-checkbox",67),g("change",function(){v(e);let m=d();return b(m.selectedRooms().length===m.filteredRooms().length?m.clearSelection():m.selectAllRooms())}),i()(),n(7,"th",66),r(8,"Room"),i(),n(9,"th",66),r(10,"Type & Capacity"),i(),n(11,"th",66),r(12,"Size & View"),i(),n(13,"th",66),r(14,"Quality"),i(),n(15,"th",66),r(16,"Status"),i(),n(17,"th",66),r(18,"Housekeeping"),i(),n(19,"th",66),r(20,"Features"),i(),n(21,"th",68),r(22,"Actions"),i()()(),n(23,"tbody",69),_(24,Je,59,50,"tr",70,we),i()()(),s(26,Ye,12,0,"div",71),i()}if(t&2){let e=d();l(6),u("checked",e.selectedRooms().length===e.filteredRooms().length&&e.filteredRooms().length>0)("indeterminate",e.selectedRooms().length>0&&e.selectedRooms().length<e.filteredRooms().length),l(18),f(e.filteredRooms()),l(2),c(e.filteredRooms().length===0&&!e.loading()?26:-1)}}function et(t,o){if(t&1&&(r(0),n(1,"span",126),r(2),i()),t&2){let e=d().$implicit;p(" ",e.name," "),l(2),p("(",e.roomNumber,")")}}function tt(t,o){if(t&1&&r(0),t&2){let e=d().$implicit;p(" Room ",e.roomNumber," ")}}function it(t,o){if(t&1&&(n(0,"div",115)(1,"mat-icon",116),r(2,"layers"),i(),n(3,"span"),r(4),i()()),t&2){let e=d().$implicit;l(4),p("Floor ",e.floor)}}function nt(t,o){if(t&1&&(n(0,"div",115)(1,"mat-icon",116),r(2,"fullscreen"),i(),n(3,"span"),r(4),i()()),t&2){let e=d().$implicit,a=d(2);l(4),x(a.getSizeDisplay(e.size))}}function ot(t,o){if(t&1&&(n(0,"div",115)(1,"mat-icon",116),r(2),i(),n(3,"span"),r(4),h(5,"titlecase"),i()()),t&2){let e=d().$implicit,a=d(2);l(2),x(a.getViewIcon(e.viewType)),l(2),p("",y(5,2,e.viewType)," View")}}function rt(t,o){if(t&1&&(n(0,"div",115)(1,"mat-icon",116),r(2,"bed"),i(),n(3,"span"),r(4),i()()),t&2){let e=d().$implicit;l(4),x(e.bedConfiguration)}}function at(t,o){if(t&1&&r(0),t&2){let e=d().$implicit;I(" ",e.capacity.adults,"A/",e.capacity.children,"C ")}}function lt(t,o){if(t&1&&r(0),t&2){let e=d().$implicit;I(" ",e.roomType.capacity.adults,"A/",e.roomType.capacity.children,"C ")}}function dt(t,o){if(t&1&&r(0),t&2){let e=d().$implicit;p(" (Max ",e.maxOccupancy,") ")}}function mt(t,o){if(t&1&&r(0),t&2){let e=d().$implicit;p(" $",e.priceOverride,"/night (Custom) ")}}function st(t,o){if(t&1&&r(0),t&2){let e=d().$implicit;p(" $",e.roomType.basePrice,"/night ")}}function ct(t,o){t&1&&(n(0,"mat-icon",98),r(1,"star"),i())}function pt(t,o){t&1&&(n(0,"mat-icon",99),r(1,"star_border"),i())}function ut(t,o){if(t&1&&(n(0,"div",115)(1,"div",83),_(2,ct,2,0,"mat-icon",98,L),_(4,pt,2,0,"mat-icon",99,L),n(6,"span",127),r(7),i()()()),t&2){let e=d().$implicit;l(2),f(M(1,O).constructor(e.qualityRating)),l(2),f(M(2,O).constructor(5-e.qualityRating)),l(3),p("",e.qualityRating,"/5")}}function xt(t,o){if(t&1&&(n(0,"span",88),r(1),i()),t&2){let e=o.$implicit;l(),x(e)}}function gt(t,o){if(t&1&&(n(0,"div",122)(1,"div",128),r(2,"Features:"),i(),n(3,"div",87),_(4,xt,2,1,"span",88,w),i()()),t&2){let e=d().$implicit,a=d(2);l(4),f(a.getFeaturesList(e))}}function _t(t,o){if(t&1){let e=E();n(0,"div",108)(1,"div",109)(2,"div",110)(3,"div",111)(4,"mat-checkbox",73),g("change",function(){let m=v(e).$implicit,T=d(2);return b(T.toggleRoomSelection(m))}),i(),n(5,"div",5)(6,"div",75)(7,"mat-icon",76),r(8,"hotel"),i()(),n(9,"div")(10,"h3",112),s(11,et,3,2)(12,tt,1,1),i(),n(13,"p",16),r(14),i()()()()(),n(15,"div",113)(16,"div",114),s(17,it,5,1,"div",115),s(18,nt,5,1,"div",115),s(19,ot,6,4,"div",115),s(20,rt,5,1,"div",115),i(),n(21,"div",115)(22,"mat-icon",116),r(23,"people"),i(),n(24,"span"),s(25,at,1,2)(26,lt,1,2),s(27,dt,1,1),i()(),n(28,"div",117)(29,"mat-icon",116),r(30,"attach_money"),i(),n(31,"span",118),s(32,mt,1,1)(33,st,1,1),i()(),s(34,ut,8,3,"div",115),n(35,"div",119)(36,"div",120)(37,"mat-icon",116),r(38,"hotel_class"),i(),n(39,"span"),r(40,"Status"),i()(),n(41,"span",121),S(42,"span",86),r(43),h(44,"titlecase"),i()(),n(45,"div",119)(46,"div",120)(47,"mat-icon",116),r(48,"cleaning_services"),i(),n(49,"span"),r(50,"Housekeeping"),i()(),n(51,"span",121),S(52,"span",86),r(53),h(54,"titlecase"),i()(),s(55,gt,6,0,"div",122),i(),n(56,"div",123)(57,"button",124)(58,"mat-icon",45),r(59,"visibility"),i(),r(60," View "),i(),n(61,"button",125)(62,"mat-icon",45),r(63,"edit"),i(),r(64," Edit "),i()()()()}if(t&2){let e=o.$implicit,a=d(2);P("ring-2",a.isRoomSelected(e))("ring-blue-500",a.isRoomSelected(e))("bg-blue-50",a.isRoomSelected(e)),l(4),u("checked",a.isRoomSelected(e)),l(7),c(e.name?11:12),l(3),x(a.getRoomTypeName(e)),l(3),c(e.floor!==void 0&&e.floor!==null?17:-1),l(),c(e.size?18:-1),l(),c(e.viewType?19:-1),l(),c(e.bedConfiguration?20:-1),l(5),c(e.capacity?25:e.roomType&&typeof e.roomType=="object"?26:-1),l(2),c(e.maxOccupancy?27:-1),l(5),c(e.priceOverride?32:e.roomType&&typeof e.roomType=="object"?33:-1),l(2),c(e.qualityRating?34:-1),l(7),u("ngClass",k(30,ve,e.status==="available",e.status==="occupied",e.status==="maintenance",e.status==="cleaning",e.status==="out_of_order")),l(),u("ngClass",k(36,be,e.status==="available",e.status==="occupied",e.status==="maintenance",e.status==="cleaning",e.status==="out_of_order")),l(),p(" ",y(44,26,e.status)," "),l(8),u("ngClass",R(42,he,e.housekeepingStatus==="clean",e.housekeepingStatus==="dirty",e.housekeepingStatus==="inspected",e.housekeepingStatus==="out_of_order")),l(),u("ngClass",R(47,ye,e.housekeepingStatus==="clean",e.housekeepingStatus==="dirty",e.housekeepingStatus==="inspected",e.housekeepingStatus==="out_of_order")),l(),p(" ",y(54,28,e.housekeepingStatus)," "),l(2),c(a.getFeaturesList(e).length>0?55:-1),l(2),u("routerLink",V(52,Ce,e._id||e.id)),l(4),u("routerLink",V(54,Se,e._id||e.id))}}function ft(t,o){t&1&&(n(0,"div",107)(1,"div",101)(2,"mat-icon",102),r(3,"hotel"),i()(),n(4,"h3",103),r(5,"No rooms found"),i(),n(6,"p",104),r(7,"Try adjusting your filters or create a new room."),i(),n(8,"button",129)(9,"mat-icon",8),r(10,"add"),i(),r(11," Add Room "),i()())}function vt(t,o){if(t&1&&(n(0,"div",50),_(1,_t,65,56,"div",106,we),s(3,ft,12,0,"div",107),i()),t&2){let e=d();l(),f(e.filteredRooms()),l(2),c(e.filteredRooms().length===0&&!e.loading()?3:-1)}}function bt(t,o){if(t&1){let e=E();n(0,"div",51)(1,"div",130)(2,"mat-icon",131),r(3,"error"),i()(),n(4,"h3",103),r(5,"Error Loading Rooms"),i(),n(6,"p",104),r(7),i(),n(8,"button",132),g("click",function(){v(e);let m=d();return b(m.loadData())}),n(9,"mat-icon",8),r(10,"refresh"),i(),r(11," Retry "),i()()}if(t&2){let e=d();l(7),x(e.error())}}var fe=class t{roomsService=$(xe);storeStore=$(me);fb=$(Y);rooms=C([]);roomTypes=C([]);loading=C(!1);error=C(null);selectedRooms=C([]);viewMode=C("table");filterForm;displayedColumns=["select","roomNumber","roomType","floor","status","housekeepingStatus","features","actions"];statusOptions=["available","occupied","maintenance","cleaning","out_of_order"];housekeepingOptions=["clean","dirty","inspected","out_of_order"];filteredRooms=N(()=>{let o=this.rooms(),e=this.filterForm?.value;return e?o.filter(a=>{if(e.search){let m=e.search.toLowerCase(),T=typeof a.roomType=="object"?a.roomType.name.toLowerCase():"";if(!a.roomNumber.toLowerCase().includes(m)&&!T.includes(m))return!1}if(e.status?.length&&!e.status.includes(a.status)||e.housekeepingStatus?.length&&!e.housekeepingStatus.includes(a.housekeepingStatus))return!1;if(e.roomType?.length){let m=typeof a.roomType=="object"?a.roomType._id||a.roomType.id:a.roomType;if(!e.roomType.includes(m))return!1}return!(e.floor?.length&&a.floor&&!e.floor.includes(a.floor))}):o});roomStats=N(()=>{let o=this.filteredRooms();return{total:o.length,available:o.filter(e=>e.status==="available").length,occupied:o.filter(e=>e.status==="occupied").length,maintenance:o.filter(e=>e.status==="maintenance").length,cleaning:o.filter(e=>e.status==="cleaning").length,outOfOrder:o.filter(e=>e.status==="out_of_order").length}});constructor(){this.filterForm=this.fb.group({search:[""],status:[[]],housekeepingStatus:[[]],roomType:[[]],floor:[[]]}),this.filterForm.valueChanges.subscribe(()=>{})}ngOnInit(){this.loadData()}loadData(){return F(this,null,function*(){try{let e=this.storeStore.selectedStore()?._id;if(!e){this.error.set("No store selected");return}this.loading.set(!0),this.error.set(null);let[a,m]=yield Promise.all([this.roomsService.getRooms(e).toPromise(),this.roomsService.getRoomTypes(e).toPromise()]);this.rooms.set(a||[]),this.roomTypes.set(m||[]),this.loading.set(!1)}catch(o){console.error("Error loading data:",o),this.error.set("Failed to load rooms data"),this.loading.set(!1)}})}clearFilters(){this.filterForm.reset({search:"",status:[],housekeepingStatus:[],roomType:[],floor:[]})}applyQuickFilter(o){this.filterForm.patchValue(o)}toggleRoomSelection(o){let e=this.selectedRooms(),a=e.findIndex(m=>(m._id||m.id)===(o._id||o.id));a>-1?e.splice(a,1):e.push(o),this.selectedRooms.set([...e])}isRoomSelected(o){return this.selectedRooms().some(e=>(e._id||e.id)===(o._id||o.id))}selectAllRooms(){this.selectedRooms.set([...this.filteredRooms()])}clearSelection(){this.selectedRooms.set([])}updateRoomStatus(o,e){return F(this,null,function*(){try{let a=o._id||o.id;yield this.roomsService.updateRoomStatus(a,e).toPromise(),yield this.loadData()}catch(a){console.error("Error updating room status:",a)}})}updateHousekeepingStatus(o,e){return F(this,null,function*(){try{let a=o._id||o.id;yield this.roomsService.updateHousekeepingStatus(a,e).toPromise(),yield this.loadData()}catch(a){console.error("Error updating housekeeping status:",a)}})}bulkUpdateStatus(o){return F(this,null,function*(){try{let e=this.selectedRooms().map(a=>a._id||a.id);yield this.roomsService.bulkUpdateRoomStatus(e,o).toPromise(),this.clearSelection(),yield this.loadData()}catch(e){console.error("Error bulk updating status:",e)}})}getRoomTypeName(o){return typeof o.roomType=="object"?o.roomType.name:"Unknown"}getStatusColor(o){return ge[o]||"default"}getHousekeepingColor(o){return _e[o]||"default"}getFeaturesList(o){let e=[];return o.features.hasBalcony&&e.push("Balcony"),o.features.hasKitchen&&e.push("Kitchen"),o.features.hasBathtub&&e.push("Bathtub"),o.features.hasAirConditioning&&e.push("AC"),o.features.hasWifi&&e.push("WiFi"),o.features.hasTV&&e.push("TV"),o.features.oceanView&&e.push("Ocean View"),o.features.cityView&&e.push("City View"),o.amenities&&o.amenities.length>0&&e.push(...o.amenities.slice(0,2)),e}getSizeDisplay(o){return o?typeof o=="string"?{small:"Small",medium:"Medium",large:"Large","extra-large":"X-Large"}[o]||o:`${o} sq ft`:""}getViewIcon(o){return o&&{ocean:"waves",city:"location_city",mountain:"terrain",garden:"local_florist",pool:"pool",courtyard:"account_balance",street:"traffic",interior:"home"}[o]||"home"}getFloorOptions(){let o=new Set;return this.rooms().forEach(a=>{a.floor!==void 0&&o.add(a.floor)}),Array.from(o).sort((a,m)=>a-m)}toggleViewMode(){this.viewMode.set(this.viewMode()==="table"?"grid":"table")}navigateToRoom(o){}editRoom(o){}deleteRoom(o){}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=j({type:t,selectors:[["app-rooms-list"]],decls:140,vars:14,consts:[[1,"bg-gradient-to-r","from-blue-50","to-indigo-50","border-b","border-blue-100"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","justify-between","items-center","py-6"],[1,"text-3xl","font-bold","text-gray-900","mb-1"],[1,"text-sm","text-gray-600"],[1,"flex","items-center","gap-3"],[1,"p-2","text-gray-600","hover:text-gray-900","hover:bg-white/60","rounded-lg","transition-all","duration-200",3,"click","title"],["routerLink","./create",1,"!bg-gradient-to-r","!from-blue-600","!to-blue-700","hover:!from-blue-700","hover:!to-blue-800","!text-white","px-6","py-3","rounded-lg","font-medium","transition-all","duration-200","shadow-lg","hover:shadow-xl","transform","hover:scale-105","flex","items-center","gap-2"],[1,"text-lg"],[1,"bg-white","shadow-sm","border-b","border-gray-100"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-6"],[1,"grid","grid-cols-2","md:grid-cols-3","lg:grid-cols-6","gap-4"],[1,"bg-gradient-to-br","from-blue-50","to-blue-100","rounded-xl","border","border-blue-200","p-4","shadow-sm","hover:shadow-md","transition-all","duration-200"],[1,"w-12","h-12","bg-gradient-to-r","from-blue-500","to-blue-600","rounded-full","flex","items-center","justify-center","shadow-lg"],[1,"text-white","text-xl"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-sm","font-medium","text-gray-600"],[1,"bg-gradient-to-br","from-green-50","to-green-100","rounded-xl","border","border-green-200","p-4","shadow-sm","hover:shadow-md","transition-all","duration-200"],[1,"w-12","h-12","bg-gradient-to-r","from-green-500","to-green-600","rounded-full","flex","items-center","justify-center","shadow-lg"],[1,"bg-gradient-to-br","from-purple-50","to-purple-100","rounded-xl","border","border-purple-200","p-4","shadow-sm","hover:shadow-md","transition-all","duration-200"],[1,"w-12","h-12","bg-gradient-to-r","from-purple-500","to-purple-600","rounded-full","flex","items-center","justify-center","shadow-lg"],[1,"bg-gradient-to-br","from-orange-50","to-orange-100","rounded-xl","border","border-orange-200","p-4","shadow-sm","hover:shadow-md","transition-all","duration-200"],[1,"w-12","h-12","bg-gradient-to-r","from-orange-500","to-orange-600","rounded-full","flex","items-center","justify-center","shadow-lg"],[1,"bg-gradient-to-br","from-cyan-50","to-cyan-100","rounded-xl","border","border-cyan-200","p-4","shadow-sm","hover:shadow-md","transition-all","duration-200"],[1,"w-12","h-12","bg-gradient-to-r","from-cyan-500","to-cyan-600","rounded-full","flex","items-center","justify-center","shadow-lg"],[1,"bg-gradient-to-br","from-red-50","to-red-100","rounded-xl","border","border-red-200","p-4","shadow-sm","hover:shadow-md","transition-all","duration-200"],[1,"w-12","h-12","bg-gradient-to-r","from-red-500","to-red-600","rounded-full","flex","items-center","justify-center","shadow-lg"],[3,"formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","xl:grid-cols-6","gap-4","mb-4"],[1,"lg:col-span-2"],["appearance","outline",1,"w-full","[&_.mdc-text-field--outlined]:!bg-gray-50","[&_.mdc-text-field--outlined]:!border-gray-200","hover:[&_.mdc-text-field--outlined]:!border-blue-300","[&_.mdc-text-field--focused_.mdc-text-field--outlined]:!border-blue-500"],["matPrefix","",1,"text-gray-400"],["matInput","","formControlName","search","placeholder","Room number, type...",1,"!bg-gray-50"],["formControlName","status","multiple",""],[3,"value"],["formControlName","housekeepingStatus","multiple",""],["formControlName","roomType","multiple",""],["formControlName","floor","multiple",""],[1,"flex","items-center","gap-3","flex-wrap"],[1,"text-sm","font-medium","text-gray-600","mr-2"],["type","button",1,"px-3","py-1.5","text-sm","font-medium","bg-green-50","text-green-700","border","border-green-200","rounded-lg","hover:bg-green-100","transition-all","duration-200",3,"click"],["type","button",1,"px-3","py-1.5","text-sm","font-medium","bg-purple-50","text-purple-700","border","border-purple-200","rounded-lg","hover:bg-purple-100","transition-all","duration-200",3,"click"],["type","button",1,"px-3","py-1.5","text-sm","font-medium","bg-orange-50","text-orange-700","border","border-orange-200","rounded-lg","hover:bg-orange-100","transition-all","duration-200",3,"click"],["type","button",1,"px-3","py-1.5","text-sm","font-medium","bg-cyan-50","text-cyan-700","border","border-cyan-200","rounded-lg","hover:bg-cyan-100","transition-all","duration-200",3,"click"],["type","button",1,"px-3","py-1.5","text-sm","font-medium","text-gray-600","hover:text-gray-800","bg-gray-50","border","border-gray-200","rounded-lg","hover:bg-gray-100","transition-all","duration-200","flex","items-center","gap-1",3,"click"],[1,"text-sm"],[1,"bg-gray-50","min-h-screen"],[1,"bg-gradient-to-r","from-blue-50","to-blue-100","border","border-blue-200","rounded-lg","p-4","mb-6","shadow-sm"],[1,"flex","justify-center","items-center","py-12","bg-white","rounded-lg","shadow-sm"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","overflow-hidden","my-6"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-3","xl:grid-cols-4","gap-6"],[1,"bg-red-50","border","border-red-200","rounded-lg","p-6","text-center"],[1,"flex","items-center"],[1,"inline-flex","items-center","px-2.5","py-0.5","rounded-full","text-xs","font-medium","mr-2",3,"ngClass"],[1,"flex","justify-between","items-center","flex-wrap","gap-4"],[1,"text-blue-800","font-semibold"],[1,"flex","gap-2","flex-wrap"],[1,"px-4","py-2","text-sm","font-medium","bg-green-600","text-white","rounded-lg","hover:bg-green-700","transition-all","duration-200","shadow-sm","hover:shadow-md","flex","items-center","gap-2",3,"click"],[1,"px-4","py-2","text-sm","font-medium","bg-orange-600","text-white","rounded-lg","hover:bg-orange-700","transition-all","duration-200","shadow-sm","hover:shadow-md","flex","items-center","gap-2",3,"click"],[1,"px-4","py-2","text-sm","font-medium","bg-cyan-600","text-white","rounded-lg","hover:bg-cyan-700","transition-all","duration-200","shadow-sm","hover:shadow-md","flex","items-center","gap-2",3,"click"],[1,"px-3","py-2","text-sm","font-medium","text-gray-600","hover:text-gray-800","bg-white","border","border-gray-300","rounded-lg","hover:bg-gray-50","transition-all","duration-200","flex","items-center","gap-2",3,"click"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-blue-600"],[1,"ml-3","text-gray-600"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gradient-to-r","from-gray-50","to-gray-100"],[1,"px-6","py-4","text-left","text-xs","font-semibold","text-gray-700","uppercase","tracking-wider","border-b-2","border-gray-200"],[3,"change","checked","indeterminate"],[1,"px-6","py-4","text-right","text-xs","font-semibold","text-gray-700","uppercase","tracking-wider","border-b-2","border-gray-200"],[1,"bg-white","divide-y","divide-gray-100"],[1,"hover:bg-gray-50","transition-colors","duration-200"],[1,"py-20","bg-gradient-to-br","from-gray-50","to-white","text-center"],[1,"px-6","py-4","whitespace-nowrap","border-b","border-gray-100"],[3,"change","checked"],[1,"flex","items-center","space-x-3"],[1,"w-10","h-10","bg-gradient-to-r","from-blue-500","to-blue-600","rounded-lg","flex","items-center","justify-center","shadow-sm"],[1,"text-white","text-lg"],[1,"text-sm","font-semibold","text-gray-900"],[1,"text-sm","text-gray-500"],[1,"text-xs","text-blue-600","font-medium"],[1,"text-sm","text-green-600","font-medium"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-sm","text-gray-600","flex","items-center","gap-1"],[1,"flex","items-center","gap-1"],[1,"text-sm","text-gray-400"],[1,"inline-flex","items-center","px-3","py-2","text-xs","font-bold","rounded-full","shadow-sm","ring-2",3,"ngClass"],[1,"w-2","h-2","rounded-full","mr-2",3,"ngClass"],[1,"flex","flex-wrap","gap-1"],[1,"inline-flex","items-center","px-2","py-1","rounded-md","text-xs","font-medium","bg-gray-100","text-gray-700","border","border-gray-200"],[1,"inline-flex","items-center","px-2","py-1","rounded-md","text-xs","font-medium","bg-gray-200","text-gray-600","border","border-gray-300"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium","border-b","border-gray-100"],[1,"flex","items-center","justify-end","gap-2"],["title","View Details",1,"text-blue-600","hover:text-blue-900","p-2","rounded-lg","hover:bg-blue-50","transition-all","duration-200",3,"routerLink"],["title","Edit Room",1,"text-green-600","hover:text-green-900","p-2","rounded-lg","hover:bg-green-50","transition-all","duration-200",3,"routerLink"],[1,"relative","inline-block","text-left"],["title","More Actions",1,"text-gray-600","hover:text-gray-900","p-2","rounded-lg","hover:bg-gray-100","transition-all","duration-200"],[1,"text-xs","text-gray-500","ml-1"],[1,"text-xs"],[1,"text-yellow-400","text-sm"],[1,"text-gray-300","text-sm"],[1,"text-sm","text-gray-600","ml-1"],[1,"w-16","h-16","bg-gray-200","rounded-full","flex","items-center","justify-center","mx-auto","mb-4"],[1,"text-4xl","text-gray-400"],[1,"text-lg","font-semibold","text-gray-900","mb-2"],[1,"text-gray-500","mb-6"],["routerLink","/hms/rooms-management/rooms/create",1,"!bg-gradient-to-r","!from-blue-600","!to-blue-700","hover:!from-blue-700","hover:!to-blue-800","!text-white","px-6","py-3","rounded-lg","font-medium","transition-all","duration-200","shadow-lg","hover:shadow-xl","transform","hover:scale-105","inline-flex","items-center","gap-2"],[1,"bg-white","rounded-xl","border","border-gray-200","shadow-sm","hover:shadow-lg","transition-all","duration-300","overflow-hidden",3,"ring-2","ring-blue-500","bg-blue-50"],[1,"col-span-full","py-20","bg-gradient-to-br","from-gray-50","to-white","text-center","rounded-lg","border","border-gray-200"],[1,"bg-white","rounded-xl","border","border-gray-200","shadow-sm","hover:shadow-lg","transition-all","duration-300","overflow-hidden"],[1,"p-6"],[1,"flex","items-start","justify-between","mb-4"],[1,"flex","items-start","gap-3"],[1,"text-lg","font-bold","text-gray-900"],[1,"space-y-3","mb-4"],[1,"grid","grid-cols-2","gap-4"],[1,"flex","items-center","gap-2","text-sm","text-gray-600"],[1,"text-base","text-gray-400"],[1,"flex","items-center","gap-2","text-sm"],[1,"font-medium","text-green-600"],[1,"flex","items-center","justify-between","text-sm"],[1,"flex","items-center","gap-2","text-gray-600"],[1,"inline-flex","items-center","px-3","py-1.5","text-xs","font-bold","rounded-full","shadow-sm","ring-1",3,"ngClass"],[1,"pt-3","border-t","border-gray-100"],[1,"flex","gap-2","pt-4","border-t","border-gray-100"],[1,"flex-1","!bg-gradient-to-r","!from-blue-600","!to-blue-700","hover:!from-blue-700","hover:!to-blue-800","!text-white","px-4","py-2.5","rounded-lg","text-sm","font-medium","flex","items-center","justify-center","gap-2","transition-all","duration-200","shadow-sm","hover:shadow-md",3,"routerLink"],[1,"flex-1","border","border-gray-300","hover:bg-gray-50","text-gray-700","px-4","py-2.5","rounded-lg","text-sm","font-medium","flex","items-center","justify-center","gap-2","transition-all","duration-200",3,"routerLink"],[1,"text-sm","text-gray-500","font-normal","ml-1"],[1,"ml-1"],[1,"text-sm","font-medium","text-gray-600","mb-2"],["routerLink","./create",1,"!bg-gradient-to-r","!from-blue-600","!to-blue-700","hover:!from-blue-700","hover:!to-blue-800","!text-white","px-6","py-3","rounded-lg","font-medium","transition-all","duration-200","shadow-lg","hover:shadow-xl","transform","hover:scale-105","inline-flex","items-center","gap-2"],[1,"w-16","h-16","bg-red-200","rounded-full","flex","items-center","justify-center","mx-auto","mb-4"],[1,"text-4xl","text-red-500"],[1,"!bg-gradient-to-r","!from-blue-600","!to-blue-700","hover:!from-blue-700","hover:!to-blue-800","!text-white","px-6","py-3","rounded-lg","font-medium","transition-all","duration-200","shadow-lg","hover:shadow-xl","transform","hover:scale-105","inline-flex","items-center","gap-2",3,"click"]],template:function(e,a){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"div")(4,"h1",3),r(5,"Rooms Management"),i(),n(6,"p",4),r(7,"Manage hotel rooms, room types, and availability"),i()(),n(8,"div",5)(9,"button",6),g("click",function(){return a.toggleViewMode()}),n(10,"mat-icon"),r(11),i()(),n(12,"button",7)(13,"mat-icon",8),r(14,"add"),i(),r(15," Add Room "),i()()()()(),n(16,"div",9)(17,"div",10)(18,"div",11)(19,"div",12)(20,"div",5)(21,"div",13)(22,"mat-icon",14),r(23,"hotel"),i()(),n(24,"div")(25,"div",15),r(26),i(),n(27,"div",16),r(28,"Total Rooms"),i()()()(),n(29,"div",17)(30,"div",5)(31,"div",18)(32,"mat-icon",14),r(33,"check_circle"),i()(),n(34,"div")(35,"div",15),r(36),i(),n(37,"div",16),r(38,"Available"),i()()()(),n(39,"div",19)(40,"div",5)(41,"div",20)(42,"mat-icon",14),r(43,"person"),i()(),n(44,"div")(45,"div",15),r(46),i(),n(47,"div",16),r(48,"Occupied"),i()()()(),n(49,"div",21)(50,"div",5)(51,"div",22)(52,"mat-icon",14),r(53,"build"),i()(),n(54,"div")(55,"div",15),r(56),i(),n(57,"div",16),r(58,"Maintenance"),i()()()(),n(59,"div",23)(60,"div",5)(61,"div",24)(62,"mat-icon",14),r(63,"cleaning_services"),i()(),n(64,"div")(65,"div",15),r(66),i(),n(67,"div",16),r(68,"Cleaning"),i()()()(),n(69,"div",25)(70,"div",5)(71,"div",26)(72,"mat-icon",14),r(73,"error"),i()(),n(74,"div")(75,"div",15),r(76),i(),n(77,"div",16),r(78,"Out of Order"),i()()()()()()(),n(79,"div",9)(80,"div",10)(81,"form",27)(82,"div",28)(83,"div",29)(84,"mat-form-field",30)(85,"mat-label"),r(86,"Search rooms..."),i(),n(87,"mat-icon",31),r(88,"search"),i(),S(89,"input",32),i()(),n(90,"div")(91,"mat-form-field",30)(92,"mat-label"),r(93,"Status"),i(),n(94,"mat-select",33),_(95,Te,5,11,"mat-option",34,w),i()()(),n(97,"div")(98,"mat-form-field",30)(99,"mat-label"),r(100,"Housekeeping"),i(),n(101,"mat-select",35),_(102,Fe,5,10,"mat-option",34,w),i()()(),n(104,"div")(105,"mat-form-field",30)(106,"mat-label"),r(107,"Room Type"),i(),n(108,"mat-select",36),_(109,Le,2,2,"mat-option",34,ke),i()()(),n(111,"div")(112,"mat-form-field",30)(113,"mat-label"),r(114,"Floor"),i(),n(115,"mat-select",37),_(116,Ie,2,2,"mat-option",34,w),i()()()(),n(118,"div",38)(119,"span",39),r(120,"Quick filters:"),i(),n(121,"button",40),g("click",function(){return a.applyQuickFilter({status:["available"]})}),r(122,"Available"),i(),n(123,"button",41),g("click",function(){return a.applyQuickFilter({status:["occupied"]})}),r(124,"Occupied"),i(),n(125,"button",42),g("click",function(){return a.applyQuickFilter({status:["maintenance"]})}),r(126,"Maintenance"),i(),n(127,"button",43),g("click",function(){return a.applyQuickFilter({housekeepingStatus:["dirty"]})}),r(128,"Needs Cleaning"),i(),n(129,"button",44),g("click",function(){return a.clearFilters()}),n(130,"mat-icon",45),r(131,"clear"),i(),r(132," Clear "),i()()()()(),n(133,"div",46)(134,"div"),s(135,Me,21,1,"div",47),s(136,Ve,4,0,"div",48),s(137,Ze,27,3,"div",49),s(138,vt,4,1,"div",50),s(139,bt,12,1,"div",51),i()()),e&2&&(l(9),u("title",a.viewMode()==="table"?"Switch to Grid View":"Switch to Table View"),l(2),x(a.viewMode()==="table"?"grid_view":"table_view"),l(15),x(a.roomStats().total),l(10),x(a.roomStats().available),l(10),x(a.roomStats().occupied),l(10),x(a.roomStats().maintenance),l(10),x(a.roomStats().cleaning),l(10),x(a.roomStats().outOfOrder),l(5),u("formGroup",a.filterForm),l(14),f(a.statusOptions),l(7),f(a.housekeepingOptions),l(7),f(a.roomTypes()),l(7),f(a.getFloorOptions()),l(19),c(a.selectedRooms().length>0?135:-1),l(),c(a.loading()?136:-1),l(),c(a.viewMode()==="table"&&!a.loading()?137:-1),l(),c(a.viewMode()==="grid"&&!a.loading()?138:-1),l(),c(a.error()?139:-1))},dependencies:[D,B,A,q,H,Z,W,Q,z,K,ee,X,J,ae,re,ne,te,ie,ce,se,U,G,de,le,ue,pe,oe],styles:[".mat-mdc-form-field.w-full[_ngcontent-%COMP%]{width:100%}mat-icon[_ngcontent-%COMP%]{vertical-align:middle}.animate-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media print{.no-print[_ngcontent-%COMP%]{display:none!important}}"]})};export{fe as RoomsListComponent};
