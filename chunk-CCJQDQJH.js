import{a as zt}from"./chunk-WZHBJ4CP.js";import{a as Lt}from"./chunk-QTGE4XNY.js";import{a as Ut}from"./chunk-IYQ6GC44.js";import{b as Rt,f as At}from"./chunk-VQA5W3EJ.js";import{a as Vt}from"./chunk-ZWCWDS2N.js";import{c as jt}from"./chunk-5PPPFRRH.js";import"./chunk-L7BDTWLS.js";import{h as Ft}from"./chunk-MLXMZDM2.js";import"./chunk-5LVVGVPB.js";import{a as Jt,b as Mt,c as Dt,d as Tt,e as Bt,f as kt,g as Nt,h as Ot,i as wt,j as It,k as $t}from"./chunk-IFYNKVPK.js";import{a as Ht}from"./chunk-5HOUELSU.js";import{a as Gt}from"./chunk-FUTA6TE5.js";import"./chunk-TRRVPZ2R.js";import{a as _t,b as bt,c as ft,d as Ct}from"./chunk-Q24JN32N.js";import{i as lt}from"./chunk-WFQLSX5X.js";import{a as yt,b as Et}from"./chunk-66RT5LSQ.js";import{d as it}from"./chunk-O2QR3P5A.js";import"./chunk-5IMEEOTN.js";import"./chunk-UATHS3SB.js";import"./chunk-GZ7S2I6F.js";import"./chunk-L5R7UQHM.js";import{b as gt,d as St}from"./chunk-323BPMCN.js";import{a as xt,h as ht}from"./chunk-TW5XL4DD.js";import"./chunk-GBJWJHBW.js";import{a as Pt,b as vt}from"./chunk-ZDRRUYFZ.js";import"./chunk-ADPCW6JI.js";import"./chunk-UUMWQRYG.js";import{a as st}from"./chunk-7HFBBWIO.js";import"./chunk-UPMF7ZC6.js";import"./chunk-BFT2MTJY.js";import{a as dt,c as pt,h as ut}from"./chunk-GI3DA2RF.js";import"./chunk-DDDMZQMU.js";import"./chunk-6NXOHEKD.js";import"./chunk-47XHPHB4.js";import{b as ct,c as mt}from"./chunk-5P5QATX2.js";import{$ as at,Y as ot,Z as rt}from"./chunk-LG6YQHRU.js";import"./chunk-DWM5GR6S.js";import{l as et,r as nt}from"./chunk-6BQAOBQP.js";import{$a as l,Gb as J,Hb as M,Jc as K,Kb as X,Kc as W,Lb as Q,Mb as u,Nb as o,Ob as a,Pb as O,Tb as f,Tc as tt,Ub as C,Wb as D,_b as _,ac as m,ea as S,ja as P,ka as v,kc as L,mc as Y,ob as q,pc as s,qc as x,rc as y,sc as Z,ub as b,va as p}from"./chunk-H33Y42PP.js";import{a as H,b as G,g as B}from"./chunk-GAL4ENT6.js";var Yt=(r,e)=>e._id;function Zt(r,e){if(r&1){let t=D();o(0,"button",35),_("click",function(){P(t);let n=m(2);return v(n.connectBluetoothPrinter())}),o(1,"mat-icon"),s(2,"bluetooth"),a(),s(3),a()}if(r&2){let t=m(2);u("disabled",t.isBluetoothConnecting()),l(3),y(" ",t.isBluetoothConnecting()?"Connecting...":"Connect Printer"," ")}}function Kt(r,e){if(r&1){let t=D();o(0,"button",36)(1,"mat-icon"),s(2,"bluetooth_connected"),a(),s(3),a(),o(4,"mat-menu",null,0)(6,"button",37),_("click",function(){P(t);let n=m(2);return v(n.testBluetoothPrint())}),o(7,"mat-icon"),s(8,"print"),a(),o(9,"span"),s(10,"Test Print"),a()(),o(11,"button",37),_("click",function(){P(t);let n=m(2);return v(n.disconnectBluetoothPrinter())}),o(12,"mat-icon"),s(13,"bluetooth_disabled"),a(),o(14,"span"),s(15,"Disconnect"),a()()()}if(r&2){let t=L(5),i=m(2);u("matMenuTriggerFor",t),l(3),y(" ",i.connectedPrinterName()," ")}}function Wt(r,e){if(r&1&&J(0,Zt,4,2,"button",34)(1,Kt,16,2),r&2){let t=m();M(t.isBluetoothConnected()?1:0)}}function te(r,e){if(r&1&&(o(0,"mat-option",29),s(1),a()),r&2){let t=e.$implicit;u("value",t._id),l(),x(t.name)}}function ee(r,e){r&1&&(o(0,"div",31),O(1,"mat-spinner",38),a())}function ne(r,e){if(r&1){let t=D();o(0,"div",32)(1,"mat-icon",39),s(2,"error_outline"),a(),o(3,"p",40),s(4),a(),o(5,"button",41),_("click",function(){P(t);let n=m();return v(n.reload())}),o(6,"mat-icon"),s(7,"refresh"),a(),s(8," Try Again "),a()()}if(r&2){let t=m();l(4),x(t.error())}}function ie(r,e){r&1&&(o(0,"div",32)(1,"mat-icon",42),s(2,"print_disabled"),a(),o(3,"p",43),s(4,"No print jobs found"),a(),o(5,"p",44),s(6,"Print jobs will appear here when orders are created"),a()())}function oe(r,e){r&1&&(o(0,"th",58),s(1,"Status"),a())}function re(r,e){if(r&1&&(o(0,"td",59)(1,"mat-chip",60),s(2),K(3,"titlecase"),a()()),r&2){let t=e.$implicit,i=m(2);l(),u("color",i.getStatusColor(t.status)),l(),y(" ",W(3,2,t.status)," ")}}function ae(r,e){r&1&&(o(0,"th",58),s(1,"Order"),a())}function se(r,e){if(r&1&&(o(0,"td",59)(1,"div",61)(2,"mat-icon",62),s(3,"receipt"),a(),o(4,"span",63),s(5),a()()()),r&2){let t=e.$implicit,i=m(2);l(5),y("#",i.getOrderNumber(t.order))}}function le(r,e){r&1&&(o(0,"th",58),s(1,"Station"),a())}function ce(r,e){if(r&1&&(o(0,"td",59)(1,"div",61)(2,"mat-icon",62),s(3,"restaurant"),a(),o(4,"span"),s(5),a()()()),r&2){let t=e.$implicit,i=m(2);l(5),x(i.getStationName(t.station))}}function me(r,e){r&1&&(o(0,"th",58),s(1,"Printer"),a())}function de(r,e){if(r&1&&(o(0,"td",59)(1,"div",64)(2,"div",63),s(3),a(),o(4,"div",62),s(5),a()()()),r&2){let t=e.$implicit;l(3),x(t.printerIp),l(2),y("Port: ",t.printerPort)}}function pe(r,e){r&1&&(o(0,"th",58),s(1,"Created"),a())}function ue(r,e){if(r&1&&(o(0,"td",59)(1,"div",65),s(2),a()()),r&2){let t=e.$implicit,i=m(2);l(2),y(" ",i.formatDate(t.createdAt)," ")}}function _e(r,e){r&1&&(o(0,"th",58),s(1,"Printed"),a())}function be(r,e){if(r&1&&(o(0,"td",59)(1,"div",65),s(2),a()()),r&2){let t=e.$implicit,i=m(2);l(2),y(" ",i.formatDate(t.printedAt)," ")}}function fe(r,e){r&1&&(o(0,"th",58),s(1,"Retries"),a())}function Ce(r,e){if(r&1&&(o(0,"td",59)(1,"div",64)(2,"span"),s(3),a()()()),r&2){let t=e.$implicit;l(2),Y("text-red-600",t.retryCount>0),l(),Z(" ",t.retryCount," / ",t.maxRetries," ")}}function xe(r,e){r&1&&(o(0,"th",58),s(1,"Actions"),a())}function he(r,e){if(r&1){let t=D();o(0,"button",37),_("click",function(){P(t);let n=m().$implicit,d=m(2);return v(d.printJobViaBluetooth(n))}),o(1,"mat-icon"),s(2,"bluetooth"),a(),o(3,"span"),s(4,"Print via Bluetooth"),a()()}}function ge(r,e){if(r&1){let t=D();o(0,"button",37),_("click",function(){P(t);let n=m().$implicit,d=m(2);return v(d.retryJob(n))}),o(1,"mat-icon"),s(2,"refresh"),a(),o(3,"span"),s(4,"Retry"),a()()}}function Se(r,e){if(r&1){let t=D();o(0,"button",69),_("click",function(){P(t);let n=m().$implicit,d=m(2);return v(d.cancelJob(n))}),o(1,"mat-icon"),s(2,"cancel"),a(),o(3,"span"),s(4,"Cancel"),a()()}}function Pe(r,e){if(r&1&&(o(0,"td",59)(1,"button",66)(2,"mat-icon"),s(3,"more_vert"),a()(),o(4,"mat-menu",null,1),J(6,he,5,0,"button",67),J(7,ge,5,0,"button",67),J(8,Se,5,0,"button",68),a()()),r&2){let t=e.$implicit,i=L(5),n=m(2);l(),u("matMenuTriggerFor",i),l(5),M(n.isBluetoothConnected()?6:-1),l(),M(t.status==="failed"||t.status==="pending"?7:-1),l(),M(t.status==="pending"||t.status==="processing"?8:-1)}}function ve(r,e){r&1&&O(0,"tr",70)}function ye(r,e){r&1&&O(0,"tr",71)}function Ee(r,e){if(r&1&&(o(0,"div",33)(1,"table",45),f(2,46),b(3,oe,2,0,"th",47)(4,re,4,4,"td",48),C(),f(5,49),b(6,ae,2,0,"th",47)(7,se,6,1,"td",48),C(),f(8,50),b(9,le,2,0,"th",47)(10,ce,6,1,"td",48),C(),f(11,51),b(12,me,2,0,"th",47)(13,de,6,2,"td",48),C(),f(14,52),b(15,pe,2,0,"th",47)(16,ue,3,1,"td",48),C(),f(17,53),b(18,_e,2,0,"th",47)(19,be,3,1,"td",48),C(),f(20,54),b(21,fe,2,0,"th",47)(22,Ce,4,4,"td",48),C(),f(23,55),b(24,xe,2,0,"th",47)(25,Pe,9,4,"td",48),C(),b(26,ve,1,0,"tr",56)(27,ye,1,0,"tr",57),a()()),r&2){let t=m();l(),u("dataSource",t.filteredJobs()),l(25),u("matHeaderRowDef",t.displayedColumns),l(),u("matRowDefColumns",t.displayedColumns)}}var qt=class r{printJobService=S(zt);stationsService=S(Ut);socketService=S(Ht);storeStore=S(lt);snackBar=S(st);dialog=S(jt);bluetoothPrinterService=S(Gt);printJobs=p([]);stations=p([]);stats=p({total:0,pending:0,processing:0,printed:0,failed:0});loading=p(!1);error=p(null);isBluetoothConnected=p(!1);isBluetoothConnecting=p(!1);connectedPrinterName=p(null);bluetoothSupported=p(this.bluetoothPrinterService.isBluetoothSupported());selectedStatus=p("all");selectedStation=p("all");filteredJobs=tt(()=>{let e=this.printJobs(),t=this.selectedStatus(),i=this.selectedStation();return t!=="all"&&(e=e.filter(n=>n.status===t)),i!=="all"&&(e=e.filter(n=>(typeof n.station=="string"?n.station:n.station._id)===i)),e});displayedColumns=["status","order","station","printer","createdAt","printedAt","retryCount","actions"];socketSubscriptions=[];ngOnInit(){this.loadData(),this.setupSocketListeners(),this.checkBluetoothConnection()}ngOnDestroy(){this.socketSubscriptions.forEach(e=>e.unsubscribe())}checkBluetoothConnection(){let e=this.bluetoothPrinterService.getConnectedPrinter();if(e&&e.isConnected)this.isBluetoothConnected.set(!0),this.connectedPrinterName.set(e.device.name||"Unknown Printer"),console.log("Active Bluetooth printer connection found:",e.device.name);else{let t=localStorage.getItem("bluetoothPrinterConnected")==="true",i=localStorage.getItem("bluetoothPrinterName");t&&i&&this.snackBar.open(`Reconnect to ${i}?`,"Connect",{duration:1e4,horizontalPosition:"end",verticalPosition:"top"}).onAction().subscribe(()=>{this.connectBluetoothPrinter()})}}loadData(){let e=this.storeStore.selectedStore()?._id;e&&(this.loading.set(!0),this.error.set(null),this.printJobService.getPrintJobs(e,{limit:100}).subscribe({next:t=>{this.printJobs.set(t),this.loading.set(!1)},error:t=>{this.error.set("Failed to load print jobs"),this.loading.set(!1)}}),this.printJobService.getPrintJobStats(e).subscribe({next:t=>{this.stats.set(t)},error:t=>{console.error("Failed to load stats:",t)}}),this.stationsService.getStations(e).subscribe({next:t=>{this.stations.set(t)},error:t=>{console.error("Failed to load stations:",t)}}))}setupSocketListeners(){let e=this.socketService.on("printJob:created").subscribe({next:n=>B(this,null,function*(){console.log("New print job created:",n),this.snackBar.open(`New print job created for Order #${n.orderNumber||"N/A"}`,"View",{duration:5e3,horizontalPosition:"end",verticalPosition:"top"}),this.loadData()})}),t=this.socketService.on("printJob:completed").subscribe({next:n=>{console.log("Print job completed:",n),this.updateJobStatus(n.jobId,"printed")}}),i=this.socketService.on("printJob:failed").subscribe({next:n=>{console.log("Print job failed:",n),this.snackBar.open(`Print job failed: ${n.error}`,"Close",{duration:5e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["error-snackbar"]}),this.updateJobStatus(n.jobId,"failed",n.error)}});this.socketSubscriptions.push(e,t,i)}updateJobStatus(e,t,i){let n=this.printJobs(),d=n.findIndex(h=>h._id===e);if(d!==-1){let h=[...n];h[d]=G(H({},h[d]),{status:t,error:i,printedAt:t==="printed"?new Date:h[d].printedAt}),this.printJobs.set(h),this.loadStats()}}loadStats(){let e=this.storeStore.selectedStore()?._id;e&&this.printJobService.getPrintJobStats(e).subscribe({next:t=>{this.stats.set(t)}})}reload(){this.loadData()}retryJob(e){this.printJobService.retryPrintJob(e._id).subscribe({next:()=>{this.snackBar.open("Print job retry initiated","Close",{duration:3e3,horizontalPosition:"end",verticalPosition:"top"}),this.loadData()},error:()=>{this.snackBar.open("Failed to retry print job","Close",{duration:3e3,horizontalPosition:"end",verticalPosition:"top"})}})}cancelJob(e){this.dialog.open(Vt,{data:{title:"Cancel Print Job",message:"Are you sure you want to cancel this print job?",confirmText:"Cancel Job",cancelText:"Close"}}).afterClosed().subscribe(i=>{i&&this.printJobService.cancelPrintJob(e._id).subscribe({next:()=>{this.snackBar.open("Print job cancelled","Close",{duration:3e3,horizontalPosition:"end",verticalPosition:"top"}),this.loadData()},error:()=>{this.snackBar.open("Failed to cancel print job","Close",{duration:3e3,horizontalPosition:"end",verticalPosition:"top"})}})})}getStatusClass(e){return{pending:"status-pending",processing:"status-processing",printed:"status-success",failed:"status-error"}[e]||""}getStatusColor(e){return{pending:"accent",processing:"primary",printed:"",failed:"warn"}[e]||""}getStationName(e){if(typeof e=="string"){let t=this.stations().find(i=>i._id===e);return t?t.name:"Unknown"}return e.name}getOrderNumber(e){return typeof e=="string"?e:e?.orderNumber||e?._id||"N/A"}formatDate(e){return e?new Date(e).toLocaleString():"-"}connectBluetoothPrinter(){return B(this,null,function*(){if(!this.bluetoothSupported()){this.snackBar.open("Web Bluetooth is not supported in this browser","Close",{duration:5e3,panelClass:["error-snackbar"]});return}this.isBluetoothConnecting.set(!0);try{let e=yield this.bluetoothPrinterService.connectToPrinter();this.isBluetoothConnected.set(!0),this.connectedPrinterName.set(e.device.name||"Unknown Printer"),this.snackBar.open(`Connected to ${e.device.name||"printer"}`,"Close",{duration:3e3,panelClass:["success-snackbar"]})}catch(e){console.error("Failed to connect to Bluetooth printer:",e),this.snackBar.open(`Failed to connect: ${e.message}`,"Close",{duration:5e3,panelClass:["error-snackbar"]})}finally{this.isBluetoothConnecting.set(!1)}})}disconnectBluetoothPrinter(){return B(this,null,function*(){try{yield this.bluetoothPrinterService.disconnectPrinter(),this.isBluetoothConnected.set(!1),this.connectedPrinterName.set(null),this.snackBar.open("Disconnected from printer","Close",{duration:3e3})}catch(e){console.error("Failed to disconnect:",e),this.snackBar.open(`Failed to disconnect: ${e.message}`,"Close",{duration:3e3,panelClass:["error-snackbar"]})}})}printJobViaBluetooth(e){return B(this,null,function*(){if(!this.isBluetoothConnected()){this.snackBar.open("Please connect to a Bluetooth printer first","Close",{duration:3e3,panelClass:["error-snackbar"]});return}try{this.updateJobStatus(e._id,"processing");let t=this.generatePrintJobReceipt(e);yield this.bluetoothPrinterService.sendToPrinter(t),this.updateJobStatus(e._id,"printed"),this.snackBar.open("Print job sent successfully","Close",{duration:3e3,panelClass:["success-snackbar"]})}catch(t){console.error("Failed to print via Bluetooth:",t),this.updateJobStatus(e._id,"failed",t.message),this.snackBar.open(`Print failed: ${t.message}`,"Close",{duration:5e3,panelClass:["error-snackbar"]})}})}formatCurrency(e,t){let i=e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2});return`${t} ${i}`}generatePrintJobReceipt(e){let t={INIT:"\x1B@",ALIGN_CENTER:"\x1Ba",ALIGN_LEFT:"\x1Ba\0",TEXT_DOUBLE_SIZE:"\x1B!0",TEXT_NORMAL:"\x1B!\0",BOLD_ON:"\x1BE",BOLD_OFF:"\x1BE\0",FEED_LINE:`
`,CUT_PAPER:"V\0"};console.log("=== PRINT JOB DEBUG ==="),console.log("Full job object:",e);let i=typeof e.order=="object"?e.order:null;if(console.log("Order object exists:",!!i),console.log("Order cart products:",i?i.cart?.products:null),!i)return console.error("\u274C No order object found in print job"),t.INIT+`ERROR: No order data
`+t.CUT_PAPER;let n="";n+=t.INIT,n+=t.ALIGN_CENTER,n+=t.TEXT_DOUBLE_SIZE,n+=t.BOLD_ON;let d=i.store;if(d&&d.name&&(n+=`${d.name}
`),n+=`KITCHEN ORDER
`,n+=t.BOLD_OFF,n+=t.TEXT_NORMAL,n+=t.ALIGN_LEFT,n+=`================================
`,n+=t.BOLD_ON,n+=`Order: #${i.reference||i._id}
`,n+=t.BOLD_OFF,n+=`Station: ${this.getStationName(e.station)}
`,n+=`Time: ${this.formatDate(i.createdAt||new Date)}
`,i.type&&(n+=`Type: ${i.type}
`),i.salesChannel&&(n+=`Channel: ${i.salesChannel}
`),i.table){let c=i.table;n+=`Table: ${c.number||c.name||c}
`}if(i.guest){let c=i.guest;c.name&&(n+=`Guest: ${c.name}
`),c.room&&(n+=`Room: ${c.room}
`)}if(i.staff){let c=i.staff,R=c.name||c.firstName||c;n+=`Server: ${R}
`}n+=`================================
`;let h=i.cart?.products||[];h.length>0?(n+=t.BOLD_ON,n+=`ITEMS:
`,n+=t.BOLD_OFF,h.forEach((c,R)=>{console.log(`  Product ${R+1}:`,c);let Xt=c.name,Qt=c.quantity||1,U=c.price||0,A=d?.currencyCode||"USD";n+=`${Qt}x ${Xt}`,U>0&&(n+=` - ${this.formatCurrency(U,A)}`),n+=`
`,c.options&&Array.isArray(c.options)&&c.options.length>0&&c.options.forEach(g=>{if(g.options&&Array.isArray(g.options))g.options.forEach(E=>{if(E.selected){let k=E.name,N=E.quantity||1,z=E.price||0;n+=`   + ${N}x ${k}`,z>0&&(n+=` (${this.formatCurrency(z,A)})`),n+=`
`}});else{let E=g.optionItemName||g.name||g,k=g.quantity||1,N=g.price||0;k>1?n+=`   + ${k}x ${E}`:n+=`   + ${E}`,N>0&&(n+=` (${this.formatCurrency(N,A)})`),n+=`
`}}),c.notes&&(n+=`   Note: ${c.notes}
`),n+=`
`})):(console.log("\u2717 No products found in order.cart.products"),n+=`No items in order
`),n+=`================================
`;let j=i.subTotal||i.subtotal,w=i.tax,I=i.discount,$=i.shippingFee,F=i.serviceFee,V=i.total,T=d?.currencyCode||"USD";return n+=t.BOLD_ON,n+=`ORDER SUMMARY:
`,n+=t.BOLD_OFF,j!==void 0&&(n+=`Subtotal:            ${this.formatCurrency(j,T)}
`),w&&w>0&&(n+=`Tax:                 ${this.formatCurrency(w,T)}
`),I&&I>0&&(n+=`Discount:           -${this.formatCurrency(I,T)}
`),$&&$>0&&(n+=`Shipping:            ${this.formatCurrency($,T)}
`),F&&F>0&&(n+=`Service Fee:         ${this.formatCurrency(F,T)}
`),V!==void 0&&(n+=`--------------------------------
`,n+=t.BOLD_ON,n+=`TOTAL:               ${this.formatCurrency(V,T)}
`,n+=t.BOLD_OFF),i.payment&&(n+=`Payment: ${i.payment}
`),i.paymentStatus&&(n+=`Status: ${i.paymentStatus}
`),n+=`================================
`,(i.note||i.orderInstruction)&&(n+=t.BOLD_ON,n+=`NOTES:
`,n+=t.BOLD_OFF,n+=`${i.note||i.orderInstruction}
`,n+=`================================
`),n+=t.ALIGN_CENTER,n+=`Job #${e._id.substring(e._id.length-6)}
`,n+=t.FEED_LINE,n+=t.FEED_LINE,n+=t.CUT_PAPER,console.log("=== END DEBUG ==="),n}testBluetoothPrint(){return B(this,null,function*(){if(!this.isBluetoothConnected()){this.snackBar.open("Please connect to a Bluetooth printer first","Close",{duration:3e3,panelClass:["error-snackbar"]});return}try{yield this.bluetoothPrinterService.testPrint({paperSize:"80mm",printQuality:"normal",autocut:!0,fontSize:12,lineSpacing:1.2,includeLogo:!1}),this.snackBar.open("Test print sent successfully","Close",{duration:3e3,panelClass:["success-snackbar"]})}catch(e){console.error("Test print failed:",e),this.snackBar.open(`Test print failed: ${e.message}`,"Close",{duration:5e3,panelClass:["error-snackbar"]})}})}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=q({type:r,selectors:[["app-print-jobs"]],decls:90,vars:9,consts:[["printerMenu","matMenu"],["menu","matMenu"],["title","Print Jobs","subtitle","Monitor and manage all print jobs in real-time"],["actions",""],["mat-stroked-button","",3,"click"],[1,"p-6","space-y-6"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-5","gap-4"],["appearance","outlined",1,"stat-card"],[1,"p-4!"],[1,"flex","items-center","justify-between"],[1,"text-sm","text-gray-500","mb-1"],[1,"text-2xl","font-bold"],[1,"text-4xl","text-blue-500"],[1,"text-2xl","font-bold","text-orange-600"],[1,"text-4xl","text-orange-500"],[1,"text-2xl","font-bold","text-blue-600"],[1,"text-2xl","font-bold","text-green-600"],[1,"text-4xl","text-green-500"],[1,"text-2xl","font-bold","text-red-600"],[1,"text-4xl","text-red-500"],["appearance","outlined"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["appearance","outline",1,"w-full"],[3,"selectionChange","value"],["value","all"],["value","pending"],["value","processing"],["value","printed"],["value","failed"],[3,"value"],[1,"p-0!"],[1,"flex","items-center","justify-center","p-12"],[1,"text-center","p-12"],[1,"overflow-x-auto"],["mat-flat-button","","color","primary",3,"disabled"],["mat-flat-button","","color","primary",3,"click","disabled"],["mat-stroked-button","","color","accent",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],["diameter","40"],[1,"text-6xl","text-red-500","mb-4"],[1,"text-lg","text-gray-600","mb-4"],["mat-flat-button","","color","primary",3,"click"],[1,"text-6xl","text-gray-400","mb-4"],[1,"text-lg","text-gray-600"],[1,"text-sm","text-gray-500","mt-2"],["mat-table","",1,"w-full",3,"dataSource"],["matColumnDef","status"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","order"],["matColumnDef","station"],["matColumnDef","printer"],["matColumnDef","createdAt"],["matColumnDef","printedAt"],["matColumnDef","retryCount"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","hover:bg-gray-50",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[3,"color"],[1,"flex","items-center","gap-2"],[1,"text-gray-500"],[1,"font-medium"],[1,"text-sm"],[1,"text-sm","text-gray-600"],["mat-icon-button","",3,"matMenuTriggerFor"],["mat-menu-item",""],["mat-menu-item","",1,"text-red-600"],["mat-menu-item","",1,"text-red-600",3,"click"],["mat-header-row",""],["mat-row","",1,"hover:bg-gray-50"]],template:function(t,i){t&1&&(o(0,"app-page-header",2),f(1,3),o(2,"button",4),_("click",function(){return i.reload()}),o(3,"mat-icon"),s(4,"refresh"),a(),s(5," Reload "),a(),J(6,Wt,2,1),C(),a(),o(7,"div",5)(8,"div",6)(9,"mat-card",7)(10,"mat-card-content",8)(11,"div",9)(12,"div")(13,"p",10),s(14,"Total Jobs"),a(),o(15,"p",11),s(16),a()(),o(17,"mat-icon",12),s(18,"print"),a()()()(),o(19,"mat-card",7)(20,"mat-card-content",8)(21,"div",9)(22,"div")(23,"p",10),s(24,"Pending"),a(),o(25,"p",13),s(26),a()(),o(27,"mat-icon",14),s(28,"schedule"),a()()()(),o(29,"mat-card",7)(30,"mat-card-content",8)(31,"div",9)(32,"div")(33,"p",10),s(34,"Processing"),a(),o(35,"p",15),s(36),a()(),o(37,"mat-icon",12),s(38,"hourglass_empty"),a()()()(),o(39,"mat-card",7)(40,"mat-card-content",8)(41,"div",9)(42,"div")(43,"p",10),s(44,"Printed"),a(),o(45,"p",16),s(46),a()(),o(47,"mat-icon",17),s(48,"check_circle"),a()()()(),o(49,"mat-card",7)(50,"mat-card-content",8)(51,"div",9)(52,"div")(53,"p",10),s(54,"Failed"),a(),o(55,"p",18),s(56),a()(),o(57,"mat-icon",19),s(58,"error"),a()()()()(),o(59,"mat-card",20)(60,"mat-card-content",8)(61,"div",21)(62,"mat-form-field",22)(63,"mat-label"),s(64,"Status"),a(),o(65,"mat-select",23),_("selectionChange",function(d){return i.selectedStatus.set(d.value)}),o(66,"mat-option",24),s(67,"All Statuses"),a(),o(68,"mat-option",25),s(69,"Pending"),a(),o(70,"mat-option",26),s(71,"Processing"),a(),o(72,"mat-option",27),s(73,"Printed"),a(),o(74,"mat-option",28),s(75,"Failed"),a()()(),o(76,"mat-form-field",22)(77,"mat-label"),s(78,"Station"),a(),o(79,"mat-select",23),_("selectionChange",function(d){return i.selectedStation.set(d.value)}),o(80,"mat-option",24),s(81,"All Stations"),a(),X(82,te,2,2,"mat-option",29,Yt),a()()()()(),o(84,"mat-card",20)(85,"mat-card-content",30),J(86,ee,2,0,"div",31)(87,ne,9,1,"div",32)(88,ie,7,0,"div",32)(89,Ee,28,3,"div",33),a()()()),t&2&&(l(6),M(i.bluetoothSupported()?6:-1),l(10),x(i.stats().total),l(10),x(i.stats().pending),l(10),x(i.stats().processing),l(10),x(i.stats().printed),l(10),x(i.stats().failed),l(9),u("value",i.selectedStatus()),l(14),u("value",i.selectedStation()),l(3),Q(i.stations()),l(4),M(i.loading()?86:i.error()?87:!i.filteredJobs()||i.filteredJobs().length===0?88:89))},dependencies:[nt,ut,dt,pt,$t,Jt,Dt,Nt,Tt,Mt,Ot,Bt,kt,wt,It,at,rt,ot,mt,ct,At,Rt,vt,Pt,Ct,bt,_t,ft,gt,ht,xt,Et,yt,it,Ft,St,Lt,et],styles:[".stat-card[_ngcontent-%COMP%]{transition:transform .2s ease-in-out,box-shadow .2s ease-in-out}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 4px 12px #0000001a}.status-pending[_ngcontent-%COMP%]{color:#f97316}.status-processing[_ngcontent-%COMP%]{color:#3b82f6}.status-success[_ngcontent-%COMP%]{color:#22c55e}.status-error[_ngcontent-%COMP%]{color:#ef4444}table[_ngcontent-%COMP%]{width:100%}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;background-color:#f9fafb}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{padding:16px}"]})};export{qt as PrintJobsComponent};
