import{i as I}from"./chunk-QC7H4KPM.js";import{b as Y}from"./chunk-P4SPQCUJ.js";import"./chunk-R6JGHN2R.js";import"./chunk-64WHNS37.js";import"./chunk-TIVXUJ22.js";import"./chunk-W7B5PSOS.js";import{a as g}from"./chunk-XLZTIYSF.js";import{b as L,c as R,d as W}from"./chunk-UMV4DCPT.js";import{a as V,e as j,h as z}from"./chunk-G3VZM262.js";import"./chunk-BCE7WRWQ.js";import{b as K}from"./chunk-6I3AJKA7.js";import{B as O,b as w,d as n,g as A,h as B,m as H,q as D,s as P,t as _,z as q}from"./chunk-W7NMJLMQ.js";import"./chunk-F5SZ3AU3.js";import{a as T}from"./chunk-4UBDYPTG.js";import"./chunk-TILT22SG.js";import"./chunk-BFT2MTJY.js";import{a as N,b as U,c as E,f as x,g as F,h as k}from"./chunk-3E3PJ7Q7.js";import"./chunk-FO4KTVQ3.js";import"./chunk-TRZH7NMW.js";import"./chunk-GXTELBJV.js";import{b as y,c as G}from"./chunk-JPRPNQOM.js";import{_ as S,ba as M}from"./chunk-3LDCGXHW.js";import"./chunk-6PFJHDFS.js";import{Ob as u,Pb as a,Qb as e,Rb as i,ac as b,bb as d,fa as s,qb as h,rc as o,tc as C,wa as c}from"./chunk-J2AK4FW5.js";import{a as f,b as v}from"./chunk-GAL4ENT6.js";var J=class p{fb=s(q);snackBar=s(T);storeService=s(g);storeStore=s(I);loading=c(!1);saving=c(!1);hotelInfoForm;timezoneOptions=[{value:"UTC-12",label:"(GMT-12:00) International Date Line West"},{value:"UTC-11",label:"(GMT-11:00) Midway Island, Samoa"},{value:"UTC-10",label:"(GMT-10:00) Hawaii"},{value:"UTC-9",label:"(GMT-09:00) Alaska"},{value:"UTC-8",label:"(GMT-08:00) Pacific Time (US & Canada)"},{value:"UTC-7",label:"(GMT-07:00) Mountain Time (US & Canada)"},{value:"UTC-6",label:"(GMT-06:00) Central Time (US & Canada)"},{value:"UTC-5",label:"(GMT-05:00) Eastern Time (US & Canada)"},{value:"UTC-4",label:"(GMT-04:00) Atlantic Time (Canada)"},{value:"UTC-3",label:"(GMT-03:00) Buenos Aires, Georgetown"},{value:"UTC-2",label:"(GMT-02:00) Mid-Atlantic"},{value:"UTC-1",label:"(GMT-01:00) Azores, Cape Verde Islands"},{value:"UTC+0",label:"(GMT+00:00) Greenwich Mean Time"},{value:"UTC+1",label:"(GMT+01:00) Amsterdam, Berlin, Rome"},{value:"UTC+2",label:"(GMT+02:00) Cairo, Athens, Istanbul"},{value:"UTC+3",label:"(GMT+03:00) Moscow, Kuwait, Riyadh"},{value:"UTC+4",label:"(GMT+04:00) Abu Dhabi, Muscat"},{value:"UTC+5",label:"(GMT+05:00) Islamabad, Karachi"},{value:"UTC+6",label:"(GMT+06:00) Almaty, Dhaka"},{value:"UTC+7",label:"(GMT+07:00) Bangkok, Hanoi, Jakarta"},{value:"UTC+8",label:"(GMT+08:00) Beijing, Perth, Singapore"},{value:"UTC+9",label:"(GMT+09:00) Tokyo, Seoul, Osaka"},{value:"UTC+10",label:"(GMT+10:00) Eastern Australia, Guam"},{value:"UTC+11",label:"(GMT+11:00) Magadan, Solomon Islands"},{value:"UTC+12",label:"(GMT+12:00) Auckland, Wellington"}];ngOnInit(){this.initializeForm(),this.loadSettings()}initializeForm(){this.hotelInfoForm=this.fb.group({hotelName:["",n.required],address:this.fb.group({street:[""],city:["",n.required],state:[""],country:["",n.required],postalCode:[""]}),contactInfo:this.fb.group({phone:["",n.required],email:["",[n.required,n.email]],website:[""]}),timezone:["UTC+0",n.required],checkInTime:["15:00",n.required],checkOutTime:["11:00",n.required]})}loadSettings(){this.loading.set(!0);let t=this.storeStore.selectedStore();t&&this.hotelInfoForm.patchValue({hotelName:t.name||"",address:{street:t.contactInfo?.address||"",city:t.contactInfo?.city||"",state:t.contactInfo?.state||"",country:t.contactInfo?.country||"",postalCode:t.contactInfo?.postalCode||""},contactInfo:{phone:t.contactInfo?.phone||"",email:t.contactInfo?.email||"",website:t.contactInfo?.placeName||""}}),this.loading.set(!1)}saveHotelInfo(){if(this.hotelInfoForm.valid&&this.storeStore.selectedStore()){this.saving.set(!0);let t=this.hotelInfoForm.value,l=this.storeStore.selectedStore(),r={name:t.hotelName,contactInfo:v(f({},l.contactInfo),{phone:t.contactInfo.phone,email:t.contactInfo.email,address:t.address.street,city:t.address.city,state:t.address.state,country:t.address.country,postalCode:t.address.postalCode,placeName:t.contactInfo.website,placeNumber:l.contactInfo?.placeNumber||""})};this.storeService.updateStore(l._id,r).subscribe({next:()=>{this.storeService.getStore(l._id).subscribe({next:m=>{this.storeStore.updateStore(m),this.storeService.saveStoreLocally(m),this.saving.set(!1),this.snackBar.open("Hotel information saved successfully!","Close",{duration:3e3})},error:m=>{console.error("Error fetching updated store:",m),this.saving.set(!1),this.snackBar.open("Settings saved but failed to update local data.","Close",{duration:5e3})}})},error:m=>{console.error("Error saving hotel info:",m),this.saving.set(!1),this.snackBar.open("Failed to save hotel information.","Close",{duration:5e3})}})}}static \u0275fac=function(l){return new(l||p)};static \u0275cmp=h({type:p,selectors:[["app-hotel-info"]],decls:69,vars:3,consts:[[1,"py-6"],[3,"ngSubmit","formGroup"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-8"],["appearance","outlined"],["mat-card-avatar","",1,"text-blue-600","!flex","!items-center","!justify-center"],[1,"pt-4","space-y-6"],["appearance","outline",1,"w-full"],["matInput","","formControlName","hotelName","placeholder","Enter hotel name"],["matSuffix",""],["formGroupName","contactInfo",1,"space-y-4"],["matInput","","formControlName","phone","placeholder","+1 (555) 123-4567"],["matInput","","type","email","formControlName","email","placeholder","contact@hotel.com"],["matInput","","formControlName","website","placeholder","https://www.hotel.com"],["mat-card-avatar","",1,"text-green-600","!flex","!items-center","!justify-center"],["formGroupName","address",1,"pt-4","space-y-6"],["matInput","","formControlName","street","placeholder","123 Hotel Street","rows","2"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],["appearance","outline"],["matInput","","formControlName","city","placeholder","New York"],["matInput","","formControlName","state","placeholder","NY"],["matInput","","formControlName","country","placeholder","United States"],["matInput","","formControlName","postalCode","placeholder","10001"],[1,"flex","justify-end","mt-8"],["type","submit","matButton","filled","color","primary",1,"px-8","py-2",3,"disabled"]],template:function(l,r){l&1&&(a(0,"div",0)(1,"form",1),b("ngSubmit",function(){return r.saveHotelInfo()}),a(2,"div",2)(3,"mat-card",3)(4,"mat-card-header")(5,"mat-icon",4),o(6,"info"),e(),a(7,"mat-card-title"),o(8,"Basic Information"),e()(),a(9,"mat-card-content",5)(10,"mat-form-field",6)(11,"mat-label"),o(12,"Hotel Name"),e(),i(13,"input",7),a(14,"mat-icon",8),o(15,"business"),e()(),a(16,"div",9)(17,"mat-form-field",6)(18,"mat-label"),o(19,"Phone Number"),e(),i(20,"input",10),a(21,"mat-icon",8),o(22,"phone"),e()(),a(23,"mat-form-field",6)(24,"mat-label"),o(25,"Email Address"),e(),i(26,"input",11),a(27,"mat-icon",8),o(28,"email"),e()(),a(29,"mat-form-field",6)(30,"mat-label"),o(31,"Website (Optional)"),e(),i(32,"input",12),a(33,"mat-icon",8),o(34,"language"),e()()()()(),a(35,"mat-card",3)(36,"mat-card-header")(37,"mat-icon",13),o(38,"location_on"),e(),a(39,"mat-card-title"),o(40,"Address Information"),e()(),a(41,"mat-card-content",14)(42,"mat-form-field",6)(43,"mat-label"),o(44,"Street Address"),e(),i(45,"textarea",15),a(46,"mat-icon",8),o(47,"place"),e()(),a(48,"div",16)(49,"mat-form-field",17)(50,"mat-label"),o(51,"City"),e(),i(52,"input",18),e(),a(53,"mat-form-field",17)(54,"mat-label"),o(55,"State/Province"),e(),i(56,"input",19),e()(),a(57,"div",16)(58,"mat-form-field",17)(59,"mat-label"),o(60,"Country"),e(),i(61,"input",20),e(),a(62,"mat-form-field",17)(63,"mat-label"),o(64,"Postal Code"),e(),i(65,"input",21),e()()()()(),a(66,"div",22)(67,"button",23),o(68),e()()()()),l&2&&(d(),u("formGroup",r.hotelInfoForm),d(66),u("disabled",r.hotelInfoForm.invalid||r.saving()),d(),C(" ",r.saving()?"Saving...":"Save Information"," "))},dependencies:[O,H,w,A,B,_,P,D,k,N,F,E,x,U,M,S,G,y,L,z,V,j,W,R,Y,K],styles:["[_nghost-%COMP%]{display:block}"]})};export{J as HotelInfo};
