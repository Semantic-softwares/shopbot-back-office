import{a as F}from"./chunk-43WQ3HDT.js";import{a as P}from"./chunk-P7SQXTVL.js";import"./chunk-KP7TGH7C.js";import"./chunk-M2YK6UF7.js";import"./chunk-AGZJ637K.js";import{a as L,c as B,i as j}from"./chunk-WTFDJO4H.js";import"./chunk-TQDHD3WD.js";import{i as k,k as T,p as V,q as M,t as A}from"./chunk-DWCYWQVU.js";import{Cc as h,Ec as I,Jb as a,Kb as n,Lb as i,Mb as g,Qb as C,Ub as u,Vb as o,Xa as w,_a as r,fa as f,ic as l,jc as d,kb as D,kc as x,la as v,ma as _,na as S,oa as b,qb as m,va as y,yc as E}from"./chunk-5AECHVKR.js";import"./chunk-EQDQRRRY.js";var H=(t,p)=>({"bg-green-100 text-green-800":t,"bg-red-100 text-red-800":p}),O=(t,p)=>({"border-red-300 text-red-700 hover:bg-red-50":t,"border-green-300 text-green-700 hover:bg-green-50":p});function R(t,p){if(t&1){let e=C();n(0,"div",12)(1,"button",13),u("click",function(){v(e);let c=o();return _(c.editSupplier())}),l(2," Edit Supplier "),i()()}}function z(t,p){t&1&&(n(0,"div",14),g(1,"div",15),i())}function G(t,p){if(t&1&&(n(0,"div",16)(1,"div",17)(2,"div",18),S(),n(3,"svg",19),g(4,"path",20),i()(),b(),n(5,"div",21)(6,"p",22),l(7),i()()()()),t&2){let e=o();r(7),d(e.error())}}function U(t,p){if(t&1&&(n(0,"p",50),l(1),i()),t&2){let e=o(2);r(),d(e.supplier().description)}}function $(t,p){if(t&1&&(n(0,"div")(1,"label",38),l(2,"Phone"),i(),n(3,"p",39),l(4),i()()),t&2){let e=o(2);r(4),d(e.supplier().phone)}}function q(t,p){if(t&1&&(n(0,"div")(1,"label",38),l(2,"Contact Person"),i(),n(3,"p",39),l(4),i()()),t&2){let e=o(2);r(4),d(e.supplier().contactPerson)}}function W(t,p){if(t&1&&(n(0,"div")(1,"label",38),l(2,"Website"),i(),n(3,"a",51),l(4),i()()),t&2){let e=o(2);r(3),a("href",e.supplier().website,w),r(),x(" ",e.supplier().website," ")}}function J(t,p){if(t&1&&(n(0,"div")(1,"label",38),l(2,"Tax ID"),i(),n(3,"p",39),l(4),i()()),t&2){let e=o(2);r(4),d(e.supplier().taxId)}}function K(t,p){if(t&1&&(n(0,"div")(1,"label",38),l(2,"Payment Terms"),i(),n(3,"p",39),l(4),i()()),t&2){let e=o(2);r(4),d(e.supplier().paymentTerms)}}function Q(t,p){if(t&1&&(n(0,"div")(1,"label",38),l(2,"Credit Limit"),i(),n(3,"p",39),l(4),h(5,"number"),i()()),t&2){let e=o(2);r(4),x("$",I(5,1,e.supplier().creditLimit,"1.2-2"))}}function X(t,p){if(t&1&&(n(0,"div",56),l(1),i()),t&2){let e=o(3);r(),d(e.supplier().address.street)}}function Y(t,p){if(t&1&&(n(0,"span"),l(1),i()),t&2){let e=o(3);r(),d(e.supplier().address.city)}}function Z(t,p){if(t&1&&(n(0,"span"),l(1),i()),t&2){let e=o(3);r(),x(", ",e.supplier().address.state)}}function ee(t,p){if(t&1&&(n(0,"span"),l(1),i()),t&2){let e=o(3);r(),d(e.supplier().address.postalCode)}}function te(t,p){if(t&1&&(n(0,"div",57),l(1),i()),t&2){let e=o(3);r(),d(e.supplier().address.country)}}function ie(t,p){if(t&1&&(n(0,"div",42)(1,"div",43)(2,"h3",44),l(3,"Address Information"),i()(),n(4,"div",34)(5,"div",52),m(6,X,2,1,"div",53),n(7,"div",54),m(8,Y,2,1,"span",40)(9,Z,2,1,"span",40)(10,ee,2,1,"span",40),i(),m(11,te,2,1,"div",55),i()()()),t&2){let e=o(2);r(6),a("ngIf",e.supplier().address.street),r(2),a("ngIf",e.supplier().address.city),r(),a("ngIf",e.supplier().address.state),r(),a("ngIf",e.supplier().address.postalCode),r(),a("ngIf",e.supplier().address.country)}}function ne(t,p){if(t&1&&(n(0,"div",42)(1,"div",43)(2,"h3",44),l(3,"Notes"),i()(),n(4,"div",34)(5,"p",58),l(6),i()()()),t&2){let e=o(2);r(6),d(e.supplier().notes)}}function re(t,p){if(t&1&&(n(0,"div")(1,"label",38),l(2,"Created At"),i(),n(3,"p",39),l(4),h(5,"date"),i()()),t&2){let e=o(2);r(4),d(I(5,1,e.supplier().createdAt,"medium"))}}function le(t,p){if(t&1&&(n(0,"div")(1,"label",38),l(2,"Last Updated"),i(),n(3,"p",39),l(4),h(5,"date"),i()()),t&2){let e=o(2);r(4),d(I(5,1,e.supplier().updatedAt,"medium"))}}function pe(t,p){t&1&&(n(0,"div",59),S(),n(1,"svg",60),g(2,"path",61),i(),b(),n(3,"h3",62),l(4,"Supplier Not Found"),i(),n(5,"p",63),l(6,"The requested supplier could not be found."),i()())}function ae(t,p){if(t&1){let e=C();n(0,"div",23)(1,"div",24)(2,"div",25)(3,"div",26)(4,"div",27)(5,"div",28)(6,"span",29),l(7),i()(),n(8,"div")(9,"h2",30),l(10),i(),m(11,U,2,1,"p",31),i()(),n(12,"div",27)(13,"span",32),l(14),i(),n(15,"button",33),u("click",function(){v(e);let c=o();return _(c.toggleSupplierStatus())}),l(16),i()()()(),n(17,"div",34)(18,"div",35)(19,"div")(20,"h3",36),l(21,"Contact Information"),i(),n(22,"div",37)(23,"div")(24,"label",38),l(25,"Email"),i(),n(26,"p",39),l(27),i()(),m(28,$,5,1,"div",40)(29,q,5,1,"div",40)(30,W,5,2,"div",40),i()(),n(31,"div")(32,"h3",36),l(33,"Business Information"),i(),n(34,"div",37),m(35,J,5,1,"div",40)(36,K,5,1,"div",40)(37,Q,6,4,"div",40),i()()()()(),m(38,ie,12,5,"div",41)(39,ne,7,1,"div",41),n(40,"div",42)(41,"div",43)(42,"h3",44),l(43,"Record Information"),i()(),n(44,"div",34)(45,"div",35),m(46,re,6,4,"div",40)(47,le,6,4,"div",40),i()()(),n(48,"div",45)(49,"button",46),u("click",function(){v(e);let c=o();return _(c.deleteSupplier())}),l(50," Delete Supplier "),i(),n(51,"div",12)(52,"button",47),u("click",function(){v(e);let c=o();return _(c.goBack())}),l(53," Back to List "),i(),n(54,"button",48),u("click",function(){v(e);let c=o();return _(c.editSupplier())}),l(55," Edit Supplier "),i()()(),m(56,pe,7,0,"div",49),i()}if(t&2){let e=o();r(7),x(" ",e.supplier().name.charAt(0).toUpperCase()," "),r(3),d(e.supplier().name),r(),a("ngIf",e.supplier().description),r(2),a("ngClass",E(19,H,e.supplier().active,!e.supplier().active)),r(),x(" ",e.supplier().active?"Active":"Inactive"," "),r(),a("ngClass",E(22,O,e.supplier().active,!e.supplier().active)),r(),x(" ",e.supplier().active?"Deactivate":"Activate"," "),r(11),d(e.supplier().email),r(),a("ngIf",e.supplier().phone),r(),a("ngIf",e.supplier().contactPerson),r(),a("ngIf",e.supplier().website),r(5),a("ngIf",e.supplier().taxId),r(),a("ngIf",e.supplier().paymentTerms),r(),a("ngIf",e.supplier().creditLimit),r(),a("ngIf",e.supplier().address&&e.hasAddressInfo()),r(),a("ngIf",e.supplier().notes),r(7),a("ngIf",e.supplier().createdAt),r(),a("ngIf",e.supplier().updatedAt),r(9),a("ngIf",!e.supplier()&&!e.loading())}}var N=class t{suppliersService=f(F);router=f(B);route=f(L);storeStore=f(P);supplier=y(null);loading=y(!1);error=y(null);supplierId;constructor(){}ngOnInit(){this.supplierId=this.route.snapshot.paramMap.get("id"),this.supplierId?this.loadSupplier():this.router.navigate(["/menu/erp/inventory/suppliers"])}loadSupplier(){let p=this.storeStore.selectedStore()?._id;p&&(this.loading.set(!0),this.error.set(null),this.suppliersService.getSupplier(this.supplierId,p).subscribe({next:e=>{this.supplier.set(e),this.loading.set(!1)},error:e=>{this.error.set("Failed to load supplier details"),this.loading.set(!1),console.error("Error loading supplier:",e)}}))}editSupplier(){this.router.navigate(["/menu/erp/inventory/suppliers/edit",this.supplierId])}toggleSupplierStatus(){if(!this.supplier())return;let e=this.storeStore.selectedStore()?._id;e&&this.suppliersService.toggleSupplierStatus(this.supplierId,e).subscribe({next:s=>{this.supplier.set(s)},error:s=>{console.error("Error toggling supplier status:",s),this.error.set("Failed to update supplier status")}})}deleteSupplier(){let p=this.supplier();if(!p)return;let e=this.storeStore.selectedStore()?._id;e&&confirm(`Are you sure you want to delete supplier "${p.name}"?`)&&this.suppliersService.deleteSupplier(this.supplierId,e).subscribe({next:()=>{this.router.navigate(["/menu/erp/inventory/suppliers"])},error:s=>{console.error("Error deleting supplier:",s),this.error.set("Failed to delete supplier")}})}goBack(){this.router.navigate(["/menu/erp/inventory/suppliers"])}hasAddressInfo(){let p=this.supplier()?.address;return p?!!(p.street||p.city||p.state||p.country||p.postalCode):!1}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=D({type:t,selectors:[["app-supplier-details"]],decls:15,vars:4,consts:[[1,"p-6","max-w-4xl","mx-auto"],[1,"flex","justify-between","items-start","mb-6"],[1,"flex","items-center","space-x-4"],[1,"p-2","text-gray-400","hover:text-gray-600","transition-colors",3,"click"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"h-6","w-6"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M15 19l-7-7 7-7"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-gray-600","mt-1"],["class","flex space-x-3",4,"ngIf"],["class","flex justify-center items-center py-12",4,"ngIf"],["class","bg-red-50 border border-red-200 rounded-lg p-4 mb-6",4,"ngIf"],["class","space-y-6",4,"ngIf"],[1,"flex","space-x-3"],[1,"bg-blue-600","hover:bg-blue-700","text-white","px-4","py-2","rounded-lg","font-medium","transition-colors",3,"click"],[1,"flex","justify-center","items-center","py-12"],[1,"animate-spin","rounded-full","h-8","w-8","border-b-2","border-blue-600"],[1,"bg-red-50","border","border-red-200","rounded-lg","p-4","mb-6"],[1,"flex"],[1,"flex-shrink-0"],["viewBox","0 0 20 20","fill","currentColor",1,"h-5","w-5","text-red-400"],["fill-rule","evenodd","d","M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z","clip-rule","evenodd"],[1,"ml-3"],[1,"text-sm","text-red-800"],[1,"space-y-6"],[1,"bg-white","shadow-sm","rounded-lg","overflow-hidden"],[1,"px-6","py-4","border-b","border-gray-200","bg-gray-50"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","space-x-3"],[1,"flex-shrink-0","h-12","w-12","bg-blue-100","rounded-full","flex","items-center","justify-center"],[1,"text-blue-600","font-semibold","text-lg"],[1,"text-xl","font-semibold","text-gray-900"],["class","text-gray-500",4,"ngIf"],[1,"inline-flex","px-3","py-1","text-sm","font-semibold","rounded-full",3,"ngClass"],[1,"text-sm","px-3","py-1","rounded-md","border","transition-colors",3,"click","ngClass"],[1,"px-6","py-4"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"text-sm","font-medium","text-gray-500","uppercase","tracking-wide","mb-3"],[1,"space-y-3"],[1,"block","text-sm","font-medium","text-gray-700"],[1,"mt-1","text-sm","text-gray-900"],[4,"ngIf"],["class","bg-white shadow-sm rounded-lg",4,"ngIf"],[1,"bg-white","shadow-sm","rounded-lg"],[1,"px-6","py-4","border-b","border-gray-200"],[1,"text-lg","font-medium","text-gray-900"],[1,"flex","justify-between","items-center","pt-6"],[1,"bg-red-600","hover:bg-red-700","text-white","px-4","py-2","rounded-lg","font-medium","transition-colors",3,"click"],[1,"px-6","py-2","border","border-gray-300","rounded-lg","text-gray-700","bg-white","hover:bg-gray-50","font-medium","transition-colors",3,"click"],[1,"bg-blue-600","hover:bg-blue-700","text-white","px-6","py-2","rounded-lg","font-medium","transition-colors",3,"click"],["class","text-center py-12",4,"ngIf"],[1,"text-gray-500"],["target","_blank",1,"mt-1","text-sm","text-blue-600","hover:text-blue-800","underline",3,"href"],[1,"text-sm","text-gray-900"],["class","mb-1",4,"ngIf"],[1,"flex","space-x-2"],["class","mt-1",4,"ngIf"],[1,"mb-1"],[1,"mt-1"],[1,"text-sm","text-gray-900","whitespace-pre-wrap"],[1,"text-center","py-12"],["fill","none","viewBox","0 0 24 24","stroke","currentColor",1,"mx-auto","h-12","w-12","text-gray-400"],["stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2 2v-5m16 0h-2M4 13h2m13-8l-4 4m0 0l-4-4m4 4V3"],[1,"mt-2","text-sm","font-medium","text-gray-900"],[1,"mt-1","text-sm","text-gray-500"]],template:function(e,s){e&1&&(n(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),u("click",function(){return s.goBack()}),S(),n(4,"svg",4),g(5,"path",5),i()(),b(),n(6,"div")(7,"h1",6),l(8,"Supplier Details"),i(),n(9,"p",7),l(10,"View and manage supplier information"),i()()(),m(11,R,3,0,"div",8),i()(),m(12,z,2,0,"div",9)(13,G,8,1,"div",10)(14,ae,57,25,"div",11)),e&2&&(r(11),a("ngIf",s.supplier()),r(),a("ngIf",s.loading()),r(),a("ngIf",s.error()),r(),a("ngIf",s.supplier()&&!s.loading()))},dependencies:[A,k,T,M,V,j],styles:["[_nghost-%COMP%]{display:block}"]})};export{N as SupplierDetailsComponent};
