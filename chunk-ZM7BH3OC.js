import{a as zt}from"./chunk-Z32AMKXI.js";import"./chunk-XRIZFGOF.js";import{a as At}from"./chunk-3BAAVWVE.js";import{a as Ut,b as Vt,c as jt,h as Lt}from"./chunk-OVVKV2U3.js";import{a as Ht}from"./chunk-XCRB4NGT.js";import"./chunk-P5H3RIJ7.js";import{a as Et,b as wt,c as kt,d as Ot,e as Pt,f as Rt,g as It,h as Nt,i as Ft,j as Bt,k as $t}from"./chunk-4UI7GXCU.js";import"./chunk-FK6H3RFT.js";import{b as Tt}from"./chunk-IQCUWJKP.js";import{a as L}from"./chunk-GELMWLCN.js";import"./chunk-JN5X2IYW.js";import"./chunk-DSVTILZD.js";import{c as Wt}from"./chunk-K4FCBQNH.js";import"./chunk-WFM45R76.js";import"./chunk-IW6IJ3IN.js";import{a as nt,b as at}from"./chunk-GRNTQ3PR.js";import{a as ot,b as rt,c as it,d as lt}from"./chunk-62CZFSKL.js";import{i as J}from"./chunk-I4XKOMFF.js";import{a as Mt,b as Dt}from"./chunk-T3N63WKP.js";import{d as j}from"./chunk-WAEUNFFU.js";import{d as Gt}from"./chunk-34VGG7JE.js";import"./chunk-JOC3JCWJ.js";import"./chunk-AXVKE7YV.js";import"./chunk-UDXHODBD.js";import"./chunk-XBTGTIDL.js";import{b as ht,c as bt,d as St}from"./chunk-3JUXLSAM.js";import{a as ft,e as Ct,h as xt}from"./chunk-TKNXELSU.js";import"./chunk-JT5P23LW.js";import{a as yt,b as vt}from"./chunk-4CSV6WDD.js";import{B as _t,b as mt,g as st,h as ct,m as dt,s as ut,t as pt,z as gt}from"./chunk-APGJ2ZCU.js";import"./chunk-KLDQLPSD.js";import"./chunk-R35DVJIH.js";import{a as z}from"./chunk-BFT2MTJY.js";import{a as Z,b as q,c as Q,d as X,f as tt,h as et}from"./chunk-SV3V3KFF.js";import"./chunk-FTUKKUPK.js";import"./chunk-J6S3CU5H.js";import"./chunk-SBJI2VOL.js";import{b as Y,c as K}from"./chunk-A5WKFY2Q.js";import{Y as H,Z as A,aa as W}from"./chunk-PD333HOR.js";import"./chunk-JWHH2AW2.js";import{g as $,s as U,y as V}from"./chunk-T7PMTSVA.js";import{$ as N,$b as v,E as w,Hb as h,Ib as b,Nb as u,Ob as a,Pb as o,Qb as f,Ub as g,Uc as x,Vb as _,Xb as P,ab as l,bc as s,da as F,ea as D,ja as S,ka as y,lc as k,m as E,pb as B,qc as r,r as R,rc as d,sc as T,va as G,vb as p,x as I}from"./chunk-ZCSDIQ3M.js";import{a as C}from"./chunk-GAL4ENT6.js";var O=class n{constructor(e){this.http=e}apiUrl=`${z.apiUrl}/guests`;getGuestData(e,t){let i=C(C({storeId:e,startDate:t.startDate,endDate:t.endDate,reportType:t.reportType},t.guestType&&{guestType:t.guestType}),t.roomType&&{roomType:t.roomType});return this.http.get(`${this.apiUrl}/data`,{params:i}).pipe(w(m=>(console.error("Error fetching guest data:",m),E(this.getMockGuestData()))))}getGuestBreakdown(e,t){let i=C(C({storeId:e,startDate:t.startDate,endDate:t.endDate,reportType:t.reportType},t.guestType&&{guestType:t.guestType}),t.roomType&&{roomType:t.roomType});return this.http.get(`${this.apiUrl}/breakdown`,{params:i}).pipe(w(m=>(console.error("Error fetching guest breakdown:",m),E(this.getMockGuestBreakdown()))))}getGuestStats(e,t){let i=C(C({storeId:e,startDate:t.startDate,endDate:t.endDate,reportType:t.reportType},t.guestType&&{guestType:t.guestType}),t.roomType&&{roomType:t.roomType});return this.http.get(`${this.apiUrl}/stats`,{params:i}).pipe(w(m=>(console.error("Error fetching guest stats:",m),E(this.getMockGuestStats()))))}exportToCSV(e,t){let i=C(C({storeId:e,startDate:t.startDate,endDate:t.endDate,reportType:t.reportType},t.guestType&&{guestType:t.guestType}),t.roomType&&{roomType:t.roomType});return this.http.get(`${this.apiUrl}/export/csv`,{params:i,responseType:"blob"})}exportToPDF(e,t){let i=C(C({storeId:e,startDate:t.startDate,endDate:t.endDate,reportType:t.reportType},t.guestType&&{guestType:t.guestType}),t.roomType&&{roomType:t.roomType});return this.http.get(`${this.apiUrl}/export/pdf`,{params:i,responseType:"blob"})}getMockGuestData(){let e=[],t=new Date;for(let i=29;i>=0;i--){let m=new Date(t);m.setDate(m.getDate()-i);let c=Math.floor(Math.random()*100)+50,M=Math.floor(c*.3),Yt=c-M;e.push({date:m.toISOString(),totalGuests:c,newGuests:M,returningGuests:Yt,checkIns:Math.floor(Math.random()*30)+10,checkOuts:Math.floor(Math.random()*25)+8,averageStayDuration:Math.floor(Math.random()*5)+2,occupancyRate:Math.floor(Math.random()*40)+60,guestGrowth:(Math.random()-.5)*20})}return e}getMockGuestBreakdown(){return[{category:"Business Travelers",value:120,percentage:35,averageStay:2.5},{category:"Leisure Travelers",value:150,percentage:45,averageStay:4.2},{category:"Group Bookings",value:45,percentage:15,averageStay:3.8},{category:"Extended Stay",value:18,percentage:5,averageStay:14.5}]}getMockGuestStats(){return{totalGuests:2156,totalCheckIns:456,totalCheckOuts:442,averageStayDuration:3.8,occupancyRate:78.5,guestGrowth:12.5,newGuestsPercentage:32.4,returningGuestsPercentage:67.6,peakOccupancyDate:new Date().toISOString(),monthlyProjection:6800}}static \u0275fac=function(t){return new(t||n)(F(V))};static \u0275prov=N({token:n,factory:n.\u0275fac,providedIn:"root"})};function Zt(n,e){if(n&1){let t=P();a(0,"mat-card",9)(1,"mat-card-content",32)(2,"mat-icon",33),r(3,"warning"),o(),a(4,"span",34),r(5),o(),a(6,"button",35),v("click",function(){S(t);let m=s();return y(m.clearError())}),a(7,"mat-icon"),r(8,"close"),o()()()()}if(n&2){let t=s();l(5),d(t.error())}}function qt(n,e){if(n&1&&(a(0,"span"),r(1),o()),n&2){let t=s(3);l(),T("+",t.formatPercent(t.guestStats().guestGrowth))}}function Qt(n,e){if(n&1&&(a(0,"span"),r(1),o()),n&2){let t=s(3);l(),d(t.formatPercent(t.guestStats().guestGrowth))}}function Xt(n,e){if(n&1&&(a(0,"p",42)(1,"mat-icon",55),r(2),o(),h(3,qt,2,1,"span")(4,Qt,2,1,"span"),o()),n&2){let t=s(2);u("ngClass",t.getGrowthClass(t.guestStats().guestGrowth)),l(2),d(t.getGrowthIcon(t.guestStats().guestGrowth)),l(),b(t.guestStats().guestGrowth>0?3:4)}}function te(n,e){if(n&1&&(a(0,"div",53),f(1,"canvas",56),o()),n&2){let t=s(2);l(),u("data",t.guestTrendChartData())("options",t.chartOptions())}}function ee(n,e){n&1&&(a(0,"div",54)(1,"div",57)(2,"mat-icon",58),r(3,"bar_chart"),o(),a(4,"p",59),r(5,"No guest data available"),o()()())}function ne(n,e){if(n&1&&(a(0,"div",53),f(1,"canvas",60),o()),n&2){let t=s(2);l(),u("data",t.guestBreakdownChartData())("options",t.doughnutChartOptions())}}function ae(n,e){n&1&&(a(0,"div",54)(1,"div",57)(2,"mat-icon",58),r(3,"pie_chart"),o(),a(4,"p",59),r(5,"No breakdown data available"),o()()())}function oe(n,e){n&1&&(a(0,"th",70),r(1,"Guest Type"),o())}function re(n,e){if(n&1&&(a(0,"td",71),r(1),o()),n&2){let t=e.$implicit;l(),d(t.category)}}function ie(n,e){n&1&&(a(0,"th",70),r(1,"Count"),o())}function le(n,e){if(n&1&&(a(0,"td",71),r(1),o()),n&2){let t=e.$implicit,i=s(3);l(),d(i.formatNumber(t.value))}}function me(n,e){n&1&&(a(0,"th",70),r(1,"Percentage"),o())}function se(n,e){if(n&1&&(a(0,"td",71)(1,"div",72),f(2,"mat-progress-bar",73),a(3,"span"),r(4),o()()()),n&2){let t=e.$implicit,i=s(3);l(2),u("value",t.percentage),l(2),d(i.formatPercent(t.percentage))}}function ce(n,e){n&1&&(a(0,"th",70),r(1,"Avg Stay Duration"),o())}function de(n,e){if(n&1&&(a(0,"td",71),r(1),o()),n&2){let t=e.$implicit,i=s(3);l(),d(i.formatDuration(t.averageStay))}}function ue(n,e){n&1&&f(0,"tr",74)}function pe(n,e){n&1&&f(0,"tr",75)}function ge(n,e){if(n&1&&(a(0,"mat-card",10)(1,"mat-card-header")(2,"mat-card-title"),r(3,"Guest Type Details"),o()(),a(4,"mat-card-content")(5,"table",61),g(6,62),p(7,oe,2,0,"th",63)(8,re,2,1,"td",64),_(),g(9,65),p(10,ie,2,0,"th",63)(11,le,2,1,"td",64),_(),g(12,66),p(13,me,2,0,"th",63)(14,se,5,2,"td",64),_(),g(15,67),p(16,ce,2,0,"th",63)(17,de,2,1,"td",64),_(),p(18,ue,1,0,"tr",68)(19,pe,1,0,"tr",69),o()()()),n&2){let t=s(2);l(5),u("dataSource",t.guestBreakdown()),l(13),u("matHeaderRowDef",t.breakdownColumns),l(),u("matRowDefColumns",t.breakdownColumns)}}function _e(n,e){n&1&&(a(0,"th",70),r(1,"Date"),o())}function fe(n,e){if(n&1&&(a(0,"td",71),r(1),o()),n&2){let t=e.$implicit,i=s(3);l(),d(i.formatDate(t.date))}}function Ce(n,e){n&1&&(a(0,"th",70),r(1,"Total Guests"),o())}function xe(n,e){if(n&1&&(a(0,"td",86),r(1),o()),n&2){let t=e.$implicit,i=s(3);l(),d(i.formatNumber(t.totalGuests))}}function he(n,e){n&1&&(a(0,"th",70),r(1,"New Guests"),o())}function be(n,e){if(n&1&&(a(0,"td",71),r(1),o()),n&2){let t=e.$implicit,i=s(3);l(),d(i.formatNumber(t.newGuests))}}function Se(n,e){n&1&&(a(0,"th",70),r(1,"Returning Guests"),o())}function ye(n,e){if(n&1&&(a(0,"td",71),r(1),o()),n&2){let t=e.$implicit,i=s(3);l(),d(i.formatNumber(t.returningGuests))}}function ve(n,e){n&1&&(a(0,"th",70),r(1,"Check-ins"),o())}function Me(n,e){if(n&1&&(a(0,"td",71),r(1),o()),n&2){let t=e.$implicit,i=s(3);l(),d(i.formatNumber(t.checkIns))}}function De(n,e){n&1&&(a(0,"th",70),r(1,"Check-outs"),o())}function Ge(n,e){if(n&1&&(a(0,"td",71),r(1),o()),n&2){let t=e.$implicit,i=s(3);l(),d(i.formatNumber(t.checkOuts))}}function Te(n,e){n&1&&(a(0,"th",70),r(1,"Avg Stay"),o())}function Ee(n,e){if(n&1&&(a(0,"td",71),r(1),o()),n&2){let t=e.$implicit,i=s(3);l(),d(i.formatDuration(t.averageStayDuration))}}function we(n,e){n&1&&(a(0,"th",70),r(1,"Occupancy"),o())}function ke(n,e){if(n&1&&(a(0,"td",71)(1,"div",72),f(2,"mat-progress-bar",87),a(3,"span"),r(4),o()()()),n&2){let t=e.$implicit,i=s(3);l(2),u("value",t.occupancyRate),l(2),d(i.formatPercent(t.occupancyRate))}}function Oe(n,e){n&1&&f(0,"tr",74)}function Pe(n,e){n&1&&f(0,"tr",75)}function Re(n,e){if(n&1&&(a(0,"mat-card",37)(1,"mat-card-header")(2,"mat-card-title"),r(3,"Daily Guest Data"),o(),a(4,"mat-card-subtitle"),r(5),o()(),a(6,"mat-card-content")(7,"div",76)(8,"table",61),g(9,77),p(10,_e,2,0,"th",63)(11,fe,2,1,"td",64),_(),g(12,78),p(13,Ce,2,0,"th",63)(14,xe,2,1,"td",79),_(),g(15,80),p(16,he,2,0,"th",63)(17,be,2,1,"td",64),_(),g(18,81),p(19,Se,2,0,"th",63)(20,ye,2,1,"td",64),_(),g(21,82),p(22,ve,2,0,"th",63)(23,Me,2,1,"td",64),_(),g(24,83),p(25,De,2,0,"th",63)(26,Ge,2,1,"td",64),_(),g(27,84),p(28,Te,2,0,"th",63)(29,Ee,2,1,"td",64),_(),g(30,85),p(31,we,2,0,"th",63)(32,ke,5,2,"td",64),_(),p(33,Oe,1,0,"tr",68)(34,Pe,1,0,"tr",69),o()()()()),n&2){let t=s(2);l(5),T("",t.guestData().length," records found"),l(3),u("dataSource",t.guestData()),l(25),u("matHeaderRowDef",t.displayedColumns),l(),u("matRowDefColumns",t.displayedColumns)}}function Ie(n,e){if(n&1&&(a(0,"div",36)(1,"mat-card",37)(2,"mat-card-content",38)(3,"div",39)(4,"div")(5,"p",40),r(6,"Total Guests"),o(),a(7,"p",41),r(8),o(),h(9,Xt,5,3,"p",42),o(),a(10,"div",43)(11,"mat-icon",44),r(12,"groups"),o()()()()(),a(13,"mat-card",37)(14,"mat-card-content",38)(15,"div",39)(16,"div")(17,"p",40),r(18,"Total Check-ins"),o(),a(19,"p",41),r(20),o(),a(21,"p",45),r(22),o()(),a(23,"div",46)(24,"mat-icon",47),r(25,"login"),o()()()()(),a(26,"mat-card",37)(27,"mat-card-content",38)(28,"div",39)(29,"div")(30,"p",40),r(31,"Avg Stay Duration"),o(),a(32,"p",41),r(33),o(),a(34,"p",45),r(35),o()(),a(36,"div",48)(37,"mat-icon",49),r(38,"schedule"),o()()()()(),a(39,"mat-card",37)(40,"mat-card-content",38)(41,"div",39)(42,"div")(43,"p",40),r(44,"Monthly Projection"),o(),a(45,"p",41),r(46),o(),a(47,"p",45),r(48,"Based on current trends"),o()(),a(49,"div",50)(50,"mat-icon",51),r(51,"trending_up"),o()()()()()(),a(52,"div",52)(53,"mat-card",37)(54,"mat-card-header")(55,"mat-card-title"),r(56,"Guest Trends"),o()(),a(57,"mat-card-content"),h(58,te,2,2,"div",53)(59,ee,6,0,"div",54),o()(),a(60,"mat-card",37)(61,"mat-card-header")(62,"mat-card-title"),r(63,"Guest Type Breakdown"),o()(),a(64,"mat-card-content"),h(65,ne,2,2,"div",53)(66,ae,6,0,"div",54),o()()(),h(67,ge,20,3,"mat-card",10),h(68,Re,35,4,"mat-card",37)),n&2){let t=s();l(8),d(t.formatNumber(t.guestStats().totalGuests)),l(),b(t.guestStats().guestGrowth!==0?9:-1),l(11),d(t.formatNumber(t.guestStats().totalCheckIns)),l(2),T(" Check-outs: ",t.formatNumber(t.guestStats().totalCheckOuts)," "),l(11),d(t.formatDuration(t.guestStats().averageStayDuration)),l(2),T(" Occupancy: ",t.formatPercent(t.guestStats().occupancyRate)," "),l(11),d(t.formatNumber(t.guestStats().monthlyProjection)),l(12),b(t.guestData().length>0?58:59),l(7),b(t.guestBreakdown().length>0?65:66),l(2),b(t.guestBreakdown().length>0?67:-1),l(),b(t.guestData().length>0?68:-1)}}function Ne(n,e){n&1&&(a(0,"mat-card",31)(1,"div",88),f(2,"mat-spinner",89),a(3,"p",90),r(4,"Loading guest data..."),o(),a(5,"p",91),r(6,"This may take a few moments"),o()()())}var Fe={"\u20A6":"NGN",$:"USD","\u20AC":"EUR","\xA3":"GBP","\xA5":"JPY","\u20B9":"INR","\u20BD":"RUB","\u20A9":"KRW","\u20B4":"UAH","\u0E3F":"THB",R$:"BRL","\u20AB":"VND","\u20B1":"PHP",RM:"MYR",Rp:"IDR"},Jt=class n{fb=D(gt);guestService=D(O);storeStore=D(J);exportService=D(At);isExporting=G(!1);selectedStore=x(()=>this.storeStore.selectedStore());currency=x(()=>{let e=this.selectedStore(),t=e?.currencyCode||e?.currency||"USD";return Fe[t]||t});filterForm;filterTrigger=G(0);error=G(null);lastUpdated=G(new Date);guestResource=Gt({params:()=>({storeId:this.selectedStore()?._id||"",filters:this.getFilters(),trigger:this.filterTrigger()}),stream:({params:e})=>I({guestData:this.guestService.getGuestData(e.storeId,e.filters),guestBreakdown:this.guestService.getGuestBreakdown(e.storeId,e.filters),stats:this.guestService.getGuestStats(e.storeId,e.filters)}).pipe(R(t=>(this.lastUpdated.set(new Date),t)))});loading=x(()=>this.guestResource.isLoading());guestData=x(()=>this.guestResource.value()?.guestData??[]);guestBreakdown=x(()=>this.guestResource.value()?.guestBreakdown??[]);guestStats=x(()=>this.guestResource.value()?.stats??null);guestTrendChartData=x(()=>{let e=this.guestData();return{labels:e.map(t=>this.formatDateShort(new Date(t.date))),datasets:[{data:e.map(t=>t.totalGuests),label:"Total Guests",backgroundColor:"rgba(59, 130, 246, 0.1)",borderColor:"rgba(59, 130, 246, 1)",borderWidth:2,fill:!0,tension:.4},{data:e.map(t=>t.newGuests),label:"New Guests",backgroundColor:"rgba(34, 197, 94, 0.1)",borderColor:"rgba(34, 197, 94, 1)",borderWidth:2,fill:!1,tension:.4},{data:e.map(t=>t.returningGuests),label:"Returning Guests",backgroundColor:"rgba(168, 85, 247, 0.1)",borderColor:"rgba(168, 85, 247, 1)",borderWidth:2,fill:!1,tension:.4}]}});guestBreakdownChartData=x(()=>{let e=this.guestBreakdown();return{labels:e.map(t=>t.category),datasets:[{data:e.map(t=>t.value),backgroundColor:["rgba(59, 130, 246, 0.8)","rgba(34, 197, 94, 0.8)","rgba(168, 85, 247, 0.8)","rgba(245, 158, 11, 0.8)","rgba(239, 68, 68, 0.8)","rgba(20, 184, 166, 0.8)"],borderWidth:2,borderColor:"#fff"}]}});chartOptions=x(()=>({responsive:!0,maintainAspectRatio:!1,interaction:{intersect:!1,mode:"index"},plugins:{legend:{display:!0,position:"top"},tooltip:{callbacks:{label:e=>`${e.dataset.label}: ${e.parsed.y}`}}},scales:{x:{display:!0,title:{display:!0,text:"Date"}},y:{display:!0,title:{display:!0,text:"Number of Guests"},beginAtZero:!0}}}));doughnutChartOptions=x(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!0,position:"right"},tooltip:{callbacks:{label:e=>{let t=e.dataset.data.reduce((m,c)=>m+Number(c),0),i=(Number(e.parsed)/t*100).toFixed(1);return`${e.label}: ${Number(e.parsed)} (${i}%)`}}}}}));displayedColumns=["date","totalGuests","newGuests","returningGuests","checkIns","checkOuts","averageStayDuration","occupancyRate"];breakdownColumns=["category","count","percentage","avgStay"];constructor(){this.filterForm=this.fb.group({startDate:[new Date(Date.now()-720*60*60*1e3)],endDate:[new Date],reportType:["daily"],guestType:["all"],roomType:["all"]})}loadData(){this.filterTrigger.update(e=>e+1)}getFilters(){let e=this.filterForm.value;return{startDate:e.startDate,endDate:e.endDate,reportType:e.reportType,guestType:e.guestType!=="all"?e.guestType:void 0,roomType:e.roomType!=="all"?e.roomType:void 0}}onDateRangeChange(){this.loadData()}exportToCSV(){let e=this.selectedStore()?._id||"",t=this.getFilters();this.isExporting.set(!0),this.guestService.exportToCSV(e,t).subscribe({next:i=>{let m=window.URL.createObjectURL(i),c=document.createElement("a");c.href=m,c.download=`guest-report-${this.formatDateISO(new Date)}.csv`,c.click(),window.URL.revokeObjectURL(m),this.isExporting.set(!1)},error:i=>{console.error("Export error:",i),this.error.set("Failed to export CSV. Please try again."),this.isExporting.set(!1)}})}exportToPDF(){let e=this.selectedStore()?._id||"",t=this.getFilters();this.isExporting.set(!0),this.guestService.exportToPDF(e,t).subscribe({next:i=>{let m=window.URL.createObjectURL(i),c=document.createElement("a");c.href=m,c.download=`guest-report-${this.formatDateISO(new Date)}.pdf`,c.click(),window.URL.revokeObjectURL(m),this.isExporting.set(!1)},error:i=>{console.error("Export error:",i),this.error.set("Failed to export PDF. Please try again."),this.isExporting.set(!1)}})}exportData(e){if(!this.guestData().length)return;let t=this.guestData(),i="guest-report",m={from:this.filterForm.value.startDate?.toISOString()||"",to:this.filterForm.value.endDate?.toISOString()||""};switch(e){case"pdf":this.exportService.exportGuestDataToPdf(t,i,m);break;case"csv":this.exportService.exportToCSV(t,i);break;case"excel":this.exportService.exportToExcel(t,i);break}}refreshData(){this.loadData()}clearError(){this.error.set(null)}getGrowthClass(e){return e>0?"text-green-600":e<0?"text-red-600":"text-gray-600"}getGrowthIcon(e){return e>0?"trending_up":e<0?"trending_down":"trending_flat"}formatDate(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}formatDateShort(e){return e.toLocaleDateString("en-US",{month:"short",day:"numeric"})}formatDateISO(e){return e.toISOString().split("T")[0]}formatPercent(e){return`${e.toFixed(1)}%`}formatNumber(e){return e==null||isNaN(e)?"0":e.toLocaleString()}formatDuration(e){return e==null||isNaN(e)?"0 days":e<1?`${Math.round(e*24)}h`:`${e.toFixed(1)} days`}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=B({type:n,selectors:[["app-guest-report"]],decls:89,vars:10,consts:[["exportMenu","matMenu"],["startPicker",""],["endPicker",""],[1,"p-6","min-h-screen"],["title","Guest Report","subtitle","Track and analyze guest occupancy patterns and trends"],["actions",""],["matButton","outlined",3,"click","disabled"],["matButton","filled","color","primary",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],["appearance","outlined",1,"mb-6","border-yellow-200","bg-yellow-50"],["appearance","outlined",1,"mb-6"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-5","gap-4","mt-4",3,"formGroup"],["appearance","outline"],["matInput","","formControlName","startDate",3,"matDatepicker"],["matIconSuffix","",3,"for"],["matInput","","formControlName","endDate",3,"matDatepicker"],["formControlName","reportType"],["value","daily"],["value","weekly"],["value","monthly"],["formControlName","guestType"],["value","all"],["value","business"],["value","leisure"],["value","group"],["value","extended"],["formControlName","roomType"],["value","standard"],["value","deluxe"],["value","suite"],["value","executive"],["appearance","outlined",1,"p-12"],[1,"flex","items-center","gap-3","py-3"],[1,"text-yellow-600"],[1,"flex-1","text-yellow-700"],["mat-icon-button","",3,"click"],[1,"grid","grid-cols-1","sm:grid-cols-2","lg:grid-cols-4","gap-6","mb-6"],["appearance","outlined"],[1,"p-4"],[1,"flex","items-center","justify-between"],[1,"text-sm","font-medium","text-gray-500","uppercase","tracking-wide"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-sm","mt-1","flex","items-center","gap-1",3,"ngClass"],[1,"w-12","h-12","bg-blue-100","rounded-lg","flex","items-center","justify-center"],[1,"text-blue-600"],[1,"text-sm","text-gray-600","mt-1"],[1,"w-12","h-12","bg-green-100","rounded-lg","flex","items-center","justify-center"],[1,"text-green-600"],[1,"w-12","h-12","bg-purple-100","rounded-lg","flex","items-center","justify-center"],[1,"text-purple-600"],[1,"w-12","h-12","bg-orange-100","rounded-lg","flex","items-center","justify-center"],[1,"text-orange-600"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6","mb-6"],[1,"h-80"],[1,"h-80","flex","items-center","justify-center","text-gray-500"],[1,"text-sm","!w-4","!h-4"],["baseChart","","type","line",3,"data","options"],[1,"text-center"],[1,"!w-12","!h-12","!text-5xl","text-gray-400"],[1,"mt-2"],["baseChart","","type","doughnut",3,"data","options"],["mat-table","",1,"w-full",3,"dataSource"],["matColumnDef","category"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","count"],["matColumnDef","percentage"],["matColumnDef","avgStay"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","","class","hover:bg-gray-50",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],[1,"flex","items-center","gap-2"],["mode","determinate",1,"w-20",3,"value"],["mat-header-row",""],["mat-row","",1,"hover:bg-gray-50"],[1,"overflow-x-auto"],["matColumnDef","date"],["matColumnDef","totalGuests"],["mat-cell","","class","font-medium",4,"matCellDef"],["matColumnDef","newGuests"],["matColumnDef","returningGuests"],["matColumnDef","checkIns"],["matColumnDef","checkOuts"],["matColumnDef","averageStayDuration"],["matColumnDef","occupancyRate"],["mat-cell","",1,"font-medium"],["mode","determinate","color","accent",1,"w-16",3,"value"],[1,"flex","flex-col","items-center","justify-center"],["diameter","48",1,"mb-4"],[1,"text-lg","text-gray-600"],[1,"text-sm","text-gray-500","mt-1"]],template:function(t,i){if(t&1){let m=P();a(0,"div",3)(1,"app-page-header",4),g(2,5),a(3,"button",6),v("click",function(){return S(m),y(i.loadData())}),a(4,"mat-icon"),r(5,"refresh"),o(),r(6," Refresh "),o(),a(7,"button",7)(8,"mat-icon"),r(9,"file_download"),o(),r(10," Export "),o(),a(11,"mat-menu",null,0)(13,"button",8),v("click",function(){return S(m),y(i.exportData("pdf"))}),a(14,"mat-icon"),r(15,"picture_as_pdf"),o(),a(16,"span"),r(17,"Export as PDF"),o()(),a(18,"button",8),v("click",function(){return S(m),y(i.exportData("csv"))}),a(19,"mat-icon"),r(20,"description"),o(),a(21,"span"),r(22,"Export as CSV"),o()(),a(23,"button",8),v("click",function(){return S(m),y(i.exportData("excel"))}),a(24,"mat-icon"),r(25,"table_chart"),o(),a(26,"span"),r(27,"Export as Excel"),o()()(),_(),o(),h(28,Zt,9,1,"mat-card",9),a(29,"mat-card",10)(30,"mat-card-header")(31,"mat-card-title"),r(32,"Report Filters"),o()(),a(33,"mat-card-content")(34,"form",11)(35,"mat-form-field",12)(36,"mat-label"),r(37,"Start Date"),o(),f(38,"input",13)(39,"mat-datepicker-toggle",14)(40,"mat-datepicker",null,1),o(),a(42,"mat-form-field",12)(43,"mat-label"),r(44,"End Date"),o(),f(45,"input",15)(46,"mat-datepicker-toggle",14)(47,"mat-datepicker",null,2),o(),a(49,"mat-form-field",12)(50,"mat-label"),r(51,"Report Type"),o(),a(52,"mat-select",16)(53,"mat-option",17),r(54,"Daily"),o(),a(55,"mat-option",18),r(56,"Weekly"),o(),a(57,"mat-option",19),r(58,"Monthly"),o()()(),a(59,"mat-form-field",12)(60,"mat-label"),r(61,"Guest Type"),o(),a(62,"mat-select",20)(63,"mat-option",21),r(64,"All Types"),o(),a(65,"mat-option",22),r(66,"Business"),o(),a(67,"mat-option",23),r(68,"Leisure"),o(),a(69,"mat-option",24),r(70,"Group"),o(),a(71,"mat-option",25),r(72,"Extended Stay"),o()()(),a(73,"mat-form-field",12)(74,"mat-label"),r(75,"Room Type"),o(),a(76,"mat-select",26)(77,"mat-option",21),r(78,"All Rooms"),o(),a(79,"mat-option",27),r(80,"Standard"),o(),a(81,"mat-option",28),r(82,"Deluxe"),o(),a(83,"mat-option",29),r(84,"Suite"),o(),a(85,"mat-option",30),r(86,"Executive"),o()()()()()(),h(87,Ie,69,11),h(88,Ne,7,0,"mat-card",31),o()}if(t&2){let m=k(12),c=k(41),M=k(48);l(3),u("disabled",i.loading()),l(4),u("matMenuTriggerFor",m),l(21),b(i.error()?28:-1),l(6),u("formGroup",i.filterForm),l(4),u("matDatepicker",c),l(),u("for",c),l(6),u("matDatepicker",M),l(),u("for",M),l(41),b(i.guestStats()?87:-1),l(),b(i.loading()&&!i.guestStats()?88:-1)}},dependencies:[U,$,_t,dt,mt,st,ct,pt,ut,Wt,W,A,H,K,Y,lt,rt,ot,it,et,Z,Q,tt,X,q,ht,xt,ft,Ct,St,bt,Dt,Mt,j,$t,Et,kt,It,Ot,wt,Nt,Pt,Rt,Ft,Bt,vt,yt,at,nt,Lt,Ut,Vt,jt,L,Ht,Tt,zt],styles:[".guest-report[_ngcontent-%COMP%]   .statistics-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1.5rem;margin-bottom:2rem}.guest-report[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]{background:#fff;border-radius:.75rem;box-shadow:0 1px 3px #0000001a;padding:1.5rem}.guest-report[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon[_ngcontent-%COMP%]{width:3rem;height:3rem;border-radius:.75rem;display:flex;align-items:center;justify-content:center}.guest-report[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon.blue[_ngcontent-%COMP%]{background-color:#3b82f61a;color:#3b82f6}.guest-report[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon.green[_ngcontent-%COMP%]{background-color:#22c55e1a;color:#22c55e}.guest-report[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon.purple[_ngcontent-%COMP%]{background-color:#a855f71a;color:#a855f7}.guest-report[_ngcontent-%COMP%]   .stat-card[_ngcontent-%COMP%]   .stat-icon.orange[_ngcontent-%COMP%]{background-color:#f59e0b1a;color:#f59e0b}.guest-report[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]{height:320px;position:relative}.guest-report[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]   .bar-fill[_ngcontent-%COMP%]{transition:width .3s ease-in-out;border-radius:9999px}.guest-report[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]{transition:background-color .2s ease-in-out}.guest-report[_ngcontent-%COMP%]   .table-container[_ngcontent-%COMP%]   .table-row[_ngcontent-%COMP%]:hover{background-color:#f9fafb}.guest-report[_ngcontent-%COMP%]   .filter-form[_ngcontent-%COMP%]   .form-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem}.guest-report[_ngcontent-%COMP%]   .filter-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;font-size:.875rem;font-weight:500;color:#374151;margin-bottom:.25rem}.guest-report[_ngcontent-%COMP%]   .filter-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .guest-report[_ngcontent-%COMP%]   .filter-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{width:100%;padding:.75rem;border:1px solid rgb(209,213,219);border-radius:.375rem;font-size:.875rem;transition:all .2s ease-in-out}.guest-report[_ngcontent-%COMP%]   .filter-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus, .guest-report[_ngcontent-%COMP%]   .filter-form[_ngcontent-%COMP%]   .form-field[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{outline:none;border-color:#3b82f6;box-shadow:0 0 0 3px #3b82f61a}.guest-report[_ngcontent-%COMP%]   .loading-spinner[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media(max-width:768px){.guest-report[_ngcontent-%COMP%]   .statistics-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.guest-report[_ngcontent-%COMP%]   .chart-container[_ngcontent-%COMP%]{height:250px}.guest-report[_ngcontent-%COMP%]   .filter-form[_ngcontent-%COMP%]   .form-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}}.export-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.export-menu[_ngcontent-%COMP%]   .mat-menu-item[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{margin-right:.5rem}.chart-legend[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:1rem;margin-top:1rem}.chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.875rem}.chart-legend[_ngcontent-%COMP%]   .legend-item[_ngcontent-%COMP%]   .legend-color[_ngcontent-%COMP%]{width:1rem;height:1rem;border-radius:.25rem}.data-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]{background-color:#f9fafb}.data-table[_ngcontent-%COMP%]   .table-header[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:600;text-transform:uppercase;letter-spacing:.05em;font-size:.75rem;color:#6b7280}.data-table[_ngcontent-%COMP%]   .table-body[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#f9fafb80}"]})};export{Jt as GuestReportComponent};
