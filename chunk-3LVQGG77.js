import{a as _e}from"./chunk-ONWZVE76.js";import{a as ce}from"./chunk-LGUUKHX2.js";import{a as de}from"./chunk-KFDGSJF3.js";import{a as ue}from"./chunk-C2RERFOP.js";import{a as pe}from"./chunk-HZC625BF.js";import{h as me}from"./chunk-3UMN7V3H.js";import{a as le,b as re}from"./chunk-SLNANJBJ.js";import{a as U,b as W,c as X,d as Y,e as Z,f as ee,g as te,h as ne,i as ae,j as ie,k as oe}from"./chunk-SNJMCTTD.js";import"./chunk-GGOIOYKP.js";import"./chunk-LXK533WH.js";import{a as se}from"./chunk-PVER7R6N.js";import{a as L,b as G,c as J,d as K}from"./chunk-EMC432UM.js";import"./chunk-FK6H3RFT.js";import"./chunk-BA3SXM5W.js";import{a as V}from"./chunk-NWQQ2VP3.js";import"./chunk-M54QIQPD.js";import"./chunk-ZXNLXZXA.js";import"./chunk-2NVE2BM3.js";import"./chunk-KAQLA7HR.js";import"./chunk-Y7XAAAUB.js";import{c as z,d as O}from"./chunk-USTUFZ7V.js";import"./chunk-DXWLW3LX.js";import{b as F,d as H}from"./chunk-7JNU3RG5.js";import"./chunk-3SKQMCZR.js";import"./chunk-UJ5WOJLI.js";import"./chunk-X7SU23UW.js";import{a as Q,b as j}from"./chunk-W6FIBOPD.js";import{E as q}from"./chunk-EQD33MW2.js";import"./chunk-3R2L4BJM.js";import"./chunk-Y4VWLT32.js";import"./chunk-CDKFCYZ5.js";import{b as $,c as N}from"./chunk-2HLT5ZQQ.js";import{Y as I,_ as k}from"./chunk-UUZHPQZB.js";import"./chunk-CQ6SLR32.js";import"./chunk-BFT2MTJY.js";import"./chunk-QAO3BBZ5.js";import"./chunk-KTA4MFBX.js";import{r as R,t as A}from"./chunk-HUSU2JWO.js";import{Eb as P,Fb as E,Hc as h,Jc as M,Kb as f,Lb as a,Mb as i,Nb as c,Rb as d,Sb as s,Ub as g,Yb as x,Za as r,_b as y,ca as _,cc as w,dc as b,ec as D,ha as S,ia as C,ic as B,mb as T,nc as o,oc as u,sb as p}from"./chunk-HCNG3XRF.js";import"./chunk-EQDQRRRY.js";function ye(e,t){e&1&&(a(0,"div",11),c(1,"mat-spinner",14),i())}function Se(e,t){e&1&&(a(0,"mat-header-cell"),o(1,"Payment Type"),i())}function Ce(e,t){if(e&1&&(a(0,"mat-cell"),o(1),i()),e&2){let n=t.$implicit;r(),u(n.paymentType)}}function xe(e,t){e&1&&(a(0,"mat-header-cell"),o(1,"Payment Transactions"),i())}function he(e,t){if(e&1&&(a(0,"mat-cell"),o(1),i()),e&2){let n=t.$implicit;r(),u(n.paymentTransactions)}}function Me(e,t){e&1&&(a(0,"mat-header-cell"),o(1,"Payment Amount"),i())}function ve(e,t){if(e&1&&(a(0,"mat-cell"),o(1),h(2,"currency"),i()),e&2){let n,m=t.$implicit,l=y(2);r(),u(M(2,1,m.paymentAmount,(n=l.storeStore.selectedStore())==null?null:n.currency))}}function Te(e,t){e&1&&(a(0,"mat-header-cell"),o(1,"Refund Transactions"),i())}function Pe(e,t){if(e&1&&(a(0,"mat-cell"),o(1),i()),e&2){let n=t.$implicit;r(),u(n.refundTransactions)}}function Ee(e,t){e&1&&(a(0,"mat-header-cell"),o(1,"Refund Amount"),i())}function ge(e,t){if(e&1&&(a(0,"mat-cell"),o(1),h(2,"currency"),i()),e&2){let n,m=t.$implicit,l=y(2);r(),u(M(2,1,m.refundAmount,(n=l.storeStore.selectedStore())==null?null:n.currency))}}function we(e,t){e&1&&(a(0,"mat-header-cell"),o(1,"Net Amount"),i())}function be(e,t){if(e&1&&(a(0,"mat-cell"),o(1),h(2,"currency"),i()),e&2){let n,m=t.$implicit,l=y(2);r(),u(M(2,1,m.netAmount,(n=l.storeStore.selectedStore())==null?null:n.currency))}}function De(e,t){e&1&&c(0,"mat-header-row")}function Be(e,t){e&1&&c(0,"mat-row")}function Re(e,t){if(e&1&&(a(0,"div",12)(1,"mat-table",15),d(2,16),p(3,Se,2,0,"mat-header-cell",17)(4,Ce,2,1,"mat-cell",18),s(),d(5,19),p(6,xe,2,0,"mat-header-cell",17)(7,he,2,1,"mat-cell",18),s(),d(8,20),p(9,Me,2,0,"mat-header-cell",17)(10,ve,3,4,"mat-cell",18),s(),d(11,21),p(12,Te,2,0,"mat-header-cell",17)(13,Pe,2,1,"mat-cell",18),s(),d(14,22),p(15,Ee,2,0,"mat-header-cell",17)(16,ge,3,4,"mat-cell",18),s(),d(17,23),p(18,we,2,0,"mat-header-cell",17)(19,be,3,4,"mat-cell",18),s(),p(20,De,1,0,"mat-header-row",24)(21,Be,1,0,"mat-row",25),i()()),e&2){let n=y();r(),f("dataSource",n.dataSource.value()),r(19),f("matHeaderRowDef",n.displayedColumns),r(),f("matRowDefColumns",n.displayedColumns)}}function Ae(e,t){e&1&&c(0,"app-no-record",13)}var fe=class e{queryParams=_(pe);orderService=_(se);storeStore=_(V);query=z(this.queryParams.getAllParams$);displayedColumns=["paymentType","paymentTransactions","paymentAmount","refundTransactions","refundAmount","netAmount"];dataSource=O({params:()=>({storeId:this.storeStore.selectedStore()?._id,query:this.query()}),stream:({params:t})=>this.orderService.getSalesByPaymentType(t.storeId,t.query)});paginator;pageSize=10;pageSizeOptions=[5,10,25,50];exportService=_(ue);exportData(t){if(!this.dataSource.value())return;let n=this.dataSource.value()||[],m="payment-report";switch(t){case"pdf":this.exportService.exportPaymentDataToPdf(n,m,{from:this.query().start,to:this.query().end});break;case"csv":this.exportService.exportToCSV(n,m);break;case"excel":this.exportService.exportToExcel(n,m);break}}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=T({type:e,selectors:[["app-sales-by-payment"]],viewQuery:function(n,m){if(n&1&&w(le,5),n&2){let l;b(l=D())&&(m.paginator=l.first)}},decls:34,vars:2,consts:[["exportMenu","matMenu"],[1,"p-4","bg-gray-50","min-h-screen"],[1,"bg-white","p-4","rounded-lg","shadow-sm","mb-6"],[1,"flex","flex-col","sm:flex-row","justify-between","items-center","gap-4"],[1,"flex","gap-4"],[1,"bg-white","rounded-lg","shadow-sm"],[1,"p-6","flex","justify-between","items-center","border-b"],[1,"text-lg","font-medium"],["mat-flat-button","","color","primary",3,"matMenuTriggerFor"],[1,"mr-2"],["mat-menu-item","",3,"click"],[1,"flex","items-center","justify-center","min-h-[300px]"],[1,"p-6"],["icon","inventory_2","title","No Employee Data Found","message","There are no employee sales data to display for the selected period."],["diameter","40"],[1,"w-full","!bg-white",3,"dataSource"],["matColumnDef","paymentType"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","paymentTransactions"],["matColumnDef","paymentAmount"],["matColumnDef","refundTransactions"],["matColumnDef","refundAmount"],["matColumnDef","netAmount"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"]],template:function(n,m){if(n&1){let l=g();a(0,"div",1)(1,"div",2)(2,"div",3),c(3,"date-range-selector"),a(4,"div",4),c(5,"app-employee-selector"),i()()(),a(6,"div",5)(7,"div",6)(8,"h2",7),o(9,"Sales by Payment Type"),i(),a(10,"button",8)(11,"mat-icon",9),o(12,"file_download"),i(),o(13," Export Data "),i(),a(14,"mat-menu",null,0)(16,"button",10),x("click",function(){return S(l),C(m.exportData("pdf"))}),a(17,"mat-icon"),o(18,"picture_as_pdf"),i(),a(19,"span"),o(20,"Export as PDF"),i()(),a(21,"button",10),x("click",function(){return S(l),C(m.exportData("csv"))}),a(22,"mat-icon"),o(23,"description"),i(),a(24,"span"),o(25,"Export as CSV"),i()(),a(26,"button",10),x("click",function(){return S(l),C(m.exportData("excel"))}),a(27,"mat-icon"),o(28,"table_chart"),i(),a(29,"span"),o(30,"Export as Excel"),i()()()(),P(31,ye,2,0,"div",11)(32,Re,22,3,"div",12)(33,Ae,1,0,"app-no-record",13),i()()}if(n&2){let l=B(15);r(10),f("matMenuTriggerFor",l),r(21),E(m.dataSource.isLoading()?31:m.dataSource.hasValue()?32:33)}},dependencies:[A,oe,U,X,te,Y,W,ne,Z,ee,ae,ie,re,k,I,N,$,me,F,H,q,_e,de,j,Q,ce,K,G,L,J,R],encapsulation:2})};export{fe as SalesByPaymentComponent};
