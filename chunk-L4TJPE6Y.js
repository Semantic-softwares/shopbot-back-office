import{a as A}from"./chunk-JEAWRT3X.js";import{c as I,d as _,e as G,f as T,g as V,h as Y}from"./chunk-LLLAI5OH.js";import{b as $}from"./chunk-46P5YEBT.js";import{b as O}from"./chunk-GYNGZAKB.js";import{a as q,b as P,e as x,h as N}from"./chunk-YLKT6R4Z.js";import{D as b,E as k,b as v,g as y,h as C,i as R,k as u,s as F,t as E,z as w}from"./chunk-2UT4NYMV.js";import{r as S}from"./chunk-FORATDN3.js";import{Eb as D,Fb as h,Kb as s,Lb as m,Mb as o,Nb as p,Za as l,ca as c,ic as M,mb as f,nc as d,ta as g}from"./chunk-53XJD7JZ.js";function B(i,n){i&1&&(m(0,"mat-error"),d(1," Both dates are required "),o())}var j=class i{queryParamsService=c(A);maxDate=g(new Date);today=new Date;firstDayOfMonth=new Date(this.today.getFullYear(),this.today.getMonth(),1);lastDayOfMonth=new Date(this.today.getFullYear(),this.today.getMonth()+1,0);params=this.queryParamsService.getAllParamsSnapshot;dateRange=new R({start:new u(null),end:new u(null)});ngOnInit(){this.dateRange.valueChanges.subscribe(n=>{let e=t=>t?`${t.getFullYear()}-${(t.getMonth()+1).toString().padStart(2,"0")}-${t.getDate().toString().padStart(2,"0")}`:null,a=e(n.start),r=e(n.end);this.queryParamsService.add({start:a,end:r})}),setTimeout(()=>{this.dateRange.patchValue({start:this.params.start?new Date(this.params.start):this.firstDayOfMonth,end:this.params.end?new Date(this.params.end):this.lastDayOfMonth},{emitEvent:!0})},100)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=f({type:i,selectors:[["date-range-selector"]],decls:10,vars:5,consts:[["picker",""],["appearance","outline",1,"w-full"],[3,"formGroup","max","rangePicker"],["matStartDate","","formControlName","start","placeholder","Start date","required",""],["matEndDate","","formControlName","end","placeholder","End date","required",""],["matIconSuffix","",3,"for"]],template:function(e,a){if(e&1&&(m(0,"mat-form-field",1)(1,"mat-label"),d(2,"Date Range"),o(),m(3,"mat-date-range-input",2),p(4,"input",3)(5,"input",4),o(),p(6,"mat-datepicker-toggle",5)(7,"mat-date-range-picker",null,0),D(9,B,2,0,"mat-error"),o()),e&2){let r,t=M(8);l(3),s("formGroup",a.dateRange)("max",a.maxDate())("rangePicker",t),l(3),s("for",t),l(3),h((r=a.dateRange.get("start"))!=null&&r.hasError("required")||(r=a.dateRange.get("end"))!=null&&r.hasError("required")?9:-1)}},dependencies:[S,O,N,q,P,x,$,Y,I,_,G,T,V,k,v,y,C,w,E,F,b],encapsulation:2})};export{j as a};
