import{a as Ce}from"./chunk-LQU32KS7.js";import{b as fe,f as ge}from"./chunk-4L4VWXIM.js";import{a as ye}from"./chunk-YZQZHEMG.js";import"./chunk-LCNY3JPX.js";import{b as pe,c as xe,g as ue}from"./chunk-GE7CTSB3.js";import{a as _e,b as ve}from"./chunk-E4PTFC5Z.js";import{a as ae,b as re,c as le,d as me}from"./chunk-4P4GBQE7.js";import{i as Z}from"./chunk-ZKQYDJ5W.js";import{d as se}from"./chunk-HJGFVW6K.js";import"./chunk-G4CZ6LK2.js";import"./chunk-I564X6SI.js";import"./chunk-VTDH2LYT.js";import"./chunk-YJCGHVXK.js";import"./chunk-UHBDKNKX.js";import{a as de,b as ce}from"./chunk-3ZLH5HUN.js";import"./chunk-O5GCTPYR.js";import"./chunk-EGLRIU4H.js";import{a as Y}from"./chunk-5TL46KBL.js";import"./chunk-53AK2UWQ.js";import"./chunk-BFT2MTJY.js";import{a as X,b as ee,c as te,f as ie,g as ne,h as oe}from"./chunk-JONI64R4.js";import"./chunk-H7INH462.js";import"./chunk-OOL2KACG.js";import"./chunk-KZJMNFJ3.js";import{b as J,c as Q}from"./chunk-G6I3OKXX.js";import{_ as K,ba as q}from"./chunk-4Z2XUZY2.js";import{e as z,g as W,l as G}from"./chunk-F436VINI.js";import{g as j,n as U,u as H}from"./chunk-H22US2IH.js";import{Ac as P,Bc as O,Cc as x,Ib as s,Ic as D,Jb as p,Lb as F,Mb as E,Mc as M,Nb as h,Ob as C,Oc as I,Pb as t,Qb as e,Rb as R,Vb as N,W as S,Wb as V,Wc as f,Yb as T,ac as v,bb as l,cc as m,f as k,fa as g,ka as u,la as _,m as w,mc as $,oc as L,qb as B,rc as i,sc as c,tc as y,wa as A}from"./chunk-P5WOETP4.js";import"./chunk-GAL4ENT6.js";var be=(o,a)=>({"bg-green-100! text-green-800!":o,"bg-red-100! text-red-800!":a}),Se=(o,a)=>a.name;function Ee(o,a){if(o&1){let n=T();t(0,"button",6),v("click",function(){u(n);let d=m();return _(d.onEdit())}),t(1,"mat-icon"),i(2,"edit"),e(),i(3," Edit Room Type "),e(),t(4,"button",7)(5,"mat-icon"),i(6,"more_vert"),e(),i(7," Actions "),e(),t(8,"mat-menu",null,0)(10,"button",8),v("click",function(){u(n);let d=m();return _(d.onEdit())}),t(11,"mat-icon"),i(12,"edit"),e(),t(13,"span"),i(14,"Edit Room Type"),e()(),t(15,"button",8),v("click",function(){u(n);let d=m();return _(d.onToggleActive())}),t(16,"mat-icon"),i(17),e(),t(18,"span"),i(19),e()(),R(20,"mat-divider"),t(21,"button",9),v("click",function(){u(n);let d=m();return _(d.onDelete())}),t(22,"mat-icon",10),i(23,"delete"),e(),t(24,"span"),i(25,"Delete Room Type"),e()()()}if(o&2){let n=$(9),r=m();l(4),C("matMenuTriggerFor",n),l(13),c(r.roomType().active?"toggle_off":"toggle_on"),l(2),c(r.roomType().active?"Deactivate":"Activate")}}function he(o,a){o&1&&(t(0,"div",3),R(1,"mat-spinner",11),e())}function Re(o,a){if(o&1){let n=T();t(0,"mat-card",4)(1,"mat-card-content",12)(2,"div",13)(3,"mat-icon",14),i(4,"error"),e()(),t(5,"h3",15),i(6,"Failed to Load Room Type"),e(),t(7,"p",16),i(8),e(),t(9,"button",17),v("click",function(){u(n);let d=m();return _(d.loadRoomTypeDetails())}),t(10,"mat-icon"),i(11,"refresh"),e(),i(12," Try Again "),e()()()}if(o&2){let n=m();l(8),c(n.error())}}function De(o,a){if(o&1&&(t(0,"div",27)(1,"mat-icon",28),i(2,"fullscreen"),e(),t(3,"span"),i(4),e()()),o&2){m();let n=x(0);l(4),y("",n.size," sq ft")}}function Me(o,a){if(o&1&&(t(0,"div",27)(1,"mat-icon",28),i(2,"bed"),e(),t(3,"span"),i(4),e()()),o&2){m();let n=x(0);l(4),c(n.bedConfiguration)}}function Ie(o,a){if(o&1&&(t(0,"div")(1,"label",45),i(2,"Description"),e(),t(3,"p",65),i(4),e()()),o&2){m();let n=x(0);l(4),c(n.description)}}function ke(o,a){if(o&1&&(t(0,"div")(1,"label",45),i(2,"Room Size"),e(),t(3,"p",66),i(4),e()()),o&2){m();let n=x(0);l(4),y("",n.size," sq ft")}}function we(o,a){if(o&1&&(t(0,"div")(1,"label",45),i(2,"Bed Configuration"),e(),t(3,"p",66),i(4),e()()),o&2){m();let n=x(0);l(4),c(n.bedConfiguration)}}function Ae(o,a){if(o&1&&(t(0,"div")(1,"label",45),i(2,"Sort Order"),e(),t(3,"p",66),i(4),e()()),o&2){m();let n=x(0);l(4),c(n.sortOrder)}}function Be(o,a){if(o&1&&(t(0,"div")(1,"label",45),i(2,"Maximum Occupancy"),e(),t(3,"p",46),i(4),e(),t(5,"p",49),i(6,"Including extra beds"),e()()),o&2){m();let n=x(0);l(4),y("",n.maxOccupancy," guests")}}function Fe(o,a){if(o&1&&(t(0,"div",72)(1,"div",73),i(2),e(),t(3,"div",69),i(4,"Infants"),e()()),o&2){m(2);let n=x(0);l(2),c(n.capacity.infants||0)}}function Ne(o,a){if(o&1&&(t(0,"div",50)(1,"div",67)(2,"div",68),i(3),e(),t(4,"div",69),i(5,"Adults"),e()(),t(6,"div",70)(7,"div",71),i(8),e(),t(9,"div",69),i(10,"Children"),e()(),s(11,Fe,5,1,"div",72),e()),o&2){m();let n=x(0);l(3),c(n.capacity.adults||0),l(5),c(n.capacity.children||0),l(3),p(n.capacity.infants!==void 0?11:-1)}}function Ve(o,a){if(o&1&&(t(0,"div")(1,"label",45),i(2,"Created"),e(),t(3,"p",74),i(4),M(5,"date"),e()()),o&2){m();let n=x(0);l(4),c(I(5,1,n.createdAt,"medium"))}}function $e(o,a){if(o&1&&(t(0,"div")(1,"label",45),i(2,"Last Updated"),e(),t(3,"p",74),i(4),M(5,"date"),e()()),o&2){m();let n=x(0);l(4),c(I(5,1,n.updatedAt,"medium"))}}function Le(o,a){if(o&1&&(t(0,"div",75)(1,"mat-icon",76),i(2),e(),t(3,"span",77),i(4),e()()),o&2){let n=a.$implicit;l(2),c(n.icon),l(2),c(n.name)}}function Pe(o,a){if(o&1&&(t(0,"div",57),E(1,Le,5,2,"div",75,Se),e()),o&2){let n=m(2);l(),h(n.roomFeatures())}}function Oe(o,a){o&1&&(t(0,"div",58)(1,"mat-icon",78),i(2,"star_outline"),e(),t(3,"p"),i(4,"No specific features configured"),e()())}function je(o,a){if(o&1&&(t(0,"mat-chip",79),i(1),e()),o&2){let n=a.$implicit;l(),y(" ",n," ")}}function Ue(o,a){if(o&1&&(t(0,"div",60),E(1,je,2,1,"mat-chip",79,F),e()),o&2){m();let n=x(0);l(),h(n.amenities)}}function He(o,a){o&1&&(t(0,"div",58)(1,"mat-icon",78),i(2,"local_offer"),e(),t(3,"p"),i(4,"No amenities configured"),e()())}function ze(o,a){if(o&1){let n=T();P(0),t(1,"div",5)(2,"mat-card",18)(3,"mat-card-content",19)(4,"div",20)(5,"div",21)(6,"div",22)(7,"div",23)(8,"mat-icon",24),i(9,"hotel_class"),e()()(),t(10,"div")(11,"h2",25),i(12),e(),t(13,"div",26)(14,"div",27)(15,"mat-icon",28),i(16,"people"),e(),t(17,"span"),i(18),e()(),s(19,De,5,1,"div",27),s(20,Me,5,1,"div",27),e(),t(21,"mat-chip",29),i(22),e()()(),t(23,"div",30)(24,"mat-card",31)(25,"mat-card-content",32)(26,"div",33),i(27),e(),t(28,"div",34),i(29,"Price/Night"),e()()(),t(30,"mat-card",35)(31,"mat-card-content",32)(32,"div",36),i(33),e(),t(34,"div",37),i(35,"Max Guests"),e()()()()()()(),t(36,"mat-card",38)(37,"mat-tab-group",39)(38,"mat-tab",40)(39,"div",41)(40,"div",42)(41,"mat-card",38)(42,"mat-card-header")(43,"mat-icon",43),i(44,"info"),e(),t(45,"mat-card-title"),i(46,"Basic Details"),e()(),t(47,"mat-card-content",44)(48,"div")(49,"label",45),i(50,"Room Type Name"),e(),t(51,"p",46),i(52),e()(),s(53,Ie,5,1,"div"),t(54,"div",30)(55,"div")(56,"label",45),i(57,"Base Price"),e(),t(58,"p",47),i(59),e()(),s(60,ke,5,1,"div"),e(),s(61,we,5,1,"div"),s(62,Ae,5,1,"div"),e()(),t(63,"mat-card",38)(64,"mat-card-header")(65,"mat-icon",48),i(66,"people"),e(),t(67,"mat-card-title"),i(68,"Capacity & Occupancy"),e()(),t(69,"mat-card-content",44)(70,"div",30)(71,"div")(72,"label",45),i(73,"Base Capacity"),e(),t(74,"p",46),i(75),e(),t(76,"p",49),i(77),e()(),s(78,Be,7,1,"div"),e(),s(79,Ne,12,3,"div",50),e()()(),t(80,"mat-card",38)(81,"mat-card-header")(82,"mat-icon",51),i(83,"assignment_turned_in"),e(),t(84,"mat-card-title"),i(85,"Status & Metadata"),e()(),t(86,"mat-card-content",19)(87,"div",52)(88,"div")(89,"label",53),i(90,"Status"),e(),t(91,"mat-chip",29),i(92),e()(),t(93,"div")(94,"label",45),i(95,"Room Type ID"),e(),t(96,"p",54),i(97),e()(),s(98,Ve,6,4,"div"),s(99,$e,6,4,"div"),e()()()()(),t(100,"mat-tab",55)(101,"div",41)(102,"mat-card",38)(103,"mat-card-header")(104,"mat-icon",56),i(105,"star"),e(),t(106,"mat-card-title"),i(107,"Room Features"),e()(),t(108,"mat-card-content",19),s(109,Pe,3,0,"div",57)(110,Oe,5,0,"div",58),e()(),t(111,"mat-card",38)(112,"mat-card-header")(113,"mat-icon",59),i(114,"room_service"),e(),t(115,"mat-card-title"),i(116,"Amenities"),e()(),t(117,"mat-card-content",19),s(118,Ue,3,0,"div",60)(119,He,5,0,"div",58),e()()()(),t(120,"mat-tab",61)(121,"div",41)(122,"mat-card",38)(123,"mat-card-header")(124,"mat-icon",43),i(125,"settings"),e(),t(126,"mat-card-title"),i(127,"Room Type Actions"),e()(),t(128,"mat-card-content",19)(129,"div",62)(130,"button",63),v("click",function(){u(n);let d=m();return _(d.onEdit())}),t(131,"mat-icon"),i(132,"edit"),e(),i(133," Edit Room Type "),e(),t(134,"button",6),v("click",function(){u(n);let d=m();return _(d.onToggleActive())}),t(135,"mat-icon"),i(136),e(),i(137),e(),t(138,"button",17),v("click",function(){u(n);let d=m();return _(d.onDelete())}),t(139,"mat-icon"),i(140,"delete"),e(),i(141," Delete Room Type "),e()()()(),t(142,"mat-card",38)(143,"mat-card-header")(144,"mat-icon",64),i(145,"arrow_back"),e(),t(146,"mat-card-title"),i(147,"Navigation"),e()(),t(148,"mat-card-content",19)(149,"button",6),v("click",function(){u(n);let d=m();return _(d.onBack())}),t(150,"mat-icon"),i(151,"arrow_back"),e(),i(152," Back to Room Types "),e()()()()()()()()}if(o&2){let n=m(),r=O(n.roomType());l(12),c(r.name),l(6),c(n.getCapacityText()),l(),p(r.size?19:-1),l(),p(r.bedConfiguration?20:-1),l(),C("ngClass",D(32,be,r.active,!r.active)),l(),y(" ",r.active?"Active":"Inactive"," "),l(5),c(n.formatPrice(r.basePrice)),l(6),c(n.totalCapacity()),l(19),c(r.name),l(),p(r.description?53:-1),l(6),y("",n.formatPrice(r.basePrice),"/night"),l(),p(r.size?60:-1),l(),p(r.bedConfiguration?61:-1),l(),p(r.sortOrder!==void 0?62:-1),l(13),c(n.getCapacityText()),l(2),y("Total: ",n.totalCapacity()," guests"),l(),p(r.maxOccupancy?78:-1),l(),p(r.capacity?79:-1),l(12),C("ngClass",D(35,be,r.active,!r.active)),l(),y(" ",r.active?"Active":"Inactive"," "),l(5),c(r._id||r.id),l(),p(r.createdAt?98:-1),l(),p(r.updatedAt?99:-1),l(10),p(n.roomFeatures().length>0?109:110),l(9),p(r.amenities&&r.amenities.length>0?118:119),l(16),L("text-green-600!",!r.active)("text-red-600!",r.active),l(2),c(r.active?"toggle_off":"toggle_on"),l(),y(" ",r.active?"Deactivate":"Activate"," ")}}var Te=class o{route=g(z);router=g(W);roomsService=g(Ce);snackBar=g(Y);storeStore=g(Z);destroy$=new k;roomTypeId=A(this.route.snapshot.paramMap.get("id"));roomTypeResource=se({params:()=>({roomTypeId:this.roomTypeId()}),stream:({params:a})=>a.roomTypeId?this.roomsService.getRoomType(a.roomTypeId):w(null)});roomType=f(()=>this.roomTypeResource.value()??null);loading=f(()=>this.roomTypeResource.isLoading());error=f(()=>this.roomTypeResource.error()?"Failed to load room type details":null);storeCurrency=f(()=>this.storeStore.selectedStore()?.currency||this.storeStore.selectedStore()?.currencyCode||"USD");currencySymbolToCode={"\u20A6":"NGN",$:"USD","\u20AC":"EUR","\xA3":"GBP","\xA5":"JPY","\u20B9":"INR","\u20BD":"RUB","\u20A9":"KRW","\u20B1":"PHP","\u0E3F":"THB",R$:"BRL",R:"ZAR",RM:"MYR",kr:"SEK",Fr:"CHF"};totalCapacity=f(()=>{let a=this.roomType();return a?.capacity?(a.capacity.adults||0)+(a.capacity.children||0):0});roomFeatures=f(()=>{let a=this.roomType();if(!a?.features)return[];let n=[],r={hasPrivateBathroom:{label:"Private Bathroom",icon:"bathroom"},hasAirConditioning:{label:"Air Conditioning",icon:"ac_unit"},hasWifi:{label:"WiFi",icon:"wifi"},hasTv:{label:"Television",icon:"tv"},hasRefrigerator:{label:"Refrigerator",icon:"kitchen"},hasBalcony:{label:"Balcony",icon:"balcony"},hasKitchenette:{label:"Kitchenette",icon:"countertops"},hasWorkDesk:{label:"Work Desk",icon:"desk"},hasSafe:{label:"Safe",icon:"lock"},hasHairdryer:{label:"Hair Dryer",icon:"dry"},hasIroning:{label:"Iron & Board",icon:"iron"},hasSeatingArea:{label:"Seating Area",icon:"weekend"}};for(let[d,b]of Object.entries(r))a.features[d]&&n.push({name:b.label,icon:b.icon});return n});ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadRoomTypeDetails(){this.roomTypeResource.reload()}onBack(){this.router.navigate(["../"],{relativeTo:this.route})}onEdit(){let a=this.roomTypeId();a&&this.router.navigate(["../",a,"edit"],{relativeTo:this.route})}onDelete(){let a=this.roomType();if(!a)return;let n=a._id||a.id;n&&confirm(`Are you sure you want to delete "${a.name}"? This action cannot be undone.`)&&this.roomsService.deleteRoomType(n).pipe(S(this.destroy$)).subscribe({next:()=>{this.snackBar.open("Room type deleted successfully","Close",{duration:3e3}),this.router.navigate(["../../room-types"],{relativeTo:this.route})},error:r=>{console.error("Error deleting room type:",r),this.snackBar.open("Failed to delete room type","Close",{duration:3e3})}})}onToggleActive(){let a=this.roomType();if(!a)return;let n=a._id||a.id;if(!n)return;let r=!a.active,d=r?"activate":"deactivate";this.roomsService.updateRoomType(n,{active:r}).pipe(S(this.destroy$)).subscribe({next:()=>{this.snackBar.open(`Room type ${d}d successfully`,"Close",{duration:3e3}),this.roomTypeResource.reload()},error:b=>{console.error(`Error ${d}ing room type:`,b),this.snackBar.open(`Failed to ${d} room type`,"Close",{duration:3e3})}})}formatPrice(a){let n=this.storeCurrency();if(this.currencySymbolToCode[n]&&(n=this.currencySymbolToCode[n]),!/^[A-Z]{3}$/.test(n)){let d=new Intl.NumberFormat("en-US",{minimumFractionDigits:0,maximumFractionDigits:2}).format(a);return`${this.storeCurrency()}${d}`}return new Intl.NumberFormat("en-US",{style:"currency",currency:n,minimumFractionDigits:0,maximumFractionDigits:2}).format(a)}getCapacityText(){let a=this.roomType();if(!a?.capacity)return"Not specified";let n=[];return a.capacity.adults&&n.push(`${a.capacity.adults} Adult${a.capacity.adults>1?"s":""}`),a.capacity.children&&n.push(`${a.capacity.children} Child${a.capacity.children>1?"ren":""}`),n.join(", ")||"Not specified"}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=B({type:o,selectors:[["app-room-type-details"]],decls:6,vars:6,consts:[["actionsMenu","matMenu"],[3,"title","subtitle"],["actions",""],[1,"flex","justify-center","items-center","py-16"],["appearance","outlined",1,"m-6","bg-red-50!"],[1,"p-6"],["mat-stroked-button","",3,"click"],["mat-stroked-button","",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],["mat-menu-item","",1,"text-red-600!",3,"click"],[1,"text-red-600!"],["diameter","40"],[1,"p-6!","text-center"],[1,"w-16","h-16","bg-red-200","rounded-full","flex","items-center","justify-center","mx-auto","mb-4"],[1,"text-4xl","text-red-500"],[1,"text-lg","font-semibold","text-red-900","mb-2"],[1,"text-red-700","mb-4"],["mat-flat-button","","color","warn",3,"click"],["appearance","outlined",1,"mb-6"],[1,"p-6!"],[1,"flex","items-start","justify-between","flex-wrap","gap-6"],[1,"flex","items-center","gap-6"],[1,"flex-shrink-0"],[1,"h-20","w-20","rounded-full","bg-purple-600","flex","items-center","justify-center","text-white","shadow-lg"],[1,"text-4xl!"],[1,"text-2xl","font-bold","text-gray-900","mb-2"],[1,"flex","items-center","gap-4","text-sm","text-gray-600","mb-3"],[1,"flex","items-center","gap-1"],[1,"text-lg"],[3,"ngClass"],[1,"grid","grid-cols-2","gap-4"],["appearance","outlined",1,"bg-green-50!"],[1,"p-4!","text-center"],[1,"text-2xl","font-bold","text-green-600"],[1,"text-sm","text-green-700"],["appearance","outlined",1,"bg-blue-50!"],[1,"text-2xl","font-bold","text-blue-600"],[1,"text-sm","text-blue-700"],["appearance","outlined"],["animationDuration","200ms"],["label","Room Type Information"],[1,"p-6","space-y-6"],[1,"grid","grid-cols-1","lg:grid-cols-2","gap-6"],["mat-card-avatar","",1,"text-blue-600"],[1,"p-6!","space-y-4"],[1,"text-sm","font-medium","text-gray-500"],[1,"text-lg","font-semibold","text-gray-900","mt-1"],[1,"text-lg","font-semibold","text-green-600","mt-1"],["mat-card-avatar","",1,"text-green-600"],[1,"text-sm","text-gray-500"],[1,"grid","grid-cols-3","gap-3","pt-4","border-t","border-gray-100"],["mat-card-avatar","",1,"text-amber-600"],[1,"grid","grid-cols-2","md:grid-cols-4","gap-6"],[1,"text-sm","font-medium","text-gray-500","mb-2","block"],[1,"text-sm","font-mono","text-gray-900","mt-1","bg-gray-50","px-2","py-1","rounded","border","truncate"],["label","Features & Amenities"],["mat-card-avatar","",1,"text-purple-600"],[1,"grid","grid-cols-2","md:grid-cols-4","gap-4"],[1,"text-center","py-8","text-gray-500"],["mat-card-avatar","",1,"text-indigo-600"],[1,"flex","flex-wrap","gap-2"],["label","Actions"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4"],["mat-flat-button","","color","primary",3,"click"],["mat-card-avatar","",1,"text-gray-600"],[1,"text-gray-700","mt-1"],[1,"text-gray-900","mt-1"],[1,"bg-blue-50","border","border-blue-200","rounded-lg","p-3","text-center"],[1,"text-xl","font-bold","text-blue-600"],[1,"text-xs","font-medium","text-gray-600"],[1,"bg-green-50","border","border-green-200","rounded-lg","p-3","text-center"],[1,"text-xl","font-bold","text-green-600"],[1,"bg-purple-50","border","border-purple-200","rounded-lg","p-3","text-center"],[1,"text-xl","font-bold","text-purple-600"],[1,"text-sm","text-gray-900","mt-1"],[1,"flex","items-center","gap-2","p-3","bg-gray-50","rounded-lg","border","border-gray-200"],[1,"text-lg","text-purple-600"],[1,"text-sm","font-medium","text-gray-900"],[1,"text-4xl","text-gray-300","mb-2"],[1,"bg-blue-50!","text-blue-800!","border!","border-blue-200!"]],template:function(n,r){n&1&&(t(0,"app-page-header",1),N(1,2),s(2,Ee,26,3),V(),e(),s(3,he,2,0,"div",3),s(4,Re,13,1,"mat-card",4),s(5,ze,153,38,"div",5)),n&2&&(C("title",r.roomType()?r.roomType().name:"Room Type Details")("subtitle",r.roomType()?"Room type configuration and pricing":"Loading room type information..."),l(2),p(!r.loading()&&r.roomType()?2:-1),l(),p(r.loading()?3:-1),l(),p(r.error()&&!r.loading()?4:-1),l(),p(r.roomType()&&!r.loading()&&!r.error()?5:-1))},dependencies:[H,j,G,q,K,Q,J,oe,X,ne,te,ie,ee,ge,fe,ce,de,me,re,ae,le,ve,_e,ue,pe,xe,ye,U],encapsulation:2})};export{Te as RoomTypeDetailsComponent};
