import{a as J,b as K}from"./chunk-KR7TMRYR.js";import{c as A,d as W}from"./chunk-IKP7S2Y7.js";import{a as k}from"./chunk-7QB7BEGO.js";import{g as I}from"./chunk-PZG5LZPC.js";import{a as j,b as q,e as G,h as z}from"./chunk-GY37C2FD.js";import{C as D,E as L,b as M,d as g,g as B,h as N,m as R,s as T,t as V}from"./chunk-2UT4NYMV.js";import"./chunk-S2P5547C.js";import{a as H,b as Q}from"./chunk-MNFAJ2ZP.js";import{a as F}from"./chunk-4HZDDISM.js";import"./chunk-56TSQ6HG.js";import"./chunk-AGG277FR.js";import"./chunk-N3VBTGB6.js";import"./chunk-4KLRET2M.js";import{Y as E,_ as P}from"./chunk-KSQJ4KAT.js";import"./chunk-RDMIWI4X.js";import"./chunk-AGZJ637K.js";import{c as _,d as C}from"./chunk-LTDPQFG4.js";import"./chunk-VYX7HJYX.js";import{r as y}from"./chunk-FORATDN3.js";import{Eb as d,Fb as u,Kb as f,Lb as t,Mb as e,Nb as p,Ub as v,Yb as w,Za as l,_b as x,ca as s,ha as b,ia as S,mb as h,nc as i,ta as c}from"./chunk-53XJD7JZ.js";import"./chunk-EQDQRRRY.js";function U(o,r){o&1&&(t(0,"mat-error"),i(1,"Email is required"),e())}function X(o,r){o&1&&(t(0,"mat-error"),i(1,"Please enter a valid email"),e())}function Y(o,r){o&1&&(t(0,"span",28),p(1,"mat-spinner",32),i(2," Sending... "),e())}function Z(o,r){o&1&&i(0," Send Reset Link ")}function $(o,r){if(o&1){let n=v();t(0,"h2",21),i(1,"Reset your password"),e(),t(2,"p",22),i(3,"Enter your email address and we'll send you a link to reset your password."),e(),t(4,"form",23),w("ngSubmit",function(){b(n);let a=x();return S(a.onSubmit())}),t(5,"mat-form-field",24)(6,"mat-label"),i(7,"Email"),e(),p(8,"input",25),t(9,"mat-icon",26),i(10,"email"),e(),d(11,U,2,0,"mat-error"),d(12,X,2,0,"mat-error"),e(),t(13,"button",27),d(14,Y,3,0,"span",28)(15,Z,1,0),e(),t(16,"div",29)(17,"a",30)(18,"mat-icon",31),i(19,"arrow_back"),e(),i(20," Back to Login "),e()()()}if(o&2){let n,m,a=x();l(4),f("formGroup",a.forgotPasswordForm),l(7),u((n=a.forgotPasswordForm.get("email"))!=null&&n.hasError("required")?11:-1),l(),u((m=a.forgotPasswordForm.get("email"))!=null&&m.hasError("email")?12:-1),l(),f("disabled",!a.forgotPasswordForm.valid||a.loading()),l(),u(a.loading()?14:15)}}function ee(o,r){o&1&&(t(0,"div",6)(1,"div",33)(2,"mat-icon",34),i(3,"check_circle"),e()(),t(4,"h2",21),i(5,"Check your email"),e(),t(6,"p",22),i(7," We've sent a password reset link to your email. Please check your inbox and follow the link to reset your password. "),e(),t(8,"a",35),i(9," Back to Login "),e()())}var O=class o{fb=s(D);authService=s(F);snackBar=s(k);router=s(_);loading=c(!1);emailSent=c(!1);forgotPasswordForm=this.fb.group({email:["",[g.required,g.email]]});onSubmit(){if(this.forgotPasswordForm.valid){this.loading.set(!0);let{email:r}=this.forgotPasswordForm.value;this.authService.resetPassword(r).subscribe({next:n=>{this.loading.set(!1),this.emailSent.set(!0),this.snackBar.open("Password reset link sent to your email. Please check your inbox.","Close",{duration:5e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["success-snackbar"]}),setTimeout(()=>{this.router.navigate(["/auth/verify-reset-token"],{queryParams:{email:r}})},2e3)},error:n=>{this.loading.set(!1),this.emailSent.set(!1),this.snackBar.open(n.error?.msg||n.message||"Failed to send reset link. Please try again.","Close",{duration:5e3,horizontalPosition:"end",verticalPosition:"top",panelClass:["error-snackbar"]})}})}}static \u0275fac=function(n){return new(n||o)};static \u0275cmp=h({type:o,selectors:[["app-forgot-password"]],decls:50,vars:1,consts:[[1,"min-h-screen","w-full","flex","flex-col","lg:flex-row"],[1,"w-full","lg:w-1/2","flex","flex-col","justify-center","px-6","py-12","lg:px-16","xl:px-24","bg-white"],[1,"mb-8"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-gray-500","mt-1"],[1,"max-w-md"],[1,"text-center","py-8"],[1,"hidden","lg:flex","lg:w-1/2","bg-gradient-to-br","from-blue-600","via-blue-700","to-indigo-800","relative","overflow-hidden"],[1,"absolute","inset-0","opacity-10"],[1,"absolute","top-0","left-0","w-96","h-96","bg-white","rounded-full","-translate-x-1/2","-translate-y-1/2"],[1,"absolute","bottom-0","right-0","w-80","h-80","bg-white","rounded-full","translate-x-1/3","translate-y-1/3"],[1,"absolute","top-1/2","left-1/2","w-64","h-64","bg-white","rounded-full","-translate-x-1/2","-translate-y-1/2"],[1,"relative","z-10","flex","flex-col","justify-center","px-12","xl:px-16","text-white"],[1,"mb-10"],[1,"text-3xl","xl:text-4xl","font-bold","leading-tight","mb-4"],[1,"text-blue-200","text-lg"],[1,"grid","grid-cols-2","gap-6"],[1,"bg-white/10","backdrop-blur-sm","rounded-xl","p-5"],["fontSet","material-icons-outlined",1,"text-blue-300","text-3xl","mb-3"],[1,"font-semibold","text-white","mb-1"],[1,"text-blue-200","text-sm"],[1,"text-2xl","font-semibold","text-gray-800","mb-2"],[1,"text-gray-500","mb-8"],[1,"flex","flex-col","gap-4",3,"ngSubmit","formGroup"],["appearance","outline",1,"w-full"],["matInput","","formControlName","email","placeholder","you@example.com","type","email"],["matSuffix","","fontSet","material-icons-outlined"],["mat-flat-button","","color","primary","type","submit",1,"w-full","h-12","text-base",3,"disabled"],[1,"flex","items-center","justify-center","gap-2"],[1,"text-center","mt-6"],["routerLink","/auth/login",1,"text-sm","font-medium","text-blue-600","hover:text-blue-800"],[1,"text-sm","align-middle","mr-1"],["diameter","20"],[1,"w-16","h-16","bg-green-100","rounded-full","flex","items-center","justify-center","mx-auto","mb-6"],[1,"text-green-600","text-3xl"],["routerLink","/auth/login","mat-flat-button","","color","primary",1,"w-full","h-12"]],template:function(n,m){n&1&&(t(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),i(4,"ShopBot"),e(),t(5,"p",4),i(6,"Password Recovery"),e()(),t(7,"div",5),d(8,$,21,5)(9,ee,10,0,"div",6),e()(),t(10,"div",7)(11,"div",8),p(12,"div",9)(13,"div",10)(14,"div",11),e(),t(15,"div",12)(16,"div",13)(17,"h2",14),i(18," Secure account recovery "),e(),t(19,"p",15),i(20," We take your security seriously. Reset your password safely and securely. "),e()(),t(21,"div",16)(22,"div",17)(23,"mat-icon",18),i(24,"security"),e(),t(25,"h4",19),i(26,"Secure Reset"),e(),t(27,"p",20),i(28,"Encrypted password recovery process"),e()(),t(29,"div",17)(30,"mat-icon",18),i(31,"mail"),e(),t(32,"h4",19),i(33,"Email Verification"),e(),t(34,"p",20),i(35,"Verified link sent to your inbox"),e()(),t(36,"div",17)(37,"mat-icon",18),i(38,"timer"),e(),t(39,"h4",19),i(40,"Quick Process"),e(),t(41,"p",20),i(42,"Reset your password in minutes"),e()(),t(43,"div",17)(44,"mat-icon",18),i(45,"support_agent"),e(),t(46,"h4",19),i(47,"24/7 Support"),e(),t(48,"p",20),i(49,"Help available when you need it"),e()()()()()()),n&2&&(l(8),u(m.emailSent()?9:8))},dependencies:[y,I,P,E,W,A,z,j,q,G,L,R,M,B,N,V,T,Q,H,K,J,C],encapsulation:2})};export{O as ForgotPasswordComponent};
