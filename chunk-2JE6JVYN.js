import{a as U}from"./chunk-ITEY5KLI.js";import{b as J,f as K}from"./chunk-CU623SSI.js";import{a as Q}from"./chunk-42HNZPKU.js";import{a as q}from"./chunk-7FSETBMW.js";import{f as L}from"./chunk-Y6EIGA75.js";import"./chunk-HJ3KAQ7K.js";import"./chunk-TIVXUJ22.js";import"./chunk-WAHSRZAW.js";import"./chunk-G3VZM262.js";import"./chunk-BCE7WRWQ.js";import{a as G,b as H}from"./chunk-6I3AJKA7.js";import"./chunk-W7NMJLMQ.js";import"./chunk-F5SZ3AU3.js";import{a as R}from"./chunk-4UBDYPTG.js";import"./chunk-BFT2MTJY.js";import{a as z,b as F,c as V,f as j,h as $}from"./chunk-3E3PJ7Q7.js";import"./chunk-FO4KTVQ3.js";import"./chunk-TRZH7NMW.js";import"./chunk-GXTELBJV.js";import{b as A,c as O}from"./chunk-JPRPNQOM.js";import{_ as B,ba as N}from"./chunk-3LDCGXHW.js";import{e as w,g as I}from"./chunk-ZLVQTB5B.js";import{s as P}from"./chunk-6PFJHDFS.js";import{Ib as m,Jb as c,Mb as h,Nb as y,Ob as S,Pb as e,Qb as t,Rb as D,Vb as k,Wb as M,Yb as T,ac as g,bb as r,cc as u,fa as x,ka as v,la as b,qb as E,qc as f,rc as i,sc as p,tc as C,wa as _}from"./chunk-J2AK4FW5.js";import"./chunk-GAL4ENT6.js";var X=(a,o)=>o.id;function Y(a,o){a&1&&(e(0,"div",6),D(1,"mat-spinner",9),t())}function Z(a,o){if(a&1){let n=T();e(0,"div",7)(1,"div",10)(2,"mat-icon",11),i(3,"error"),t(),e(4,"div")(5,"h3",12),i(6,"Error loading station"),t(),e(7,"p",13),i(8),t(),e(9,"button",14),g("click",function(){v(n);let s=u();return b(s.goBack())}),i(10," Go Back "),t()()()()}if(a&2){let n=u();r(8),p(n.error())}}function tt(a,o){if(a&1&&(e(0,"div",20)(1,"label",18),i(2,"Description"),t(),e(3,"p",28),i(4),t()()),a&2){let n=u(2);r(4),p(n.station().description)}}function et(a,o){a&1&&(e(0,"span",21),i(1," Active "),t())}function it(a,o){a&1&&(e(0,"span",22),i(1," Inactive "),t())}function nt(a,o){a&1&&(e(0,"mat-icon",29),i(1,"check_circle"),t(),e(2,"span",30),i(3,"Enabled"),t())}function at(a,o){a&1&&(e(0,"mat-icon",31),i(1,"cancel"),t(),e(2,"span",28),i(3,"Disabled"),t())}function ot(a,o){a&1&&(e(0,"span",38),i(1," Enabled "),t())}function rt(a,o){a&1&&(e(0,"span",39),i(1," Disabled "),t())}function lt(a,o){if(a&1&&(e(0,"div",32)(1,"div",33)(2,"div",34)(3,"div",35)(4,"mat-icon",36),i(5," print "),t(),e(6,"h4",37),i(7),t(),m(8,ot,2,0,"span",38)(9,rt,2,0,"span",39),t(),e(10,"div",40)(11,"div")(12,"span",28),i(13,"IP Address:"),t(),e(14,"span",41),i(15),t()(),e(16,"div")(17,"span",28),i(18,"Port:"),t(),e(19,"span",41),i(20),t()(),e(21,"div")(22,"span",28),i(23,"Status:"),t(),e(24,"span",42),i(25),t()()()()()()),a&2){let n=o.$implicit,l=u(3);r(4),f(l.getPrinterStatusClass(n.status||"unknown")),r(3),p(n.name),r(),c(n.enabled?8:9),r(7),p(n.ipAddress),r(5),p(n.port),r(4),f(l.getPrinterStatusClass(n.status||"unknown")),r(),C(" ",n.status||"unknown"," ")}}function dt(a,o){if(a&1&&(e(0,"div",26),h(1,lt,26,9,"div",32,X),t()),a&2){let n=u(2);r(),y(n.station().printers)}}function st(a,o){a&1&&(e(0,"div",27)(1,"mat-icon",43),i(2,"print_disabled"),t(),e(3,"p"),i(4,"No printers configured for this station"),t()())}function mt(a,o){if(a&1&&(e(0,"div",8)(1,"mat-card",15)(2,"mat-card-header")(3,"mat-card-title"),i(4,"Basic Information"),t()(),e(5,"mat-card-content",16)(6,"div",17)(7,"div")(8,"label",18),i(9,"Station Name"),t(),e(10,"p",19),i(11),t()(),e(12,"div")(13,"label",18),i(14,"Type"),t(),e(15,"mat-chip"),i(16),t()(),m(17,tt,5,1,"div",20),e(18,"div")(19,"label",18),i(20,"Status"),t(),m(21,et,2,0,"span",21)(22,it,2,0,"span",22),t()()()(),e(23,"mat-card",15)(24,"mat-card-header")(25,"mat-card-title"),i(26,"Print Settings"),t()(),e(27,"mat-card-content",16)(28,"div",23)(29,"div")(30,"label",18),i(31,"Auto Print"),t(),e(32,"div",24),m(33,nt,4,0)(34,at,4,0),t()(),e(35,"div")(36,"label",18),i(37,"Paper Size"),t(),e(38,"p",25),i(39),t()(),e(40,"div")(41,"label",18),i(42,"Copies Per Order"),t(),e(43,"p",25),i(44),t()()()()(),e(45,"mat-card",15)(46,"mat-card-header")(47,"mat-card-title"),i(48,"Printers"),t()(),e(49,"mat-card-content",16),m(50,dt,3,0,"div",26)(51,st,5,0,"div",27),t()()()),a&2){let n,l,s,d=u();r(11),p(d.station().name),r(4),f(d.getStationTypeClass(d.station().type)),r(),C(" ",d.getStationTypeLabel(d.station().type)," "),r(),c(d.station().description?17:-1),r(4),c(d.station().active?21:22),r(12),c((n=d.station().settings)!=null&&n.autoPrint?33:34),r(6),p(((l=d.station().settings)==null?null:l.paperSize)||"80mm"),r(5),p(((s=d.station().settings)==null?null:s.copiesPerOrder)||1),r(6),c(d.station().printers&&d.station().printers.length>0?50:51)}}var W=class a{route=x(w);router=x(I);stationsService=x(U);dialog=x(L);snackBar=x(R);station=_(null);loading=_(!0);error=_(null);ngOnInit(){let o=this.route.snapshot.paramMap.get("id");o&&this.loadStation(o)}loadStation(o){this.loading.set(!0),this.error.set(null),this.stationsService.getStation(o).subscribe({next:n=>{this.station.set(n),this.loading.set(!1)},error:n=>{this.error.set("Failed to load station details"),this.loading.set(!1)}})}editStation(){this.router.navigate(["../../edit",this.station()?._id],{relativeTo:this.route})}deleteStation(){this.dialog.open(Q,{width:"400px",data:{title:"Delete Station",message:`Are you sure you want to delete "${this.station()?.name}"? This action cannot be undone.`}}).afterClosed().subscribe(n=>{n&&this.station()&&this.stationsService.deleteStation(this.station()._id).subscribe({next:()=>{this.snackBar.open("Station deleted successfully","Close",{duration:3e3,horizontalPosition:"end",verticalPosition:"top"}),this.router.navigate(["../list"],{relativeTo:this.route})},error:l=>{this.snackBar.open("Error deleting station","Close",{duration:3e3,horizontalPosition:"end",verticalPosition:"top"})}})})}goBack(){this.router.navigate(["../list"],{relativeTo:this.route})}getStationTypeLabel(o){return{preparation:"Preparation",bar:"Bar",pastry:"Pastry",grill:"Grill",other:"Other"}[o]||o}getStationTypeClass(o){let n={preparation:"bg-blue-100 text-blue-800",bar:"bg-purple-100 text-purple-800",pastry:"bg-pink-100 text-pink-800",grill:"bg-orange-100 text-orange-800",other:"bg-gray-100 text-gray-800"};return n[o]||n.other}getPrinterStatusClass(o){let n={online:"text-green-600",offline:"text-gray-400",error:"text-red-600",unknown:"text-gray-400"};return n[o]||n.unknown}static \u0275fac=function(n){return new(n||a)};static \u0275cmp=E({type:a,selectors:[["app-station-details"]],decls:17,vars:8,consts:[[3,"title","subtitle","showViewToggle"],["actions",""],["matButton","outlined",3,"click"],[1,"mr-1"],["matButton","outlined",3,"click","disabled"],["matButton","outlined","color","warn",3,"click","disabled"],[1,"flex","items-center","justify-center","py-20"],[1,"bg-red-50","border","border-red-200","rounded-lg","p-4","m-4"],[1,"max-w-7xl","py-6","space-y-6"],["diameter","48"],[1,"flex"],[1,"text-red-500","mr-2"],[1,"text-red-800","font-medium"],[1,"text-red-700","text-sm","mt-1"],["mat-button","","color","warn",1,"!text-red-600","mt-2",3,"click"],["appearance","outlined"],[1,"p-6"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"block","text-sm","font-medium","text-gray-700","mb-1"],[1,"text-lg","font-semibold"],[1,"md:col-span-2"],[1,"px-3","py-1","text-sm","font-medium","rounded-full","bg-green-100","text-green-800"],[1,"px-3","py-1","text-sm","font-medium","rounded-full","bg-gray-100","text-gray-800"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-6"],[1,"flex","items-center","mt-2"],[1,"text-lg"],[1,"space-y-4"],[1,"text-center","py-8","text-gray-500"],[1,"text-gray-600"],[1,"text-green-600","mr-2"],[1,"text-green-600","font-medium"],[1,"text-gray-400","mr-2"],[1,"border","rounded-lg","p-4","bg-gray-50"],[1,"flex","items-start","justify-between"],[1,"flex-1"],[1,"flex","items-center","mb-2"],[1,"mr-2"],[1,"font-semibold","text-lg"],[1,"ml-2","px-2","py-0.5","text-xs","font-medium","rounded-full","bg-green-100","text-green-800"],[1,"ml-2","px-2","py-0.5","text-xs","font-medium","rounded-full","bg-gray-100","text-gray-800"],[1,"grid","grid-cols-1","md:grid-cols-3","gap-4","text-sm"],[1,"ml-2","font-mono"],[1,"ml-2","capitalize"],[1,"text-4xl","mb-2"]],template:function(n,l){if(n&1&&(e(0,"app-page-header",0),k(1,1),e(2,"button",2),g("click",function(){return l.goBack()}),e(3,"mat-icon",3),i(4,"arrow_back"),t(),i(5," Back to Stations "),t(),e(6,"button",4),g("click",function(){return l.editStation()}),e(7,"mat-icon",3),i(8,"edit"),t(),i(9," Edit Station "),t(),e(10,"button",5),g("click",function(){return l.deleteStation()}),e(11,"mat-icon",3),i(12,"delete"),t(),i(13," Delete "),t(),M(),t(),m(14,Y,2,0,"div",6),m(15,Z,11,1,"div",7),m(16,mt,52,10,"div",8)),n&2){let s;S("title",((s=l.station())==null?null:s.name)||"Station Details")("subtitle","Manage station configuration and printers")("showViewToggle",!1),r(6),S("disabled",!l.station()),r(4),S("disabled",!l.station()),r(4),c(l.loading()?14:-1),r(),c(l.error()?15:-1),r(),c(l.station()&&!l.loading()?16:-1)}},dependencies:[P,$,z,V,j,F,N,B,O,A,K,J,H,G,q],encapsulation:2})};export{W as StationDetailsComponent};
