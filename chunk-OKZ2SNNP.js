import{a as Oe}from"./chunk-ETZMAH6M.js";import{a as je,b as Ge}from"./chunk-HTIQX262.js";import{c as Ve}from"./chunk-2BDZN2LB.js";import{a as De,b as Ie,c as Fe,d as we,e as Te,f as Le,g as Ne,h as U}from"./chunk-DCD2EY64.js";import{a as Ee}from"./chunk-2MXILDTK.js";import{a as ke}from"./chunk-H3VCUIUM.js";import{a as ye}from"./chunk-FB5OTQCF.js";import{a as O,b as $,e as A,f as Se,g as Pe,h as B,i as H,k as z,l as q}from"./chunk-T3KX74D3.js";import{a as Me,b as G}from"./chunk-FBHRMY6R.js";import"./chunk-EIZRJIIE.js";import{a as te}from"./chunk-VPPMXXDW.js";import"./chunk-HXICWX3M.js";import"./chunk-4YIJHWNC.js";import{d as E}from"./chunk-EPNSEEH4.js";import"./chunk-MMNFDWV7.js";import"./chunk-CGDRKYIW.js";import{b as ve,c as Re,d as be}from"./chunk-IS37LNAK.js";import{a as xe,b as he,h as Ce}from"./chunk-QJ2P7YZL.js";import"./chunk-LXD47U2C.js";import{a as V,b as j}from"./chunk-ZG44B3L4.js";import{B as fe,b as ae,d as de,g as me,h as ce,m as ue,s as pe,t as _e,z as ge}from"./chunk-SZWYIW32.js";import"./chunk-CTT4BYCX.js";import{a as Z,b as ee}from"./chunk-V7ZBVJLR.js";import{a as T}from"./chunk-5QCN73SK.js";import"./chunk-NQRUH5DO.js";import{a as ie,b as oe,c as ne,d as re,f as se,h as le}from"./chunk-MESJBQC5.js";import"./chunk-QEF3JOQ3.js";import"./chunk-LSROOOYO.js";import"./chunk-7NDZPDVA.js";import{b as L,c as N}from"./chunk-OWLRGWNJ.js";import{$ as w,Z as F,_ as Y}from"./chunk-OS2CYUJN.js";import{e as W,g as X}from"./chunk-U2P6GFP5.js";import{$a as l,Gb as p,Hb as _,Jb as y,Kb as R,Lb as b,Mb as g,Nb as r,Ob as s,Pb as M,Tc as x,Wb as S,_b as f,ac as c,ea as h,ja as C,ka as v,ob as I,oc as Q,pc as a,qc as u,rc as P,sc as K,va as k}from"./chunk-IQSYHSID.js";import"./chunk-EQDQRRRY.js";var Qe=(n,t)=>t.code;function We(n,t){n&1&&(r(0,"mat-error"),a(1,"Role name is required"),s())}function Xe(n,t){n&1&&(r(0,"div",10),M(1,"mat-spinner",16),s())}function Ye(n,t){if(n&1&&(r(0,"div",27),a(1),s()),n&2){let e=c().$implicit;l(),u(e.description)}}function Ze(n,t){if(n&1){let e=S();r(0,"mat-list-option",24),f("selectedChange",function(o){let m=C(e).$implicit,d=c(4);return v(d.togglePermission(m.code,o))}),r(1,"mat-icon",25),a(2),s(),r(3,"div",26),a(4),s(),p(5,Ye,2,1,"div",27),s()}if(n&2){let e=t.$implicit,i=c(4);g("selected",i.selectedPermissions().has(e.code)),l(2),u(i.selectedPermissions().has(e.code)?"check_circle":"radio_button_unchecked"),l(2),u(e.name),l(),_(e.description?5:-1)}}function et(n,t){if(n&1){let e=S();r(0,"div",22)(1,"mat-checkbox",19),f("click",function(o){return C(e),v(o.stopPropagation())})("change",function(o){let m=C(e).$implicit,d=c().$implicit,J=c(2);return v(J.toggleGroup(d,m,o.checked))}),s(),r(2,"span",6),a(3),s()(),R(4,Ze,6,4,"mat-list-option",23,Qe),M(6,"mat-divider")}if(n&2){let e=t.$implicit,i=c().$implicit,o=c(2);l(),g("checked",o.isGroupFullySelected(i,e))("indeterminate",o.isGroupPartiallySelected(i,e)),l(2),u(e),l(),b(o.groupedPermissions()[i][e])}}function tt(n,t){if(n&1){let e=S();r(0,"div",18)(1,"mat-checkbox",19),f("click",function(o){return C(e),v(o.stopPropagation())})("change",function(o){let m=C(e).$implicit,d=c(2);return v(d.toggleModule(m,o.checked))}),s(),r(2,"mat-icon"),a(3),s(),r(4,"span",20),a(5),s(),r(6,"span",21),a(7),s()(),R(8,et,7,3,null,null,y)}if(n&2){let e=t.$implicit,i=c(2);l(),g("checked",i.isModuleFullySelected(e))("indeterminate",i.isModulePartiallySelected(e)),l(),Q(i.getModuleColor(e)),l(),u(i.getModuleIcon(e)),l(2),u(e),l(2),K(" ",i.getSelectedModuleCount(e)," / ",i.getTotalModulePermissions(e)," "),l(),b(i.getGroupsForModule(e))}}function it(n,t){if(n&1&&(r(0,"div",11)(1,"mat-selection-list",17),R(2,tt,10,8,null,null,y),s()()),n&2){let e=c();l(),g("multiple",!0),l(),b(e.modules())}}function ot(n,t){n&1&&M(0,"mat-spinner",15)}var D=class n{fb=h(ge);rolesService=h(T);dialogRef=h(De);snackBar=h(Z);data=h(Ie);roleForm;saving=k(!1);selectedPermissions=k(new Set);permissionsResource=E({params:()=>({}),stream:()=>this.rolesService.getGroupedPermissions()});groupedPermissions=x(()=>this.permissionsResource.value()||{});allPermissions=x(()=>{let t=this.groupedPermissions(),e=[];for(let i of Object.keys(t))for(let o of Object.keys(t[i]))e.push(...t[i][o]);return e});modules=x(()=>Object.keys(this.groupedPermissions()));isEditMode=x(()=>!!this.data.role);ngOnInit(){if(this.roleForm=this.fb.group({name:[this.data.role?.name||"",de.required],description:[this.data.role?.description||""]}),this.data.role?.permissions){let t=new Set(this.data.role.permissions.map(e=>e.code));this.selectedPermissions.set(t)}}togglePermission(t,e){let i=new Set(this.selectedPermissions());e?i.add(t):i.delete(t),this.selectedPermissions.set(i)}toggleGroup(t,e,i){let o=this.groupedPermissions()[t]?.[e]||[],m=new Set(this.selectedPermissions());for(let d of o)i?m.add(d.code):m.delete(d.code);this.selectedPermissions.set(m)}toggleModule(t,e){let i=this.groupedPermissions()[t]||{},o=new Set(this.selectedPermissions());for(let m of Object.values(i))for(let d of m)e?o.add(d.code):o.delete(d.code);this.selectedPermissions.set(o)}selectAll(){let t=new Set(this.allPermissions().map(e=>e.code));this.selectedPermissions.set(t)}deselectAll(){this.selectedPermissions.set(new Set)}isModuleFullySelected(t){let e=this.groupedPermissions()[t]||{},i=this.selectedPermissions();for(let o of Object.values(e))for(let m of o)if(!i.has(m.code))return!1;return Object.keys(e).length>0}isModulePartiallySelected(t){let e=this.groupedPermissions()[t]||{},i=this.selectedPermissions(),o=!1,m=!1;for(let d of Object.values(e))for(let J of d)i.has(J.code)?o=!0:m=!0;return o&&m}isGroupFullySelected(t,e){let i=this.groupedPermissions()[t]?.[e]||[],o=this.selectedPermissions();return i.length>0&&i.every(m=>o.has(m.code))}isGroupPartiallySelected(t,e){let i=this.groupedPermissions()[t]?.[e]||[],o=this.selectedPermissions(),m=i.filter(d=>o.has(d.code)).length;return m>0&&m<i.length}getSelectedModuleCount(t){let e=this.groupedPermissions()[t]||{},i=this.selectedPermissions(),o=0;for(let m of Object.values(e))for(let d of m)i.has(d.code)&&o++;return o}getTotalModulePermissions(t){let e=this.groupedPermissions()[t];return e?Object.values(e).reduce((i,o)=>i+o.length,0):0}getGroupsForModule(t){return Object.keys(this.groupedPermissions()[t]||{})}getModuleIcon(t){switch(t){case"Hotel Management":return"hotel";case"ERP":return"inventory_2";case"Finance":return"payments";case"Settings":return"settings";default:return"folder"}}getModuleColor(t){switch(t){case"Hotel Management":return"text-blue-600";case"ERP":return"text-green-600";case"Finance":return"text-purple-600";case"Settings":return"text-gray-600";default:return"text-gray-500"}}saveRole(){if(this.roleForm.invalid||this.selectedPermissions().size===0)return;this.saving.set(!0);let t=this.selectedPermissions(),e=this.allPermissions().filter(o=>t.has(o.code)).map(o=>o._id),i={name:this.roleForm.get("name")?.value,description:this.roleForm.get("description")?.value,store:this.data.storeId,permissions:e};this.isEditMode()?this.rolesService.updateRole(this.data.role._id,i).subscribe({next:o=>{this.saving.set(!1),this.snackBar.open("Role updated successfully!","Close",{duration:3e3}),this.dialogRef.close(o)},error:o=>{this.saving.set(!1),this.snackBar.open(o.error?.message||"Failed to update role","Close",{duration:5e3})}}):this.rolesService.createRole(i).subscribe({next:o=>{this.saving.set(!1),this.snackBar.open("Role created successfully!","Close",{duration:3e3}),this.dialogRef.close(o)},error:o=>{this.saving.set(!1),this.snackBar.open(o.error?.message||"Failed to create role","Close",{duration:5e3})}})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=I({type:n,selectors:[["app-create-role-dialog"]],decls:36,vars:9,consts:[["mat-dialog-title",""],[1,"space-y-4",3,"formGroup"],["appearance","outline",1,"w-full"],["matInput","","formControlName","name","placeholder","e.g., Night Shift Manager"],["matInput","","formControlName","description","rows","2","placeholder","Describe what this role is for..."],[1,"flex","items-center","justify-between","p-4"],[1,"font-medium","text-gray-700"],[1,"flex","gap-2"],["mat-stroked-button","","type","button",1,"!text-sm",3,"click"],[1,"text-sm","text-gray-500","px-4","py-2"],[1,"flex","justify-center","p-8"],[1,"max-h-[400px]","overflow-y-auto"],["align","end",1,"p-4"],["mat-button","","mat-dialog-close",""],["mat-flat-button","","color","primary",3,"click","disabled"],["diameter","20",1,"inline-block","mr-2"],["diameter","32"],[3,"multiple"],["mat-subheader","",1,"flex","items-center","gap-2","!h-auto","!py-2","bg-gray-100","sticky","top-0","z-10"],[3,"click","change","checked","indeterminate"],[1,"font-semibold"],[1,"text-sm","text-gray-500","ml-auto"],["mat-subheader","",1,"flex","items-center","gap-2","!h-auto","!py-1","bg-gray-50"],[3,"selected"],[3,"selectedChange","selected"],["matListItemIcon",""],["matListItemTitle",""],["matListItemLine","",1,"text-gray-500"]],template:function(e,i){if(e&1&&(r(0,"h2",0),a(1),s(),r(2,"mat-dialog-content")(3,"form",1)(4,"mat-form-field",2)(5,"mat-label"),a(6,"Role Name"),s(),M(7,"input",3),p(8,We,2,0,"mat-error"),s(),r(9,"mat-form-field",2)(10,"mat-label"),a(11,"Description"),s(),M(12,"textarea",4),s(),r(13,"div")(14,"div",5)(15,"h3",6),a(16,"Permissions"),s(),r(17,"div",7)(18,"button",8),f("click",function(){return i.selectAll()}),r(19,"mat-icon"),a(20,"check_box"),s(),a(21," Select All "),s(),r(22,"button",8),f("click",function(){return i.deselectAll()}),r(23,"mat-icon"),a(24,"check_box_outline_blank"),s(),a(25," Deselect All "),s()()(),r(26,"div",9),a(27),s(),p(28,Xe,2,0,"div",10)(29,it,4,1,"div",11),s()()(),r(30,"mat-dialog-actions",12)(31,"button",13),a(32,"Cancel"),s(),r(33,"button",14),f("click",function(){return i.saveRole()}),p(34,ot,1,0,"mat-spinner",15),a(35),s()()),e&2){let o;l(),P(" ",i.isEditMode()?"Edit Role":"Create Custom Role",`
`),l(2),g("formGroup",i.roleForm),l(5),_((o=i.roleForm.get("name"))!=null&&o.hasError("required")?8:-1),l(19),K(" Selected: ",i.selectedPermissions().size," / ",i.allPermissions().length," permissions "),l(),_(i.permissionsResource.isLoading()?28:29),l(5),g("disabled",i.roleForm.invalid||i.saving()||i.selectedPermissions().size===0),l(),_(i.saving()?34:-1),l(),P(" ",i.isEditMode()?"Update Role":"Create Role"," ")}},dependencies:[fe,ue,ae,me,ce,_e,pe,U,we,Te,Ne,Le,w,F,ve,Ce,xe,he,be,Re,N,L,Ge,je,q,z,B,A,H,Me,$,O,G,j,V,ee],encapsulation:2,changeDetection:0})};var Ae=(n,t)=>t._id,Be=(n,t)=>t.code;function nt(n,t){n&1&&(r(0,"div",9),M(1,"mat-spinner",14),s())}function rt(n,t){n&1&&M(0,"app-no-record",10)}function st(n,t){if(n&1){let e=S();r(0,"mat-list-option",18),f("click",function(){let o=C(e).$implicit,m=c(3);return v(m.selectRole(o))}),r(1,"mat-icon",19),a(2),s(),r(3,"div",20),a(4),s(),r(5,"div",21),a(6),s()()}if(n&2){let e,i=t.$implicit,o=c(3);g("selected",((e=o.selectedRole())==null?null:e._id)===i._id),l(2),u(o.getRoleIcon(i)),l(2),u(i.name),l(2),P("",i.permissions.length||0," permissions")}}function lt(n,t){if(n&1&&(r(0,"div",15),a(1,"Administrative Roles"),s(),R(2,st,7,4,"mat-list-option",17,Ae)),n&2){let e=c(2);l(2),b(e.administrativeRoles())}}function at(n,t){if(n&1){let e=S();r(0,"mat-list-option",18),f("click",function(){let o=C(e).$implicit,m=c(3);return v(m.selectRole(o))}),r(1,"mat-icon",19),a(2),s(),r(3,"div",20),a(4),s(),r(5,"div",21),a(6),s()()}if(n&2){let e,i=t.$implicit,o=c(3);g("selected",((e=o.selectedRole())==null?null:e._id)===i._id),l(2),u(o.getRoleIcon(i)),l(2),u(i.name),l(2),P("",i.permissions.length||0," permissions")}}function dt(n,t){if(n&1&&R(0,at,7,4,"mat-list-option",17,Ae),n&2){let e=c(2);b(e.customRoles())}}function mt(n,t){n&1&&(r(0,"div",16),a(1," No custom roles created yet "),s())}function ct(n,t){if(n&1&&(r(0,"mat-selection-list",11),p(1,lt,4,0),r(2,"div",15),a(3,"Custom Roles"),s(),p(4,dt,2,0)(5,mt,2,0,"div",16),s()),n&2){let e=c();g("multiple",!1),l(),_(e.administrativeRoles().length>0?1:-1),l(3),_(e.customRoles().length>0?4:5)}}function ut(n,t){if(n&1&&(r(0,"mat-list-item")(1,"mat-icon",34),a(2,"check_circle"),s(),r(3,"div",20),a(4),s(),r(5,"div",21),a(6),s()()),n&2){let e=t.$implicit;l(4),u(e.name),l(2),u(e.group)}}function pt(n,t){if(n&1&&(r(0,"div",15),a(1),s(),R(2,ut,7,2,"mat-list-item",null,Be)),n&2){let e=c().$implicit,i=c(2);l(),u(e),l(),b(i.getGrantedPermissionsForModule(e))}}function _t(n,t){if(n&1&&p(0,pt,4,1),n&2){let e=t.$implicit,i=c(2);_(i.getGrantedPermissionsForModule(e).length>0?0:-1)}}function gt(n,t){n&1&&(r(0,"div",33),a(1," No permissions granted "),s())}function ft(n,t){if(n&1&&(r(0,"mat-list-item")(1,"mat-icon",35),a(2,"cancel"),s(),r(3,"div",20),a(4),s(),r(5,"div",21),a(6),s()()),n&2){let e=t.$implicit;l(4),u(e.name),l(2),u(e.group)}}function xt(n,t){if(n&1&&(r(0,"div",15),a(1),s(),R(2,ft,7,2,"mat-list-item",null,Be)),n&2){let e=c().$implicit,i=c(2);l(),u(e),l(),b(i.getDeniedPermissionsForModule(e))}}function ht(n,t){if(n&1&&p(0,xt,4,1),n&2){let e=t.$implicit,i=c(2);_(i.getDeniedPermissionsForModule(e).length>0?0:-1)}}function Ct(n,t){n&1&&(r(0,"div",33),a(1," All permissions granted "),s())}function vt(n,t){if(n&1){let e=S();r(0,"mat-card",5)(1,"mat-card-header",22)(2,"div",23)(3,"div",24)(4,"mat-icon"),a(5),s()(),r(6,"div",25)(7,"mat-card-title"),a(8),s(),r(9,"mat-card-subtitle"),a(10),s()(),r(11,"div",26)(12,"button",27),f("click",function(){C(e);let o=c();return v(o.openEditRoleDialog())}),r(13,"mat-icon"),a(14,"edit"),s(),a(15," Edit Role "),s(),r(16,"button",28),f("click",function(){C(e);let o=c();return v(o.deleteRole())}),r(17,"mat-icon"),a(18,"delete"),s(),a(19," Delete "),s()()()(),r(20,"mat-card-content",29)(21,"div",30)(22,"mat-card",31)(23,"mat-card-header")(24,"mat-card-title"),a(25),s()(),r(26,"mat-card-content",32)(27,"mat-list"),R(28,_t,1,1,null,null,y),p(30,gt,2,0,"div",33),s()()(),r(31,"mat-card",31)(32,"mat-card-header")(33,"mat-card-title"),a(34),s()(),r(35,"mat-card-content",32)(36,"mat-list"),R(37,ht,1,1,null,null,y),p(39,Ct,2,0,"div",33),s()()()()()()}if(n&2){let e,i,o,m,d=c();l(3),g("ngClass",d.getRoleColor(d.selectedRole())),l(2),u(d.getRoleIcon(d.selectedRole())),l(3),u((e=d.selectedRole())==null?null:e.name),l(2),u(((i=d.selectedRole())==null?null:i.description)||"No description"),l(2),g("disabled",(o=d.selectedRole())==null?null:o.isAdministrative),l(4),g("disabled",(m=d.selectedRole())==null?null:m.isAdministrative),l(9),P(" Granted Permissions (",d.allowedPermissions().length,") "),l(3),b(d.modules()),l(2),_(d.allowedPermissions().length===0?30:-1),l(4),P(" Denied Permissions (",d.deniedPermissions().length,") "),l(3),b(d.modules()),l(2),_(d.deniedPermissions().length===0?39:-1)}}function Rt(n,t){n&1&&(r(0,"mat-card",13)(1,"mat-card-content",36)(2,"div",37)(3,"mat-icon",38),a(4,"touch_app"),s(),r(5,"h3",39),a(6,"Select a Role"),s(),r(7,"p",40),a(8,"Click on a role from the list to view its permissions"),s()()()())}var $e=class n{rolesService=h(T);storeStore=h(te);dialog=h(Fe);location=h(W);selectedRole=k(null);roles=E({params:()=>({storeId:this.storeStore.selectedStore()?._id}),stream:({params:t})=>this.rolesService.getAllRolesForStore(t.storeId)});permissionsResource=E({stream:()=>this.rolesService.getGroupedPermissions()});groupedPermissions=x(()=>this.permissionsResource.value()||{});allPermissions=x(()=>{let t=this.groupedPermissions(),e=[];for(let i of Object.keys(t))for(let o of Object.keys(t[i]))e.push(...t[i][o]);return e});modules=x(()=>Object.keys(this.groupedPermissions()));administrativeRoles=x(()=>this.roles.value()?.filter(t=>t.isAdministrative)||[]);customRoles=x(()=>this.roles.value()?.filter(t=>!t.isAdministrative)||[]);rolePermissionCodes=x(()=>{let t=this.selectedRole();return!t||!t.permissions?new Set:new Set(t.permissions.map(e=>e.code))});hasPermission(t){return this.rolePermissionCodes().has(t)}allowedPermissions=x(()=>{let t=this.rolePermissionCodes();return t.size===0?[]:this.allPermissions().filter(e=>t.has(e.code))});deniedPermissions=x(()=>{if(!this.selectedRole())return[];let e=this.rolePermissionCodes();return this.allPermissions().filter(i=>!e.has(i.code))});selectRole(t){this.selectedRole.set(t)}openCreateRoleDialog(){let t=this.storeStore.selectedStore()?._id;if(!t)return;this.dialog.open(D,{width:"700px",maxHeight:"90vh",data:{storeId:t}}).afterClosed().subscribe(i=>{i&&(this.roles.reload(),this.permissionsResource.reload())})}openEditRoleDialog(){let t=this.selectedRole();if(!t||t.isAdministrative)return;let e=this.storeStore.selectedStore()?._id;if(!e)return;this.dialog.open(D,{width:"700px",maxHeight:"90vh",data:{storeId:e,role:t}}).afterClosed().subscribe(o=>{o&&(this.selectedRole.set(o),this.roles.reload(),this.permissionsResource.reload())})}deleteRole(){let t=this.selectedRole();if(!t||t.isAdministrative)return;this.dialog.open(Oe,{width:"400px",data:{title:"Delete Role",message:`Are you sure you want to delete the role "${t.name}"? This action cannot be undone.`}}).afterClosed().subscribe(i=>{i&&this.rolesService.deleteRole(t._id).subscribe({next:()=>{this.selectedRole.set(null),this.roles.reload()},error:o=>{console.error("Failed to delete role:",o)}})})}getRoleIcon(t){let e=t.name.toLowerCase();return e.includes("admin")||e.includes("owner")?"admin_panel_settings":e.includes("manager")?"manage_accounts":e.includes("front desk")||e.includes("receptionist")?"support_agent":e.includes("housekeeper")||e.includes("housekeeping")?"cleaning_services":e.includes("accountant")||e.includes("finance")?"account_balance":"person"}getRoleColor(t){let e=t.name.toLowerCase();return e.includes("admin")||e.includes("owner")?"bg-purple-100 text-purple-700":e.includes("manager")?"bg-blue-100 text-blue-700":e.includes("front desk")||e.includes("receptionist")?"bg-green-100 text-green-700":e.includes("housekeeper")||e.includes("housekeeping")?"bg-yellow-100 text-yellow-700":e.includes("accountant")||e.includes("finance")?"bg-indigo-100 text-indigo-700":"bg-gray-100 text-gray-700"}getModuleIcon(t){switch(t){case"Hotel Management":return"hotel";case"ERP":return"inventory_2";case"Finance":return"payments";case"Settings":return"settings";default:return"folder"}}getModuleColor(t){switch(t){case"Hotel Management":return"text-blue-600";case"ERP":return"text-green-600";case"Finance":return"text-purple-600";case"Settings":return"text-gray-600";default:return"text-gray-500"}}getGroupsForModule(t){return Object.keys(this.groupedPermissions()[t]||{})}getTotalModulePermissions(t){let e=this.groupedPermissions()[t];return e?Object.values(e).reduce((i,o)=>i+o.length,0):0}getGrantedModulePermissions(t){let e=this.groupedPermissions()[t];if(!e)return 0;let i=this.rolePermissionCodes(),o=0;for(let m of Object.values(e))for(let d of m)i.has(d.code)&&o++;return o}getGrantedPermissionsForModule(t){let e=this.groupedPermissions()[t];if(!e)return[];let i=this.rolePermissionCodes(),o=[];for(let m of Object.values(e))for(let d of m)i.has(d.code)&&o.push(d);return o}getDeniedPermissionsForModule(t){let e=this.groupedPermissions()[t];if(!e)return[];let i=this.rolePermissionCodes(),o=[];for(let m of Object.values(e))for(let d of m)i.has(d.code)||o.push(d);return o}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=I({type:n,selectors:[["app-roles"]],decls:22,vars:2,consts:[[1,"flex","flex-col","h-[calc(100vh-200px)]"],[1,"mb-4"],["mat-button","",3,"click"],[1,"flex","gap-6","flex-1","min-h-0"],[1,"w-96","shrink-0","flex","flex-col"],["appearance","outlined",1,"h-full","flex","flex-col","overflow-hidden"],[1,"shrink-0","!flex","!justify-between","!items-center"],["mat-mini-fab","","color","primary","matTooltip","Create Custom Role",3,"click"],[1,"p-0","flex-1","overflow-y-auto"],[1,"flex","justify-center","items-center","p-8"],["icon","badge","title","No Roles Found","message","Create your first role to manage staff permissions"],[3,"multiple"],[1,"flex-1","min-w-0","flex","flex-col"],["appearance","outlined",1,"h-full","flex","flex-col"],["diameter","32"],["mat-subheader",""],[1,"px-4","py-3","text-sm","text-gray-500","italic"],[3,"selected"],[3,"click","selected"],["matListItemIcon",""],["matListItemTitle",""],["matListItemLine",""],[1,"pb-4","mb-4","shrink-0"],[1,"flex","items-center","gap-4","w-full"],[1,"w-12","h-12","rounded-full","flex","items-center","justify-center",3,"ngClass"],[1,"flex-1"],[1,"flex","gap-2"],["mat-stroked-button","",3,"click","disabled"],["mat-stroked-button","","color","warn",3,"click","disabled"],[1,"pt-4","flex-1","overflow-y-auto"],[1,"flex","gap-4"],["appearance","outlined",1,"flex-1","!overflow-hidden"],[1,"!p-0","max-h-[400px]","overflow-y-auto"],[1,"p-4","text-center","text-gray-500","italic"],["matListItemIcon","",1,"text-green-600"],["matListItemIcon","",1,"text-red-400"],[1,"flex-1","flex","items-center","justify-center"],[1,"text-center","py-16"],[1,"text-6xl","text-gray-300","mb-4"],[1,"text-lg","font-medium","text-gray-600","mb-2"],[1,"text-gray-500"]],template:function(e,i){if(e&1&&(r(0,"div",0)(1,"div",1)(2,"button",2),f("click",function(){return i.location.back()}),r(3,"mat-icon"),a(4,"arrow_back"),s(),a(5," Back "),s()(),r(6,"div",3)(7,"div",4)(8,"mat-card",5)(9,"mat-card-header",6)(10,"mat-card-title"),a(11,"Roles"),s(),r(12,"button",7),f("click",function(){return i.openCreateRoleDialog()}),r(13,"mat-icon"),a(14,"add"),s()()(),r(15,"mat-card-content",8),p(16,nt,2,0,"div",9)(17,rt,1,0,"app-no-record",10)(18,ct,6,3,"mat-selection-list",11),s()()(),r(19,"div",12),p(20,vt,40,10,"mat-card",5)(21,Rt,9,0,"mat-card",13),s()()()),e&2){let o;l(16),_(i.roles.isLoading()?16:((o=i.roles.value())==null?null:o.length)===0?17:18),l(4),_(i.selectedRole()?20:21)}},dependencies:[q,Se,z,Pe,B,A,H,$,O,N,L,w,F,Y,le,ie,ne,se,re,oe,Ve,j,V,G,ke,ye,U,Ee,X],encapsulation:2,changeDetection:0})};export{$e as Roles};
