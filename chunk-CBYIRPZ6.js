import{a as ce}from"./chunk-FBGZWNLP.js";import{a as _e}from"./chunk-RYCTW6VP.js";import{a as de}from"./chunk-TOVVMIAD.js";import{a as ue}from"./chunk-GYK7QYO3.js";import{a as pe}from"./chunk-R6677L7M.js";import{h as me}from"./chunk-NGP3QI5W.js";import{a as se}from"./chunk-72TJ4JLQ.js";import{a as le,b as re}from"./chunk-7WNNENZV.js";import{a as U,b as W,c as X,d as Y,e as Z,f as ee,g as te,h as ne,i as ae,j as ie,k as oe}from"./chunk-72VJX2YS.js";import"./chunk-DB3A7P3M.js";import"./chunk-FK6H3RFT.js";import"./chunk-HUTJFBBB.js";import"./chunk-SWNYNPHN.js";import{a as Q,b as j}from"./chunk-TLN5MM36.js";import{b as q,d as F}from"./chunk-3BP5U2AG.js";import"./chunk-CZME4V75.js";import"./chunk-CQES5GWZ.js";import{a as z,c as O,d as L,e as G}from"./chunk-CMZGRSEW.js";import"./chunk-K6UY4OSY.js";import{c as J,d as K}from"./chunk-ZBSG24BC.js";import"./chunk-GXR3VSCN.js";import{a as N}from"./chunk-7ZRYRFA4.js";import"./chunk-OJWZ6ZD7.js";import"./chunk-27T6VRU4.js";import{E as V}from"./chunk-LM7FYRY4.js";import"./chunk-ZENMOCFL.js";import{a as H,b as $}from"./chunk-EDESGICS.js";import"./chunk-7KAGHLPR.js";import"./chunk-JRF7K3G5.js";import"./chunk-HRGWPEEQ.js";import{Y as I,Z as k}from"./chunk-BVLPFG4Z.js";import"./chunk-LYY57WCE.js";import"./chunk-AGZJ637K.js";import"./chunk-QJAAU2EQ.js";import"./chunk-S3JL7UCS.js";import{q as R,r as A}from"./chunk-ETP2OZKZ.js";import{Db as P,Eb as E,Gc as h,Ic as M,Jb as f,Kb as a,Lb as i,Mb as c,Qb as d,Rb as s,Tb as g,Xb as x,Ya as r,Zb as y,bc as w,ca as _,cc as b,dc as D,ha as S,hc as B,ia as C,lb as T,mc as o,nc as u,rb as p}from"./chunk-KGWH6IHP.js";import"./chunk-EQDQRRRY.js";function ye(e,t){e&1&&(a(0,"div",11),c(1,"mat-spinner",14),i())}function Se(e,t){e&1&&(a(0,"mat-header-cell"),o(1,"Payment Type"),i())}function Ce(e,t){if(e&1&&(a(0,"mat-cell"),o(1),i()),e&2){let n=t.$implicit;r(),u(n.paymentType)}}function xe(e,t){e&1&&(a(0,"mat-header-cell"),o(1,"Payment Transactions"),i())}function he(e,t){if(e&1&&(a(0,"mat-cell"),o(1),i()),e&2){let n=t.$implicit;r(),u(n.paymentTransactions)}}function Me(e,t){e&1&&(a(0,"mat-header-cell"),o(1,"Payment Amount"),i())}function ve(e,t){if(e&1&&(a(0,"mat-cell"),o(1),h(2,"currency"),i()),e&2){let n,m=t.$implicit,l=y(2);r(),u(M(2,1,m.paymentAmount,(n=l.storeStore.selectedStore())==null?null:n.currency))}}function Te(e,t){e&1&&(a(0,"mat-header-cell"),o(1,"Refund Transactions"),i())}function Pe(e,t){if(e&1&&(a(0,"mat-cell"),o(1),i()),e&2){let n=t.$implicit;r(),u(n.refundTransactions)}}function Ee(e,t){e&1&&(a(0,"mat-header-cell"),o(1,"Refund Amount"),i())}function ge(e,t){if(e&1&&(a(0,"mat-cell"),o(1),h(2,"currency"),i()),e&2){let n,m=t.$implicit,l=y(2);r(),u(M(2,1,m.refundAmount,(n=l.storeStore.selectedStore())==null?null:n.currency))}}function we(e,t){e&1&&(a(0,"mat-header-cell"),o(1,"Net Amount"),i())}function be(e,t){if(e&1&&(a(0,"mat-cell"),o(1),h(2,"currency"),i()),e&2){let n,m=t.$implicit,l=y(2);r(),u(M(2,1,m.netAmount,(n=l.storeStore.selectedStore())==null?null:n.currency))}}function De(e,t){e&1&&c(0,"mat-header-row")}function Be(e,t){e&1&&c(0,"mat-row")}function Re(e,t){if(e&1&&(a(0,"div",12)(1,"mat-table",15),d(2,16),p(3,Se,2,0,"mat-header-cell",17)(4,Ce,2,1,"mat-cell",18),s(),d(5,19),p(6,xe,2,0,"mat-header-cell",17)(7,he,2,1,"mat-cell",18),s(),d(8,20),p(9,Me,2,0,"mat-header-cell",17)(10,ve,3,4,"mat-cell",18),s(),d(11,21),p(12,Te,2,0,"mat-header-cell",17)(13,Pe,2,1,"mat-cell",18),s(),d(14,22),p(15,Ee,2,0,"mat-header-cell",17)(16,ge,3,4,"mat-cell",18),s(),d(17,23),p(18,we,2,0,"mat-header-cell",17)(19,be,3,4,"mat-cell",18),s(),p(20,De,1,0,"mat-header-row",24)(21,Be,1,0,"mat-row",25),i()()),e&2){let n=y();r(),f("dataSource",n.dataSource.value()),r(19),f("matHeaderRowDef",n.displayedColumns),r(),f("matRowDefColumns",n.displayedColumns)}}function Ae(e,t){e&1&&c(0,"app-no-record",13)}var fe=class e{queryParams=_(pe);orderService=_(se);storeStore=_(N);query=J(this.queryParams.getAllParams$);displayedColumns=["paymentType","paymentTransactions","paymentAmount","refundTransactions","refundAmount","netAmount"];dataSource=K({params:()=>({storeId:this.storeStore.selectedStore()?._id,query:this.query()}),stream:({params:t})=>this.orderService.getSalesByPaymentType(t.storeId,t.query)});paginator;pageSize=10;pageSizeOptions=[5,10,25,50];exportService=_(ue);exportData(t){if(!this.dataSource.value())return;let n=this.dataSource.value()||[],m="payment-report";switch(t){case"pdf":this.exportService.exportPaymentDataToPdf(n,m,{from:this.query().start,to:this.query().end});break;case"csv":this.exportService.exportToCSV(n,m);break;case"excel":this.exportService.exportToExcel(n,m);break}}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=T({type:e,selectors:[["app-sales-by-payment"]],viewQuery:function(n,m){if(n&1&&w(le,5),n&2){let l;b(l=D())&&(m.paginator=l.first)}},decls:34,vars:2,consts:[["exportMenu","matMenu"],[1,"p-4","bg-gray-50","min-h-screen"],[1,"bg-white","p-4","rounded-lg","shadow-sm","mb-6"],[1,"flex","flex-col","sm:flex-row","justify-between","items-center","gap-4"],[1,"flex","gap-4"],[1,"bg-white","rounded-lg","shadow-sm"],[1,"p-6","flex","justify-between","items-center","border-b"],[1,"text-lg","font-medium"],["mat-flat-button","","color","primary",3,"matMenuTriggerFor"],[1,"mr-2"],["mat-menu-item","",3,"click"],[1,"flex","items-center","justify-center","min-h-[300px]"],[1,"p-6"],["icon","inventory_2","title","No Employee Data Found","message","There are no employee sales data to display for the selected period."],["diameter","40"],[1,"w-full","!bg-white",3,"dataSource"],["matColumnDef","paymentType"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","paymentTransactions"],["matColumnDef","paymentAmount"],["matColumnDef","refundTransactions"],["matColumnDef","refundAmount"],["matColumnDef","netAmount"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"]],template:function(n,m){if(n&1){let l=g();a(0,"div",1)(1,"div",2)(2,"div",3),c(3,"date-range-selector"),a(4,"div",4),c(5,"app-employee-selector"),i()()(),a(6,"div",5)(7,"div",6)(8,"h2",7),o(9,"Sales by Payment Type"),i(),a(10,"button",8)(11,"mat-icon",9),o(12,"file_download"),i(),o(13," Export Data "),i(),a(14,"mat-menu",null,0)(16,"button",10),x("click",function(){return S(l),C(m.exportData("pdf"))}),a(17,"mat-icon"),o(18,"picture_as_pdf"),i(),a(19,"span"),o(20,"Export as PDF"),i()(),a(21,"button",10),x("click",function(){return S(l),C(m.exportData("csv"))}),a(22,"mat-icon"),o(23,"description"),i(),a(24,"span"),o(25,"Export as CSV"),i()(),a(26,"button",10),x("click",function(){return S(l),C(m.exportData("excel"))}),a(27,"mat-icon"),o(28,"table_chart"),i(),a(29,"span"),o(30,"Export as Excel"),i()()()(),P(31,ye,2,0,"div",11)(32,Re,22,3,"div",12)(33,Ae,1,0,"app-no-record",13),i()()}if(n&2){let l=B(15);r(10),f("matMenuTriggerFor",l),r(21),E(m.dataSource.isLoading()?31:m.dataSource.hasValue()?32:33)}},dependencies:[A,oe,U,X,te,Y,W,ne,Z,ee,ae,ie,re,k,I,$,H,me,q,F,V,_e,de,j,Q,ce,G,O,z,L,R],encapsulation:2})};export{fe as SalesByPaymentComponent};
