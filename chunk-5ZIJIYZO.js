import{a as W,b as G,c as J,d as K,e as be}from"./chunk-A2LBCXOK.js";import{a as ge}from"./chunk-W3WCX3UE.js";import{b as Q}from"./chunk-TIJBZH7S.js";import{a as pe,b as de,c as ue,d as _e,e as ve}from"./chunk-2CA6XTE2.js";import"./chunk-KB4RKS4G.js";import"./chunk-ZD2MQVCP.js";import"./chunk-ZOYXPNSX.js";import{a as Z,b as ee,c as te,e as ie,f as ne,g as oe,j as ae,l as re}from"./chunk-BK234AW2.js";import{a as X,b as Y}from"./chunk-P2NXASYZ.js";import"./chunk-A2NM27HC.js";import"./chunk-ZXGSCOR2.js";import{a as le,b as se,c as me,d as ce}from"./chunk-CXPTKSLY.js";import{a as q}from"./chunk-EUHZN2UI.js";import"./chunk-M5357V7P.js";import{c as H}from"./chunk-2WBLSBPP.js";import"./chunk-SY26FGZT.js";import"./chunk-XYJ5R6BC.js";import"./chunk-YEWYHM4L.js";import"./chunk-PZG5LZPC.js";import"./chunk-GY37C2FD.js";import"./chunk-2UT4NYMV.js";import"./chunk-S2P5547C.js";import{a as z,b as j}from"./chunk-MNFAJ2ZP.js";import{a as $}from"./chunk-4HZDDISM.js";import"./chunk-56TSQ6HG.js";import"./chunk-AGG277FR.js";import"./chunk-N3VBTGB6.js";import"./chunk-4KLRET2M.js";import{X as N,_ as U}from"./chunk-KSQJ4KAT.js";import"./chunk-RDMIWI4X.js";import"./chunk-AGZJ637K.js";import{a as F,b as O,c as R,d as A,e as V,i as B}from"./chunk-LTDPQFG4.js";import"./chunk-VYX7HJYX.js";import"./chunk-FORATDN3.js";import{Bc as _,Eb as P,Fb as D,Gb as v,Ib as b,Jb as g,Kb as l,Lb as o,Mb as a,Nb as d,Ub as S,Va as T,Yb as x,Za as i,_b as y,ca as p,ha as f,ia as h,ic as C,mb as E,nc as s,oc as u,pc as I,ta as k}from"./chunk-53XJD7JZ.js";import"./chunk-EQDQRRRY.js";var M=()=>["store-settings"];function fe(n,r){if(n&1&&(o(0,"a",5),d(1,"img",15),a()),n&2){let e,t=y();l("routerLink",_(3,M)),i(),l("routerLink",_(4,M))("src",(e=t.storeStore.selectedStore())==null?null:e.logo,T)}}function he(n,r){n&1&&(o(0,"a",6)(1,"mat-icon"),s(2,"store"),a()())}function ke(n,r){if(n&1){let e=S();o(0,"button",16),x("click",function(){let m=f(e).$implicit,c=y();return h(c.selectStore(m))}),s(1),a()}if(n&2){let e,t=r.$implicit,m=y();l("disabled",t._id===((e=m.storeStore.selectedStore())==null?null:e._id)),i(),I(" ",t.name)}}function Se(n,r){if(n&1&&(o(0,"a",18,1)(2,"mat-icon",19),s(3),a(),o(4,"span",20),s(5),a()()),n&2){let e=r.$implicit,t=C(1);l("routerLink",e.link)("activated",t.isActive),i(3),u(e.icon),i(2),u(e.label)}}function xe(n,r){if(n&1&&(o(0,"mat-expansion-panel",13)(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"span",17),s(4),a()()(),b(5,Se,6,4,"a",18,v),a()),n&2){let e=r.$implicit;l("expanded",!0),i(4),I(" ",e==null?null:e.name," "),i(),g(e.children)}}var ye=class n{router=p(R);route=p(F);authService=p($);storeStore=p(q);isMobile=k(window.innerWidth<768);opened=k(!0);currentUser=H(this.authService.currentUser,{initialValue:null});hasAllRequiredPermissions=this.authService.hasAnyPermission(["manage_users","manage_events","manage_companies","manage_dashboard","manage_settings"]);navItems=[{name:"Reports",children:[{icon:"leaderboard",label:"Sales summary",link:"./reports/summary",permission:"view_company"},{icon:"shop",label:"Sales by item",link:"./reports/sales-by-item",permission:"view_timeline"},{icon:"category",label:"Sales by category",link:"./reports/sales-by-category",permission:"view_company"},{icon:"diversity_1",label:"Sales by employee",link:"./reports/sales-by-employee",permission:"manage_home"},{icon:"payments",label:"Sales by payment type",link:"./reports/sales-by-payment-type",permission:"manage_home"},{icon:"description",label:"Receipts",link:"./reports/receipts",permission:"manage_home"}]},{name:"Items",children:[{icon:"local_mall",label:"Products",link:"./items/products",permission:"view_company"},{icon:"category_search",label:"Categories",link:"./items/categories",permission:"view_timeline"},{icon:"palette",label:"Modifiers",link:"./items/variants",permission:"view_company"},{icon:"check_box",label:"Options",link:"./items/options",permission:"view_company"}]},{name:"Tables",children:[{icon:"table_restaurant",label:"Tables",link:"./tables/list",permission:"view_company"},{icon:"category",label:"Table Categories",link:"./tables/categories/list",permission:"view_company"}]},{name:"Inventory",children:[{icon:"warehouse",label:"Suppliers",link:"./inventory/suppliers",permission:"view_company"},{icon:"inventory_2",label:"Restock",link:"./inventory/restock",permission:"view_company"},{icon:"calculate",label:"Reconciliations",link:"./inventory/reconciliations",permission:"view_company"}]},{name:"Employees",children:[{icon:"assignment_ind",label:"Employees",link:"./employees/list",permission:"view_company"},{icon:"access_time",label:"Timecards",link:"./employees/timecards/list",permission:"view_company"}]},{name:"Customers",children:[{icon:"groups",label:"Customers",link:"./customers/list",permission:"view_company"}]}];openLink(r){this.router.navigate([r],{relativeTo:this.route})}toggleSidenav(){this.opened.set(!this.opened())}goToProfile(){this.router.navigate(["dashboard","general","profile"])}selectStore(r){console.log("Selected store:",r),this.storeStore.setSelectedStore(r),window.location.reload()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=E({type:n,selectors:[["app-dashboard"]],decls:28,vars:11,consts:[["menu","matMenu"],["rla","routerLinkActive"],[1,"dashboard-container"],[3,"menuToggle"],[1,"!w-[20em]","!rounded-[0px]","px-2",3,"mode","opened"],["matListItemIcon","",1,"block","!mr-6",3,"routerLink"],["matListItemIcon","",1,"block"],["matListItemTitle","",3,"routerLink"],["matListItemLine","",3,"routerLink"],["matListItemMeta","","mat-icon-button","",1,"block",3,"matMenuTriggerFor"],["mat-menu-item","",3,"disabled"],[3,"storeId"],["multi",""],[1,"mat-elevation-z0",3,"expanded"],[1,"p-4","bg-[#F9FAFB]","h-screen"],[1,"!w-full","!min-w-10","!mr-5","!max-w-100","h-10","rounded-full","object-cover",3,"routerLink","src"],["mat-menu-item","",3,"click","disabled"],[1,"flex","items-center"],["mat-list-item","","routerLinkActive","active-link",3,"routerLink","activated"],["matListItemIcon","",1,"material-icons-outlined"],["matListItemTitle",""]],template:function(e,t){if(e&1){let m=S();o(0,"div",2)(1,"app-toolbar",3),x("menuToggle",function(){return f(m),h(t.toggleSidenav())}),a(),o(2,"mat-sidenav-container")(3,"mat-sidenav",4)(4,"mat-list")(5,"mat-list-item"),P(6,fe,2,5,"a",5)(7,he,3,0,"a",6),o(8,"h2",7),s(9),a(),o(10,"div",8),s(11),a(),o(12,"a",9)(13,"mat-icon"),s(14,"keyboard_arrow_down"),a()()(),d(15,"mat-divider"),a(),o(16,"mat-menu",null,0),b(18,ke,2,2,"button",10,v),a(),o(20,"mat-nav-list"),d(21,"app-usage-indicator",11),o(22,"mat-accordion",12),b(23,xe,7,2,"mat-expansion-panel",13,v),a()()(),o(25,"mat-sidenav-content")(26,"div",14),d(27,"router-outlet"),a()()()()}if(e&2){let m,c,w,L,Me=C(17);i(3),l("mode",t.isMobile()?"over":"side")("opened",t.opened()),i(3),D((m=t.storeStore.selectedStore())!=null&&m.logo?6:7),i(2),l("routerLink",_(9,M)),i(),u((c=t.currentUser())==null?null:c.role),i(),l("routerLink",_(10,M)),i(),u((w=t.storeStore.selectedStore())==null?null:w.name),i(),l("matMenuTriggerFor",Me),i(6),g(t.storeStore.stores()),i(3),l("storeId",(L=t.storeStore.selectedStore())==null?null:L._id),i(2),g(t.navItems)}},dependencies:[K,G,J,W,Q,re,ne,ae,oe,ie,X,ee,Z,te,j,z,U,N,ce,se,le,me,B,O,A,V,ve,_e,pe,de,ue,Y,be,ge],styles:["[_nghost-%COMP%]{display:block;height:100%}.dashboard-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}mat-toolbar[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1000}mat-sidenav-container[_ngcontent-%COMP%]{flex:1;height:100%}mat-sidenav[_ngcontent-%COMP%]{box-shadow:2px 0 6px #0000001a}.mat-expansion-panel-spacing[_ngcontent-%COMP%]{margin:0}.mat-expansion-panel-body[_ngcontent-%COMP%]{padding:0 24px}.mat-sidenav-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.content[_ngcontent-%COMP%]{flex:1}.active-link[_ngcontent-%COMP%]{background:#0000000a;color:#1976d2}.active-link[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#1976d2}.mdc-list-item__content[_ngcontent-%COMP%]{margin-left:5px!important}"]})};export{ye as DashboardComponent};
