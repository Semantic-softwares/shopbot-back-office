import{a as kt}from"./chunk-R4EOLKBM.js";import{h as St}from"./chunk-DOHPGGLS.js";import"./chunk-MS4AQ6UA.js";import{a as yt,b as wt}from"./chunk-YVYCFWPM.js";import{a as Gt,b as Et}from"./chunk-LIUA42FM.js";import"./chunk-IX32NZKS.js";import{d as Y}from"./chunk-XQNDMVIO.js";import{c as st,d as lt}from"./chunk-3632TDEK.js";import{a as H}from"./chunk-I24LUS2H.js";import"./chunk-F5X5MWHG.js";import{c as Ct}from"./chunk-DSRTAZMJ.js";import{c as vt}from"./chunk-H55FNLX4.js";import{a as ut,b as pt}from"./chunk-H476YUNT.js";import{a as gt,c as _t,d as ft,e as xt}from"./chunk-5XJCC6NP.js";import{a as bt,b as ht}from"./chunk-LPJWQZ4I.js";import"./chunk-EEQKDLYL.js";import"./chunk-JTD73F4Y.js";import{a as ot,d as rt,h as at}from"./chunk-JGZ2V5AL.js";import{B as et,D as it,b as J,g as Q,h as W,m as X,p as Z,s as tt}from"./chunk-CXVWFC6J.js";import"./chunk-JTLCVARK.js";import{g as nt}from"./chunk-HA7VDR7W.js";import{a as dt,b as mt}from"./chunk-7C3RSL2D.js";import"./chunk-OHZSVTBE.js";import"./chunk-VIOSJ367.js";import"./chunk-TEL7Y7UN.js";import{q as z}from"./chunk-FSA22CPB.js";import{b as ct}from"./chunk-TS4O77IX.js";import"./chunk-M2YK6UF7.js";import"./chunk-BVQK7CK4.js";import"./chunk-AGZJ637K.js";import{a as q,c as K}from"./chunk-WTFDJO4H.js";import"./chunk-TQDHD3WD.js";import{i as U,o as B,s as R,t as j}from"./chunk-DWCYWQVU.js";import{Cc as M,Db as c,Dc as D,Eb as u,Fc as A,G as I,Gb as F,Hb as G,Ib as E,Jb as f,Kb as t,L,Lb as e,Mb as y,Mc as P,Nc as T,Qb as w,Ub as p,Vb as m,_a as s,dc as N,fa as C,hc as O,ic as n,jc as x,kb as V,kc as v,la as g,lc as k,ma as _,mc as $,va as h}from"./chunk-5AECHVKR.js";import{f as b}from"./chunk-EQDQRRRY.js";var Tt=(a,i)=>i._id;function It(a,i){a&1&&(t(0,"div",48),y(1,"mat-spinner",49),e())}function Lt(a,i){if(a&1){let o=w();t(0,"div",50)(1,"div",52)(2,"mat-icon",53),n(3,"people_outline"),e()(),t(4,"h3",54),n(5,"No guests found"),e(),t(6,"p",55),n(7,"Get started by creating your first guest profile."),e(),t(8,"button",6),p("click",function(){g(o);let l=m(2);return _(l.createGuest())}),t(9,"mat-icon",7),n(10,"person_add"),e(),n(11," Create Guest "),e()()}}function Vt(a,i){if(a&1&&(t(0,"div",71),n(1),e()),a&2){let o=m().$implicit;s(),v(" ",o.nationality," ")}}function Ft(a,i){a&1&&(t(0,"mat-icon",80),n(1,"star"),e())}function Nt(a,i){a&1&&(t(0,"mat-icon",80),n(1,"block"),e())}function Ot(a,i){a&1&&(t(0,"mat-icon",80),n(1,"repeat"),e())}function $t(a,i){a&1&&(t(0,"mat-icon",80),n(1,"star_border"),e())}function Dt(a,i){a&1&&(t(0,"span",81)(1,"mat-icon",80),n(2,"star"),e(),n(3," VIP "),e())}function At(a,i){a&1&&(t(0,"span",82)(1,"mat-icon",80),n(2,"block"),e(),n(3," Blacklisted "),e())}function Ut(a,i){a&1&&(t(0,"mat-icon",88),n(1,"hourglass_empty"),e())}function Bt(a,i){if(a&1&&(t(0,"mat-icon"),n(1),e()),a&2){let o=m().$implicit;s(),x(o.isVip?"star_border":"star")}}function Rt(a,i){a&1&&(t(0,"mat-icon",88),n(1,"hourglass_empty"),e())}function jt(a,i){if(a&1&&(t(0,"mat-icon"),n(1),e()),a&2){let o=m().$implicit;s(),x(o.blacklisted?"check_circle":"block")}}function qt(a,i){a&1&&(t(0,"mat-icon",88),n(1,"hourglass_empty"),e())}function Kt(a,i){a&1&&(t(0,"mat-icon"),n(1,"delete"),e())}function Yt(a,i){if(a&1){let o=w();t(0,"tr",64),p("click",function(){let l=g(o).$implicit,d=m(3);return _(d.viewGuestDetails(l))}),t(1,"td",65)(2,"div",66)(3,"div",67)(4,"div",68)(5,"span"),n(6),e()()(),t(7,"div",69)(8,"div",70),n(9),e(),c(10,Vt,2,1,"div",71),e()()(),t(11,"td",65)(12,"div")(13,"div",72),n(14),e(),t(15,"div",5),n(16),e()()(),t(17,"td",65)(18,"div",73)(19,"mat-icon",74),n(20,"hotel"),e(),t(21,"div")(22,"div",72),n(23),e(),t(24,"div",75),n(25," lifetime visits "),e()()()(),t(26,"td",65)(27,"div",73)(28,"mat-icon",76),n(29,"attach_money"),e(),t(30,"div")(31,"div",72),n(32),M(33,"currency"),e(),t(34,"div",75),n(35," total revenue "),e()()()(),t(36,"td",65)(37,"div",73)(38,"mat-icon",77),n(39,"schedule"),e(),t(40,"div")(41,"div",72),n(42),e(),t(43,"div",75),n(44," last visit "),e()()()(),t(45,"td",65)(46,"div",78)(47,"span",79),c(48,Ft,2,0,"mat-icon",80),c(49,Nt,2,0,"mat-icon",80),c(50,Ot,2,0,"mat-icon",80),c(51,$t,2,0,"mat-icon",80),n(52),M(53,"titlecase"),e(),c(54,Dt,4,0,"span",81),c(55,At,4,0,"span",82),e()(),t(56,"td",83)(57,"div",84),p("click",function(l){return g(o),_(l.stopPropagation())}),t(58,"button",85)(59,"mat-icon",86),n(60,"more_vert"),e()(),t(61,"mat-menu",null,0)(63,"button",87),p("click",function(){let l=g(o).$implicit,d=m(3);return _(d.viewGuestDetails(l))}),t(64,"mat-icon"),n(65,"visibility"),e(),t(66,"span"),n(67,"View Details"),e()(),t(68,"button",87),p("click",function(){let l=g(o).$implicit,d=m(3);return _(d.editGuest(l))}),t(69,"mat-icon"),n(70,"edit"),e(),t(71,"span"),n(72,"Edit Guest"),e()(),y(73,"mat-divider"),t(74,"button",87),p("click",function(){let l=g(o).$implicit,d=m(3);return _(d.toggleVipStatus(l))}),c(75,Ut,2,0,"mat-icon",88)(76,Bt,2,1,"mat-icon"),t(77,"span"),n(78),e()(),t(79,"button",87),p("click",function(){let l=g(o).$implicit,d=m(3);return _(d.toggleBlacklistStatus(l))}),c(80,Rt,2,0,"mat-icon",88)(81,jt,2,1,"mat-icon"),t(82,"span"),n(83),e()(),y(84,"mat-divider"),t(85,"button",89),p("click",function(){let l=g(o).$implicit,d=m(3);return _(d.deleteGuest(l))}),c(86,qt,2,0,"mat-icon",88)(87,Kt,2,0,"mat-icon"),t(88,"span"),n(89,"Delete Guest"),e()()()()()()}if(a&2){let o,r=i.$implicit,l=N(62),d=m(3);s(6),k("",r.firstName.charAt(0).toUpperCase(),"",r.lastName.charAt(0).toUpperCase()),s(3),k(" ",r.firstName," ",r.lastName," "),s(),u(r.nationality?10:-1),s(4),v(" ",r.email," "),s(2),v(" ",r.phone," "),s(7),v(" ",r.totalStays||0," stays "),s(9),v(" ",A(33,29,r.totalSpent||0,((o=d.selectedStore())==null?null:o.currency)||"USD","symbol","1.2-2")," "),s(10),v(" ",d.formatDate(r.lastStayDate)," "),s(5),f("ngClass",d.getGuestStatusClass(d.getGuestStatus(r))),s(),u(d.getGuestStatus(r)==="vip"?48:-1),s(),u(d.getGuestStatus(r)==="blacklisted"?49:-1),s(),u(d.getGuestStatus(r)==="returning"?50:-1),s(),u(d.getGuestStatus(r)==="new"?51:-1),s(),v(" ",D(53,34,d.getGuestStatus(r))," "),s(2),u(r.isVip&&d.getGuestStatus(r)!=="vip"?54:-1),s(),u(r.blacklisted&&d.getGuestStatus(r)!=="blacklisted"?55:-1),s(3),f("matMenuTriggerFor",l),s(5),f("disabled",d.isUpdating()),s(5),f("disabled",d.isUpdating()),s(6),f("disabled",d.isUpdating()),s(),u(d.isUpdating()?75:76),s(3),x(r.isVip?"Remove VIP":"Make VIP"),s(),f("disabled",d.isUpdating()),s(),u(d.isUpdating()?80:81),s(3),x(r.blacklisted?"Remove from Blacklist":"Add to Blacklist"),s(2),f("disabled",d.isUpdating()),s(),u(d.isUpdating()?86:87)}}function zt(a,i){if(a&1){let o=w();t(0,"button",93),p("click",function(){let l=g(o).$implicit,d=m(4);return _(d.onPageChange(l))}),n(1),e()}if(a&2){let o=i.$implicit,r=m(4);O(o===r.currentPage()?"bg-purple-600 text-white shadow-md":"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50"),s(),v(" ",o," ")}}function Ht(a,i){if(a&1){let o=w();t(0,"div",63)(1,"div",45)(2,"div",90),n(3),e(),t(4,"div",73)(5,"button",91),p("click",function(){g(o);let l=m(3);return _(l.onPageChange(l.currentPage()-1))}),t(6,"mat-icon",7),n(7,"chevron_left"),e()(),G(8,zt,2,3,"button",92,F),t(10,"button",91),p("click",function(){g(o);let l=m(3);return _(l.onPageChange(l.currentPage()+1))}),t(11,"mat-icon",7),n(12,"chevron_right"),e()()()()()}if(a&2){let o=m(3);s(3),$(" Showing ",(o.currentPage()-1)*20+1," to ",o.Math.min(o.currentPage()*20,o.totalGuests())," of ",o.totalGuests()," guests "),s(2),f("disabled",o.currentPage()===1),s(3),E(o.getPageNumbers()),s(2),f("disabled",o.currentPage()===o.totalPages())}}function Jt(a,i){if(a&1&&(t(0,"div",51)(1,"div",56)(2,"table",57)(3,"thead",58)(4,"tr")(5,"th",59),n(6," Guest Information "),e(),t(7,"th",59),n(8," Contact Details "),e(),t(9,"th",59),n(10," Stay Statistics "),e(),t(11,"th",59),n(12," Total Spent "),e(),t(13,"th",59),n(14," Last Stay "),e(),t(15,"th",59),n(16," Status "),e(),t(17,"th",60),n(18," Actions "),e()()(),t(19,"tbody",61),G(20,Yt,90,36,"tr",62,Tt),e()()(),c(22,Ht,13,5,"div",63),e()),a&2){let o=m(2);s(20),E(o.filteredGuests()),s(2),u(o.totalPages()>1?22:-1)}}function Qt(a,i){if(a&1&&(t(0,"div",9),c(1,Lt,12,0,"div",50)(2,Jt,23,1,"div",51),e()),a&2){let o=m();s(),u(o.filteredGuests().length===0?1:2)}}var Mt=class a{router=C(K);route=C(q);fb=C(et);snackBar=C(H);dialog=C(vt);guestService=C(kt);storeStore=C(ct);guests=h([]);loading=h(!1);searchTerm=h("");currentPage=h(1);totalGuests=h(0);totalPages=h(0);selectedGuest=h(null);isUpdating=h(!1);guestStats=h({total:0,vip:0,recent:0,returning:0,new:0,blacklisted:0});searchForm;selectedStore=P(()=>this.storeStore.selectedStore());filteredGuests=P(()=>{let i=this.guests(),o=this.searchTerm().toLowerCase();return o?i.filter(r=>r.firstName.toLowerCase().includes(o)||r.lastName.toLowerCase().includes(o)||r.email.toLowerCase().includes(o)||r.phone.toLowerCase().includes(o)):i});constructor(){this.searchForm=this.fb.group({search:[""],nationality:[""],isVip:[""],blacklisted:[""]}),T(()=>{let i=this.searchForm.value;i.search!==this.searchTerm()&&this.searchTerm.set(i.search||"")}),T(()=>{let i=this.selectedStore();i?._id&&(console.log("Store changed in guest list:",i.name,i._id),this.loadGuests(),this.loadGuestStats())}),this.searchForm.get("search")?.valueChanges.pipe(I(300),L()).subscribe(i=>{this.searchTerm.set(i||""),this.searchGuests()})}ngOnInit(){this.selectedStore()?._id&&(this.loadGuests(),this.loadGuestStats())}loadGuests(){return b(this,null,function*(){let i=this.selectedStore();if(!i?._id){console.log("No store selected, skipping guest load"),this.guests.set([]),this.totalGuests.set(0),this.totalPages.set(0);return}this.loading.set(!0);try{console.log("Loading guests for store:",i.name,i._id);let o=yield this.guestService.searchGuests(this.searchTerm(),this.currentPage(),20,i._id).toPromise();this.guests.set(o.guests||[]),this.totalGuests.set(o.total||0),this.totalPages.set(o.totalPages||0)}catch(o){console.error("Error loading guests:",o),this.showError("Failed to load guests")}finally{this.loading.set(!1)}})}loadGuestStats(){return b(this,null,function*(){try{let i=this.selectedStore()?._id,o=yield this.guestService.getGuestStats(i).toPromise();this.guestStats.set(o)}catch(i){console.error("Error loading guest stats:",i)}})}searchGuests(){return b(this,null,function*(){this.currentPage.set(1),yield this.loadGuests()})}onPageChange(i){this.currentPage.set(i),this.loadGuests()}clearFilters(){this.searchForm.reset(),this.searchTerm.set(""),this.currentPage.set(1),this.loadGuests()}viewGuestDetails(i){this.router.navigate(["../details",i._id],{relativeTo:this.route})}editGuest(i){this.router.navigate(["../edit",i._id],{relativeTo:this.route})}createGuest(){this.router.navigate(["../create"],{relativeTo:this.route})}deleteGuest(i){return b(this,null,function*(){let o=`${i.firstName} ${i.lastName}`;if(confirm(`\u26A0\uFE0F PERMANENTLY DELETE GUEST

Guest: ${o}
Email: ${i.email}
Phone: ${i.phone}
Total Stays: ${i.totalStays||0}
Total Spent: ${(i.totalSpent||0)|0}

This action CANNOT be undone. All guest data, reservations, and history will be permanently removed.

Are you absolutely sure you want to delete this guest?`)&&confirm(`\u{1F6A8} FINAL CONFIRMATION

You are about to permanently delete ${o}.

Type confirmation: This will delete ALL data for this guest.

Click OK to proceed with deletion or Cancel to abort.`)){this.isUpdating.set(!0);try{yield this.guestService.deleteGuest(i._id).toPromise(),this.showSuccess(`Guest ${o} has been permanently deleted`),this.guests.update(d=>d.filter(S=>S._id!==i._id)),yield this.loadGuestStats()}catch(d){console.error("Error deleting guest:",d),this.showError(`Failed to delete guest ${o}. Please try again.`)}finally{this.isUpdating.set(!1)}}})}toggleVipStatus(i){return b(this,null,function*(){let o=`${i.firstName} ${i.lastName}`;if(i.isVip){if(!confirm(`Are you sure you want to remove VIP status from ${o}?

This will remove all VIP benefits and privileges.`))return;yield this.updateVipStatus(i._id,!1)}else{let r=`Add VIP status to ${o}?

VIP Benefits include:
\u2022 Priority reservations and check-in
\u2022 Complimentary room upgrades (when available)
\u2022 Late checkout privileges
\u2022 Access to exclusive amenities
\u2022 Dedicated customer service
\u2022 Special welcome gifts and services`;if(!confirm(r))return;yield this.updateVipStatus(i._id,!0)}})}toggleBlacklistStatus(i){return b(this,null,function*(){let o=`${i.firstName} ${i.lastName}`;if(i.blacklisted){if(!confirm(`Are you sure you want to remove ${o} from the blacklist?`))return;yield this.updateBlacklistStatus(i._id,!1,"")}else yield this.addToBlacklist(o,i._id)})}addToBlacklist(i,o){return b(this,null,function*(){let r=prompt(`Please provide a reason for blacklisting ${i}:

This action will:
\u2022 Prevent future reservations
\u2022 Flag the guest account
\u2022 Require manager approval for any bookings

Reason (required):`,"");if(r!==null){if(!r.trim()){alert("A reason is required to blacklist a guest.");return}yield this.updateBlacklistStatus(o,!0,r.trim())}})}updateVipStatus(i,o){return b(this,null,function*(){this.isUpdating.set(!0);try{let r={isVip:o};o&&(r.vipSince=new Date().toISOString());let l=yield this.guestService.updateGuest(i,r).toPromise();if(l){this.updateGuestInList(l);let d=`${l.firstName} ${l.lastName}`,S=o?"granted VIP status":"removed from VIP status";this.showSuccess(`${d} ${S} successfully`),yield this.loadGuestStats()}}catch(r){console.error("Error updating VIP status:",r),this.showError("Failed to update VIP status. Please try again.")}finally{this.isUpdating.set(!1)}})}updateBlacklistStatus(i,o,r){return b(this,null,function*(){this.isUpdating.set(!0);try{let l={blacklisted:o};o&&r&&(l.blacklistReason=r,l.blacklistedAt=new Date().toISOString());let d=yield this.guestService.updateGuest(i,l).toPromise();if(d){this.updateGuestInList(d);let S=`${d.firstName} ${d.lastName}`,Pt=o?"added to blacklist":"removed from blacklist";this.showSuccess(`${S} ${Pt} successfully`),yield this.loadGuestStats()}}catch(l){console.error("Error updating blacklist status:",l),this.showError("Failed to update blacklist status. Please try again.")}finally{this.isUpdating.set(!1)}})}updateGuestInList(i){let r=this.guests().map(l=>l._id===i._id?i:l);this.guests.set(r)}getGuestStatus(i){return i.blacklisted?"blacklisted":i.isVip?"vip":i.totalStays&&i.totalStays>5?"returning":i.totalStays===1?"new":"regular"}getGuestStatusClass(i){return{vip:"bg-purple-100 text-purple-800",returning:"bg-blue-100 text-blue-800",new:"bg-green-100 text-green-800",regular:"bg-gray-100 text-gray-800",blacklisted:"bg-red-100 text-red-800"}[i]||"bg-gray-100 text-gray-800"}formatDate(i){return i?new Date(i).toLocaleDateString():"Never"}Math=Math;Array=Array;getPageNumbers(){let i=this.totalPages(),o=this.currentPage(),r=[];for(let l=Math.max(1,o-2);l<=Math.min(i,o+2);l++)r.push(l);return r}showSuccess(i){this.snackBar.open(i,"Close",{duration:3e3,panelClass:["success-snackbar"]})}showError(i){this.snackBar.open(i,"Close",{duration:5e3,panelClass:["error-snackbar"]})}showInfo(i){this.snackBar.open(i,"Close",{duration:3e3,panelClass:["info-snackbar"]})}static \u0275fac=function(o){return new(o||a)};static \u0275cmp=V({type:a,selectors:[["app-list-guests"]],decls:141,vars:10,consts:[["actionsMenu","matMenu"],[1,"bg-gradient-to-r","from-purple-50","to-indigo-50","border-b","border-purple-100"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","justify-between","items-center","py-6"],[1,"text-3xl","font-bold","text-gray-900","mb-1"],[1,"text-sm","text-gray-600"],[1,"!bg-gradient-to-r","!from-purple-600","!to-purple-700","hover:!from-purple-700","hover:!to-purple-800","!text-white","px-6","py-3","rounded-lg","font-medium","transition-all","duration-200","shadow-lg","hover:shadow-xl","transform","hover:scale-105","inline-flex","items-center","gap-2",3,"click"],[1,"text-lg"],[1,"bg-white","shadow-sm","border-b","border-gray-100"],[1,"max-w-7xl","mx-auto","px-4","sm:px-6","lg:px-8","py-6"],[1,"grid","grid-cols-2","md:grid-cols-3","lg:grid-cols-6","gap-4"],[1,"bg-gradient-to-br","from-purple-50","to-purple-100","rounded-xl","border","border-purple-200","p-4","shadow-sm","hover:shadow-md","transition-all","duration-200"],[1,"flex","items-center","gap-3"],[1,"w-12","h-12","bg-gradient-to-r","from-purple-500","to-purple-600","rounded-full","flex","items-center","justify-center","shadow-lg"],[1,"text-white","text-xl"],[1,"text-2xl","font-bold","text-gray-900"],[1,"text-sm","font-medium","text-gray-600"],[1,"bg-gradient-to-br","from-amber-50","to-amber-100","rounded-xl","border","border-amber-200","p-4","shadow-sm","hover:shadow-md","transition-all","duration-200"],[1,"w-12","h-12","bg-gradient-to-r","from-amber-500","to-amber-600","rounded-full","flex","items-center","justify-center","shadow-lg"],[1,"bg-gradient-to-br","from-blue-50","to-blue-100","rounded-xl","border","border-blue-200","p-4","shadow-sm","hover:shadow-md","transition-all","duration-200"],[1,"w-12","h-12","bg-gradient-to-r","from-blue-500","to-blue-600","rounded-full","flex","items-center","justify-center","shadow-lg"],[1,"bg-gradient-to-br","from-green-50","to-green-100","rounded-xl","border","border-green-200","p-4","shadow-sm","hover:shadow-md","transition-all","duration-200"],[1,"w-12","h-12","bg-gradient-to-r","from-green-500","to-green-600","rounded-full","flex","items-center","justify-center","shadow-lg"],[1,"bg-gradient-to-br","from-teal-50","to-teal-100","rounded-xl","border","border-teal-200","p-4","shadow-sm","hover:shadow-md","transition-all","duration-200"],[1,"w-12","h-12","bg-gradient-to-r","from-teal-500","to-teal-600","rounded-full","flex","items-center","justify-center","shadow-lg"],[1,"bg-gradient-to-br","from-red-50","to-red-100","rounded-xl","border","border-red-200","p-4","shadow-sm","hover:shadow-md","transition-all","duration-200"],[1,"w-12","h-12","bg-gradient-to-r","from-red-500","to-red-600","rounded-full","flex","items-center","justify-center","shadow-lg"],[1,"bg-white","border-b","border-gray-200"],[3,"formGroup"],[1,"grid","grid-cols-1","md:grid-cols-2","lg:grid-cols-4","gap-4","mb-4"],[1,"lg:col-span-2"],["appearance","outline",1,"w-full","[&_.mdc-text-field--outlined]:!bg-gray-50","[&_.mdc-text-field--outlined]:!border-gray-200","hover:[&_.mdc-text-field--outlined]:!border-purple-300","[&_.mdc-text-field--focused_.mdc-text-field--outlined]:!border-purple-500"],["matInput","","formControlName","search","placeholder","Name, email, or phone",1,"!bg-gray-50"],["matPrefix","",1,"text-gray-400"],["formControlName","nationality"],["value",""],["value","US"],["value","UK"],["value","CA"],["value","DE"],["value","FR"],["formControlName","isVip"],["value","true"],["value","false"],["formControlName","blacklisted"],[1,"flex","items-center","justify-between"],["type","button",1,"px-4","py-2","text-sm","font-medium","text-gray-700","bg-white","border","border-gray-300","rounded-lg","hover:bg-gray-50","hover:border-gray-400","transition-all","duration-200","flex","items-center","gap-2",3,"click"],[1,"flex","items-center","text-sm","text-gray-600"],[1,"flex","justify-center","items-center","py-16"],["diameter","40"],[1,"text-center","py-16"],[1,"bg-white","rounded-lg","shadow-sm","border","border-gray-200","overflow-hidden","mb-6"],[1,"bg-gray-50","rounded-full","w-24","h-24","flex","items-center","justify-center","mx-auto","mb-4"],[1,"text-gray-400","text-4xl"],[1,"text-lg","font-semibold","text-gray-900","mb-2"],[1,"text-gray-600","mb-6"],[1,"overflow-x-auto"],[1,"min-w-full","divide-y","divide-gray-200"],[1,"bg-gradient-to-r","from-gray-50","to-gray-100"],[1,"px-6","py-4","text-left","text-xs","font-semibold","text-gray-700","uppercase","tracking-wider","border-b-2","border-gray-200"],[1,"px-6","py-4","text-right","text-xs","font-semibold","text-gray-700","uppercase","tracking-wider","border-b-2","border-gray-200"],[1,"bg-white","divide-y","divide-gray-100"],[1,"hover:bg-gray-50","transition-colors","duration-200","cursor-pointer"],[1,"px-6","py-4","border-t","border-gray-200","bg-gradient-to-r","from-gray-50","to-gray-100"],[1,"hover:bg-gray-50","transition-colors","duration-200","cursor-pointer",3,"click"],[1,"px-6","py-4","whitespace-nowrap","border-b","border-gray-100"],[1,"flex","items-center"],[1,"flex-shrink-0","h-12","w-12"],[1,"h-12","w-12","rounded-full","bg-gradient-to-br","from-purple-500","to-purple-600","flex","items-center","justify-center","text-white","font-bold","text-lg","shadow-md","ring-2","ring-purple-200"],[1,"ml-4"],[1,"text-sm","font-semibold","text-gray-900"],[1,"text-xs","text-gray-500","font-medium"],[1,"text-sm","font-medium","text-gray-900"],[1,"flex","items-center","space-x-2"],[1,"text-blue-600","text-lg"],[1,"text-xs","text-gray-500"],[1,"text-green-600","text-lg"],[1,"text-orange-600","text-lg"],[1,"flex","flex-col","space-y-1"],[1,"inline-flex","items-center","px-3","py-1","rounded-full","text-xs","font-medium","border",3,"ngClass"],[1,"text-xs","mr-1"],[1,"inline-flex","items-center","px-2","py-0.5","rounded-full","text-xs","font-medium","bg-gradient-to-r","from-purple-100","to-purple-200","text-purple-800","border","border-purple-300"],[1,"inline-flex","items-center","px-2","py-0.5","rounded-full","text-xs","font-medium","bg-gradient-to-r","from-red-100","to-red-200","text-red-800","border","border-red-300"],[1,"px-6","py-4","whitespace-nowrap","text-right","text-sm","font-medium","border-b","border-gray-100"],[1,"flex","justify-end",3,"click"],["matTooltip","Actions",1,"text-gray-600","hover:text-gray-800","bg-gray-50","hover:bg-gray-100","p-2","rounded-full","transition-all","duration-200","border","border-gray-200","hover:border-gray-300",3,"matMenuTriggerFor"],[1,"text-sm"],["mat-menu-item","",3,"click","disabled"],[1,"animate-spin"],["mat-menu-item","",1,"text-red-600",3,"click","disabled"],[1,"text-sm","text-gray-700","font-medium"],[1,"px-3","py-2","text-sm","font-medium","text-gray-700","bg-white","border","border-gray-300","rounded-lg","hover:bg-gray-50","hover:border-gray-400","transition-all","duration-200","disabled:opacity-50","disabled:cursor-not-allowed",3,"click","disabled"],[1,"px-4","py-2","text-sm","font-medium","rounded-lg","transition-all","duration-200",3,"class"],[1,"px-4","py-2","text-sm","font-medium","rounded-lg","transition-all","duration-200",3,"click"]],template:function(o,r){o&1&&(t(0,"div",1)(1,"div",2)(2,"div",3)(3,"div")(4,"h1",4),n(5,"Guests"),e(),t(6,"p",5),n(7,"Manage guest profiles and information"),e()(),t(8,"button",6),p("click",function(){return r.createGuest()}),t(9,"mat-icon",7),n(10,"person_add"),e(),n(11," New Guest "),e()()()(),t(12,"div",8)(13,"div",9)(14,"div",10)(15,"div",11)(16,"div",12)(17,"div",13)(18,"mat-icon",14),n(19,"people"),e()(),t(20,"div")(21,"div",15),n(22),e(),t(23,"div",16),n(24,"Total"),e()()()(),t(25,"div",17)(26,"div",12)(27,"div",18)(28,"mat-icon",14),n(29,"star"),e()(),t(30,"div")(31,"div",15),n(32),e(),t(33,"div",16),n(34,"VIP"),e()()()(),t(35,"div",19)(36,"div",12)(37,"div",20)(38,"mat-icon",14),n(39,"repeat"),e()(),t(40,"div")(41,"div",15),n(42),e(),t(43,"div",16),n(44,"Returning"),e()()()(),t(45,"div",21)(46,"div",12)(47,"div",22)(48,"mat-icon",14),n(49,"person_add"),e()(),t(50,"div")(51,"div",15),n(52),e(),t(53,"div",16),n(54,"New"),e()()()(),t(55,"div",23)(56,"div",12)(57,"div",24)(58,"mat-icon",14),n(59,"schedule"),e()(),t(60,"div")(61,"div",15),n(62),e(),t(63,"div",16),n(64,"Recent"),e()()()(),t(65,"div",25)(66,"div",12)(67,"div",26)(68,"mat-icon",14),n(69,"block"),e()(),t(70,"div")(71,"div",15),n(72),e(),t(73,"div",16),n(74,"Blacklisted"),e()()()()()()(),t(75,"div",27)(76,"div",9)(77,"form",28)(78,"div",29)(79,"div",30)(80,"mat-form-field",31)(81,"mat-label"),n(82,"Search guests..."),e(),y(83,"input",32),t(84,"mat-icon",33),n(85,"search"),e()()(),t(86,"div")(87,"mat-form-field",31)(88,"mat-label"),n(89,"Nationality"),e(),t(90,"mat-select",34)(91,"mat-option",35),n(92,"All Countries"),e(),t(93,"mat-option",36),n(94,"United States"),e(),t(95,"mat-option",37),n(96,"United Kingdom"),e(),t(97,"mat-option",38),n(98,"Canada"),e(),t(99,"mat-option",39),n(100,"Germany"),e(),t(101,"mat-option",40),n(102,"France"),e()()()(),t(103,"div")(104,"mat-form-field",31)(105,"mat-label"),n(106,"Guest Type"),e(),t(107,"mat-select",41)(108,"mat-option",35),n(109,"All Guests"),e(),t(110,"mat-option",42),n(111,"VIP Guests"),e(),t(112,"mat-option",43),n(113,"Regular Guests"),e()()()()(),t(114,"div",29)(115,"div")(116,"mat-form-field",31)(117,"mat-label"),n(118,"Status"),e(),t(119,"mat-select",44)(120,"mat-option",35),n(121,"All Status"),e(),t(122,"mat-option",43),n(123,"Active"),e(),t(124,"mat-option",42),n(125,"Blacklisted"),e()()()()(),t(126,"div",45)(127,"div",12)(128,"button",46),p("click",function(){return r.clearFilters()}),t(129,"mat-icon",7),n(130,"clear"),e(),n(131," Clear Filters "),e(),t(132,"button",46),p("click",function(){return r.loadGuests()}),t(133,"mat-icon",7),n(134,"refresh"),e(),n(135," Refresh "),e()(),t(136,"div",47)(137,"span"),n(138),e()()()()()(),c(139,It,2,0,"div",48),c(140,Qt,3,1,"div",9)),o&2&&(s(22),x(r.guestStats().total||r.guests().length),s(10),x(r.guestStats().vip||0),s(10),x(r.guestStats().returning||0),s(10),x(r.guestStats().new||0),s(10),x(r.guestStats().recent||0),s(10),x(r.guestStats().blacklisted||0),s(5),f("formGroup",r.searchForm),s(61),v("Showing ",r.filteredGuests().length," guests"),s(),u(r.loading()?139:-1),s(),u(r.loading()?-1:140))},dependencies:[j,U,B,R,it,X,J,Q,W,Z,tt,lt,st,at,ot,rt,wt,yt,Y,z,mt,dt,Ct,nt,xt,_t,gt,ft,ht,bt,St,Et,Gt,pt,ut],styles:["[_nghost-%COMP%]{display:block}.status-vip[_ngcontent-%COMP%]{background-color:#f3e8ff;color:#7c3aed;border:1px solid #e9d5ff}.status-returning[_ngcontent-%COMP%]{background-color:#dbeafe;color:#2563eb;border:1px solid #bfdbfe}.status-new[_ngcontent-%COMP%]{background-color:#d1fae5;color:#059669;border:1px solid #a7f3d0}.status-regular[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#374151;border:1px solid #e5e7eb}.status-blacklisted[_ngcontent-%COMP%]{background-color:#fee2e2;color:#dc2626;border:1px solid #fecaca}  .success-snackbar{background-color:#10b981!important;color:#fff!important}  .error-snackbar{background-color:#ef4444!important;color:#fff!important}  .info-snackbar{background-color:#3b82f6!important;color:#fff!important}.mat-row[_ngcontent-%COMP%]{transition:background-color .2s ease}.mat-row[_ngcontent-%COMP%]:hover{background-color:#6366f10d!important}.action-button[_ngcontent-%COMP%]{display:inline-flex;align-items:center;padding:.375rem .75rem;font-size:.875rem;font-weight:500;border-radius:.375rem;transition:all .2s ease}.action-button.primary[_ngcontent-%COMP%]{background-color:#8b5cf6;color:#fff;box-shadow:0 1px 2px #0000000d}.action-button.primary[_ngcontent-%COMP%]:hover{background-color:#7c3aed;box-shadow:0 4px 6px #0000001a}.action-button.secondary[_ngcontent-%COMP%]{background-color:#f3f4f6;color:#374151}.action-button.secondary[_ngcontent-%COMP%]:hover{background-color:#e5e7eb}.action-button.danger[_ngcontent-%COMP%]{background-color:#fee2e2;color:#dc2626}.action-button.danger[_ngcontent-%COMP%]:hover{background-color:#fecaca}.stats-card[_ngcontent-%COMP%]{transition:all .3s ease}.stats-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 10px 25px #0000001a}  .mat-form-field .mat-form-field-outline{color:#0000001f}  .mat-form-field.mat-focused .mat-form-field-outline-thick{color:#8b5cf6}  .mat-form-field .mat-form-field-label{color:#0009}  .mat-form-field.mat-focused .mat-form-field-label{color:#8b5cf6}  .mat-progress-spinner circle{stroke:#8b5cf6}.animate-spin[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.filter-form[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.filter-form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.table-container[_ngcontent-%COMP%]{overflow-x:auto}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{min-width:600px}}@media (max-width: 640px){.stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.page-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{width:100%}}"]})};export{Mt as ListGuestsComponent};
