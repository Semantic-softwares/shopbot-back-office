import{a as ee,b as te,c as ie,d as ne}from"./chunk-ROH4PYZ5.js";import{a as ve}from"./chunk-UW66EWBB.js";import{b as oe}from"./chunk-XVO5TVTW.js";import{a as le,b as se,c as me,e as ce,f as pe,g as de,j as ue,l as _e}from"./chunk-T3KX74D3.js";import{a as ae,b as re}from"./chunk-FBHRMY6R.js";import{a as q,b as H,c as W,d as G,e as J}from"./chunk-C6EOK6L2.js";import{a as K,b as Q,c as X,d as Y}from"./chunk-U2JZUY6D.js";import{a as $}from"./chunk-VPPMXXDW.js";import"./chunk-HXICWX3M.js";import"./chunk-4YIJHWNC.js";import{c as Z}from"./chunk-EPNSEEH4.js";import"./chunk-MMNFDWV7.js";import"./chunk-CGDRKYIW.js";import"./chunk-SZWYIW32.js";import{a as U}from"./chunk-T4ACDKLD.js";import"./chunk-5QCN73SK.js";import"./chunk-NQRUH5DO.js";import"./chunk-QEF3JOQ3.js";import"./chunk-LSROOOYO.js";import"./chunk-7NDZPDVA.js";import{b as z,c as j}from"./chunk-OWLRGWNJ.js";import{$ as N,Y as B}from"./chunk-OS2CYUJN.js";import{e as D,f as F,g as O,h as R,i as A,l as V}from"./chunk-WFEXX4HI.js";import"./chunk-U2P6GFP5.js";import{$a as n,Dc as u,Gb as E,Hb as P,Ib as _,Kb as v,Lb as b,Mb as l,Nb as a,Ob as o,Pb as g,Wb as S,Xa as L,_b as x,ac as y,ea as p,ja as f,ka as h,kc as C,ob as T,pc as s,qc as d,rc as w,va as k}from"./chunk-IQSYHSID.js";import"./chunk-EQDQRRRY.js";var M=()=>["store-settings"];function ye(t,r){if(t&1&&(a(0,"a",5),g(1,"img",14),o()),t&2){let e,i=y();l("routerLink",u(3,M)),n(),l("routerLink",u(4,M))("src",(e=i.storeStore.selectedStore())==null?null:e.logo,L)}}function Me(t,r){t&1&&(a(0,"a",6)(1,"mat-icon"),s(2,"store"),o()())}function fe(t,r){if(t&1){let e=S();a(0,"button",15),x("click",function(){let m=f(e).$implicit,c=y();return h(c.selectStore(m))}),s(1),o()}if(t&2){let e,i=r.$implicit,m=y();l("disabled",i._id===((e=m.storeStore.selectedStore())==null?null:e._id)),n(),w(" ",i.name)}}function he(t,r){if(t&1&&(a(0,"a",17,1)(2,"mat-icon",18),s(3),o(),a(4,"span",19),s(5),o()()),t&2){let e=r.$implicit,i=C(1);l("routerLink",e.link)("activated",i.isActive),n(3),d(e.icon),n(2),d(e.label)}}function ke(t,r){if(t&1&&(a(0,"mat-expansion-panel",12)(1,"mat-expansion-panel-header")(2,"mat-panel-title")(3,"span",16),s(4),o()()(),v(5,he,6,4,"a",17,_),o()),t&2){let e=r.$implicit;l("expanded",!0),n(4),w(" ",e==null?null:e.name," "),n(),b(e.children)}}var be=class t{router=p(O);route=p(D);authService=p(U);storeStore=p($);isMobile=k(window.innerWidth<768);opened=k(!0);currentUser=Z(this.authService.currentUser,{initialValue:null});hasAllRequiredPermissions=this.authService.hasAnyPermission(["manage_users","manage_events","manage_companies","manage_dashboard","manage_settings"]);navItems=[{name:"Reports",children:[{icon:"leaderboard",label:"Sales summary",link:"./reports/summary",permission:"view_company"},{icon:"shop",label:"Sales by item",link:"./reports/sales-by-item",permission:"view_timeline"},{icon:"category",label:"Sales by category",link:"./reports/sales-by-category",permission:"view_company"},{icon:"diversity_1",label:"Sales by employee",link:"./reports/sales-by-employee",permission:"manage_home"},{icon:"payments",label:"Sales by payment type",link:"./reports/sales-by-payment-type",permission:"manage_home"},{icon:"description",label:"Receipts",link:"./reports/receipts",permission:"manage_home"}]},{name:"Items",children:[{icon:"local_mall",label:"Products",link:"./items/products",permission:"view_company"},{icon:"category_search",label:"Categories",link:"./items/categories",permission:"view_timeline"},{icon:"palette",label:"Modifiers",link:"./items/variants",permission:"view_company"},{icon:"check_box",label:"Options",link:"./items/options",permission:"view_company"}]},{name:"Tables",children:[{icon:"table_restaurant",label:"Tables",link:"./tables/list",permission:"view_company"},{icon:"category",label:"Table Categories",link:"./tables/categories/list",permission:"view_company"}]},{name:"Inventory",children:[{icon:"warehouse",label:"Suppliers",link:"./inventory/suppliers",permission:"view_company"},{icon:"inventory_2",label:"Restock",link:"./inventory/restock",permission:"view_company"},{icon:"calculate",label:"Reconciliations",link:"./inventory/reconciliations",permission:"view_company"}]},{name:"Employees",children:[{icon:"assignment_ind",label:"Employees",link:"./employees/list",permission:"view_company"},{icon:"access_time",label:"Timecards",link:"./employees/timecards/list",permission:"view_company"}]},{name:"Customers",children:[{icon:"groups",label:"Customers",link:"./customers/list",permission:"view_company"}]}];openLink(r){this.router.navigate([r],{relativeTo:this.route})}toggleSidenav(){this.opened.set(!this.opened())}goToProfile(){this.router.navigate(["dashboard","general","profile"])}selectStore(r){console.log("Selected store:",r),this.storeStore.setSelectedStore(r),window.location.reload()}static \u0275fac=function(e){return new(e||t)};static \u0275cmp=T({type:t,selectors:[["app-dashboard"]],decls:27,vars:10,consts:[["menu","matMenu"],["rla","routerLinkActive"],[1,"dashboard-container"],[3,"menuToggle"],[1,"!w-[20em]","!rounded-[0px]","px-2",3,"mode","opened"],["matListItemIcon","",1,"block","!mr-6",3,"routerLink"],["matListItemIcon","",1,"block"],["matListItemTitle","",3,"routerLink"],["matListItemLine","",3,"routerLink"],["matListItemMeta","","mat-icon-button","",1,"block",3,"matMenuTriggerFor"],["mat-menu-item","",3,"disabled"],["multi",""],[1,"mat-elevation-z0",3,"expanded"],[1,"p-4","bg-[#F9FAFB]","h-screen"],[1,"!w-full","!min-w-10","!mr-5","!max-w-100","h-10","rounded-full","object-cover",3,"routerLink","src"],["mat-menu-item","",3,"click","disabled"],[1,"flex","items-center"],["mat-list-item","","routerLinkActive","active-link",3,"routerLink","activated"],["matListItemIcon","",1,"material-icons-outlined"],["matListItemTitle",""]],template:function(e,i){if(e&1){let m=S();a(0,"div",2)(1,"app-toolbar",3),x("menuToggle",function(){return f(m),h(i.toggleSidenav())}),o(),a(2,"mat-sidenav-container")(3,"mat-sidenav",4)(4,"mat-list")(5,"mat-list-item"),E(6,ye,2,5,"a",5)(7,Me,3,0,"a",6),a(8,"h2",7),s(9),o(),a(10,"div",8),s(11),o(),a(12,"a",9)(13,"mat-icon"),s(14,"keyboard_arrow_down"),o()()(),g(15,"mat-divider"),o(),a(16,"mat-menu",null,0),v(18,fe,2,2,"button",10,_),o(),a(20,"mat-nav-list")(21,"mat-accordion",11),v(22,ke,7,2,"mat-expansion-panel",12,_),o()()(),a(24,"mat-sidenav-content")(25,"div",13),g(26,"router-outlet"),o()()()()}if(e&2){let m,c,I,ge=C(17);n(3),l("mode",i.isMobile()?"over":"side")("opened",i.opened()),n(3),P((m=i.storeStore.selectedStore())!=null&&m.logo?6:7),n(2),l("routerLink",u(8,M)),n(),d((c=i.currentUser())==null?null:c.role),n(),l("routerLink",u(9,M)),n(),d((I=i.storeStore.selectedStore())==null?null:I.name),n(),l("matMenuTriggerFor",ge),n(6),b(i.storeStore.stores()),n(4),b(i.navItems)}},dependencies:[ne,te,ie,ee,oe,_e,pe,ue,de,ce,ae,se,le,me,j,z,N,B,Y,Q,K,X,V,F,R,A,J,G,q,H,W,re,ve],styles:["[_nghost-%COMP%]{display:block;height:100%}.dashboard-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}mat-toolbar[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1000}mat-sidenav-container[_ngcontent-%COMP%]{flex:1;height:100%}mat-sidenav[_ngcontent-%COMP%]{box-shadow:2px 0 6px #0000001a}.mat-expansion-panel-spacing[_ngcontent-%COMP%]{margin:0}.mat-expansion-panel-body[_ngcontent-%COMP%]{padding:0 24px}.mat-sidenav-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.content[_ngcontent-%COMP%]{flex:1}.active-link[_ngcontent-%COMP%]{background:#0000000a;color:#1976d2}.active-link[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{color:#1976d2}.mdc-list-item__content[_ngcontent-%COMP%]{margin-left:5px!important}"]})};export{be as DashboardComponent};
