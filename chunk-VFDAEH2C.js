import{a as ue}from"./chunk-ZEC2X3UU.js";import{a as se}from"./chunk-E2CQF55V.js";import{a as _e}from"./chunk-43IVEMCZ.js";import{a as ce}from"./chunk-IPDJJ377.js";import{h as me}from"./chunk-PYMVMKZE.js";import{a as de}from"./chunk-DZT6VHYM.js";import{a as v,b as pe}from"./chunk-2EEFUGSW.js";import"./chunk-34V2NAQK.js";import"./chunk-JBPT7IMO.js";import{a as X,b as Y,c as Z,d as ee,e as te,f as ie,g as ne,h as ae,i as oe,j as le,k as re}from"./chunk-DQAEAUAH.js";import"./chunk-FK6H3RFT.js";import"./chunk-TRRVPZ2R.js";import{a as O,b as Q,c as j,d as A}from"./chunk-XCSZ2RSV.js";import{i as $}from"./chunk-WFQLSX5X.js";import"./chunk-D2CDDOVY.js";import"./chunk-S6O7RC67.js";import{c as U,d as W}from"./chunk-WD3LGOJ6.js";import"./chunk-KQ2NF2R5.js";import"./chunk-AQTPIICF.js";import"./chunk-GZ7S2I6F.js";import"./chunk-L5R7UQHM.js";import{b as L,d as J}from"./chunk-VN3HHLBZ.js";import"./chunk-THLNJRLH.js";import"./chunk-GBJWJHBW.js";import{a as K}from"./chunk-YJKLGOC4.js";import{B as G}from"./chunk-ADPCW6JI.js";import"./chunk-UUMWQRYG.js";import"./chunk-UPMF7ZC6.js";import"./chunk-BFT2MTJY.js";import"./chunk-EALJFX3J.js";import"./chunk-5AHC55Y5.js";import"./chunk-TVQ3FP64.js";import"./chunk-47XHPHB4.js";import{b as H,c as N}from"./chunk-IYN665YT.js";import{Z as q,aa as z}from"./chunk-OYVOT3CA.js";import"./chunk-DWM5GR6S.js";import{o as k,p as F,r as V}from"./chunk-6BQAOBQP.js";import{$a as m,Gb as w,Hb as b,Jc as S,Kc as P,Lc as C,Mb as u,Nb as n,Ob as a,Pb as _,Tb as c,Ub as s,Wb as B,_b as h,ac as f,ea as y,ec as D,fc as T,gc as R,ja as x,ka as E,kc as I,ob as M,pc as o,qc as d,ub as p}from"./chunk-H33Y42PP.js";import"./chunk-GAL4ENT6.js";function Se(e,i){e&1&&(n(0,"mat-header-cell"),o(1,"Name"),a())}function ye(e,i){if(e&1&&(n(0,"mat-cell"),o(1),a()),e&2){let t=i.$implicit;m(),d((t==null?null:t.name)??"Removed user")}}function Ce(e,i){e&1&&(n(0,"mat-header-cell"),o(1,"Gross Sales"),a())}function xe(e,i){if(e&1&&(n(0,"mat-cell"),o(1),S(2,"currency"),a()),e&2){let t,l=i.$implicit,r=f(2);m(),d(C(2,1,l.grossSales,(t=r.storeStore.selectedStore())==null?null:t.currency))}}function Ee(e,i){e&1&&(n(0,"mat-header-cell"),o(1,"Refunds"),a())}function he(e,i){if(e&1&&(n(0,"mat-cell"),o(1),S(2,"currency"),a()),e&2){let t,l=i.$implicit,r=f(2);m(),d(C(2,1,l.refunds,(t=r.storeStore.selectedStore())==null?null:t.currency))}}function ve(e,i){e&1&&(n(0,"mat-header-cell"),o(1,"Discounts"),a())}function ge(e,i){if(e&1&&(n(0,"mat-cell"),o(1),S(2,"percent"),a()),e&2){let t=i.$implicit;m(),d(P(2,1,t.discounts))}}function Me(e,i){e&1&&(n(0,"mat-header-cell"),o(1,"Net Sales"),a())}function we(e,i){if(e&1&&(n(0,"mat-cell"),o(1),S(2,"currency"),a()),e&2){let t,l=i.$implicit,r=f(2);m(),d(C(2,1,l.netSales,(t=r.storeStore.selectedStore())==null?null:t.currency))}}function be(e,i){e&1&&(n(0,"mat-header-cell"),o(1,"Receipts"),a())}function Be(e,i){if(e&1&&(n(0,"mat-cell"),o(1),a()),e&2){let t=i.$implicit;m(),d(t.receipts)}}function De(e,i){e&1&&(n(0,"mat-header-cell"),o(1,"Average Sale"),a())}function Te(e,i){if(e&1&&(n(0,"mat-cell"),o(1),S(2,"currency"),a()),e&2){let t,l=i.$implicit,r=f(2);m(),d(C(2,1,l.averageSale,(t=r.storeStore.selectedStore())==null?null:t.currency))}}function Re(e,i){e&1&&_(0,"mat-header-row")}function Ie(e,i){e&1&&_(0,"mat-row")}function Pe(e,i){if(e&1&&(n(0,"div",9)(1,"mat-table",12),c(2,13),p(3,Se,2,0,"mat-header-cell",14)(4,ye,2,1,"mat-cell",15),s(),c(5,16),p(6,Ce,2,0,"mat-header-cell",14)(7,xe,3,4,"mat-cell",15),s(),c(8,17),p(9,Ee,2,0,"mat-header-cell",14)(10,he,3,4,"mat-cell",15),s(),c(11,18),p(12,ve,2,0,"mat-header-cell",14)(13,ge,3,3,"mat-cell",15),s(),c(14,19),p(15,Me,2,0,"mat-header-cell",14)(16,we,3,4,"mat-cell",15),s(),c(17,20),p(18,be,2,0,"mat-header-cell",14)(19,Be,2,1,"mat-cell",15),s(),c(20,21),p(21,De,2,0,"mat-header-cell",14)(22,Te,3,4,"mat-cell",15),s(),p(23,Re,1,0,"mat-header-row",22)(24,Ie,1,0,"mat-row",23),a(),_(25,"mat-paginator",24),a()),e&2){let t=f();m(),u("dataSource",t.dataSource.value()),m(22),u("matHeaderRowDef",t.displayedColumns),m(),u("matRowDefColumns",t.displayedColumns),m(),u("pageSize",t.pageSize)("pageSizeOptions",t.pageSizeOptions)}}function ke(e,i){e&1&&(n(0,"div",10),_(1,"mat-spinner",25),a())}function Fe(e,i){e&1&&_(0,"app-no-record",11)}var fe=class e{queryParams=y(ce);orderService=y(de);storeStore=y($);query=U(this.queryParams.getAllParams$);displayedColumns=["name","grossSales","refunds","discounts","netSales","receipts","averageSale"];dataSource=W({params:()=>({storeId:this.storeStore.selectedStore()?._id,query:this.query()}),stream:({params:i})=>this.orderService.getSalesByEmployees(i.storeId,i.query)});paginator;pageSize=10;pageSizeOptions=[5,10,25,50];exportService=y(_e);exportData(i){if(!this.dataSource.value())return;let t=this.dataSource.value()||[],l="employee-sales";switch(i){case"pdf":this.exportService.exportEmployeeDataToPdf(t,l,{from:this.query().start,to:this.query().end});break;case"csv":this.exportService.exportToCSV(t,l);break;case"excel":this.exportService.exportToExcel(t,l);break}}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=M({type:e,selectors:[["app-sales-by-employee"]],viewQuery:function(t,l){if(t&1&&D(v,5),t&2){let r;T(r=R())&&(l.paginator=r.first)}},decls:31,vars:2,consts:[["exportMenu","matMenu"],[1,"p-4","bg-gray-50","min-h-screen"],[1,"flex","justify-between","items-center","mb-6","bg-white","p-4","rounded-lg","shadow-sm"],[1,"bg-white","rounded-lg","shadow-sm"],[1,"p-6","flex","justify-between","items-center","border-b"],[1,"text-lg","font-medium"],["mat-flat-button","","color","primary",3,"matMenuTriggerFor"],[1,"mr-2"],["mat-menu-item","",3,"click"],[1,"p-6"],[1,"flex","items-center","justify-center","min-h-[300px]"],["icon","inventory_2","title","No Employee Data Found","message","There are no employee sales data to display for the selected period."],[1,"w-full","!bg-white",3,"dataSource"],["matColumnDef","name"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","grossSales"],["matColumnDef","refunds"],["matColumnDef","discounts"],["matColumnDef","netSales"],["matColumnDef","receipts"],["matColumnDef","averageSale"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page",1,"!bg-white",3,"pageSize","pageSizeOptions"],["diameter","40"]],template:function(t,l){if(t&1){let r=B();n(0,"div",1)(1,"div",2),_(2,"date-range-selector"),a(),n(3,"div",3)(4,"div",4)(5,"h2",5),o(6,"Sales by Employee"),a(),n(7,"button",6)(8,"mat-icon",7),o(9,"file_download"),a(),o(10," Export Data "),a(),n(11,"mat-menu",null,0)(13,"button",8),h("click",function(){return x(r),E(l.exportData("pdf"))}),n(14,"mat-icon"),o(15,"picture_as_pdf"),a(),n(16,"span"),o(17,"Export as PDF"),a()(),n(18,"button",8),h("click",function(){return x(r),E(l.exportData("csv"))}),n(19,"mat-icon"),o(20,"description"),a(),n(21,"span"),o(22,"Export as CSV"),a()(),n(23,"button",8),h("click",function(){return x(r),E(l.exportData("excel"))}),n(24,"mat-icon"),o(25,"table_chart"),a(),n(26,"span"),o(27,"Export as Excel"),a()()()(),w(28,Pe,26,5,"div",9)(29,ke,2,0,"div",10)(30,Fe,1,0,"app-no-record",11),a()()}if(t&2){let r=I(12);m(7),u("matMenuTriggerFor",r),m(21),b(l.dataSource.hasValue()?28:l.dataSource.isLoading()?29:30)}},dependencies:[V,re,X,Z,ne,ee,Y,ae,te,ie,oe,le,pe,v,z,q,N,H,me,L,J,G,ue,K,se,A,Q,O,j,k,F],encapsulation:2})};export{fe as SalesByEmployeeComponent};
