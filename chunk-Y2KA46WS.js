import{a as me}from"./chunk-RUZ72OGJ.js";import{a as le,b as de}from"./chunk-57GZGP3R.js";import{a as H}from"./chunk-4WFQ5GOX.js";import{a as re,c as ae}from"./chunk-KNNK3RCH.js";import{a as Z,b as ee}from"./chunk-WVHZJWJP.js";import{a as te,c as ie,d as ne,e as oe}from"./chunk-OTA24DIU.js";import"./chunk-QMUPRLKR.js";import"./chunk-CXVWFC6J.js";import"./chunk-JTLCVARK.js";import{a as K,b as q,c as G,f as Q,g as J}from"./chunk-UOL4Y3DN.js";import{a as X,b as Y}from"./chunk-MCIFQNRK.js";import"./chunk-OHZSVTBE.js";import"./chunk-IKGBOHBU.js";import"./chunk-SIHSJGX2.js";import{W,Y as z}from"./chunk-BPRDVRQX.js";import"./chunk-AGZJ637K.js";import{a as N,c as P,i as U}from"./chunk-WTFDJO4H.js";import"./chunk-TQDHD3WD.js";import{i as L,p as O,t as j}from"./chunk-DWCYWQVU.js";import{Cc as D,Db as s,Eb as p,Ec as I,Gb as R,Hb as w,Ib as k,Jb as h,Kb as t,Lb as e,Mb as T,Mc as M,Qb as S,Ub as x,Vb as m,X as v,_a as l,dc as V,fa as C,g as B,ic as i,jc as c,kb as A,kc as y,la as u,ma as g,qc as F,rc as $,sc as f,va as b,yc as E}from"./chunk-5AECHVKR.js";import"./chunk-EQDQRRRY.js";var se=(r,o)=>({"bg-green-100 text-green-800 ring-green-200":r,"bg-red-100 text-red-800 ring-red-200":o}),pe=(r,o)=>({"bg-green-600":r,"bg-red-600":o}),xe=(r,o)=>({"!border-green-600 !text-green-700 hover:!bg-green-50":r,"!border-red-600 !text-red-700 hover:!bg-red-50":o});function ue(r,o){if(r&1&&(t(0,"h1",10),i(1),e(),t(2,"p",11),i(3,"Room type details and configuration"),e()),r&2){let n=m().roomType();l(),c(n.name)}}function ge(r,o){r&1&&(t(0,"h1",10),i(1,"Loading Room Type..."),e(),t(2,"p",11),i(3,"Fetching room type details"),e())}function fe(r,o){if(r&1){let n=S();t(0,"div",6)(1,"span",12),T(2,"span",13),i(3),e(),t(4,"button",14)(5,"mat-icon"),i(6,"more_vert"),e()(),t(7,"mat-menu",null,0)(9,"button",15),x("click",function(){u(n);let d=m();return g(d.onEdit())}),t(10,"mat-icon"),i(11,"edit"),e(),t(12,"span"),i(13,"Edit Room Type"),e()(),t(14,"button",15),x("click",function(){u(n);let d=m();return g(d.onToggleActive())}),t(15,"mat-icon"),i(16),e(),t(17,"span"),i(18),e()(),T(19,"mat-divider"),t(20,"button",16),x("click",function(){u(n);let d=m();return g(d.onDelete())}),t(21,"mat-icon"),i(22,"delete"),e(),t(23,"span"),i(24,"Delete Room Type"),e()()(),t(25,"button",17),x("click",function(){u(n);let d=m();return g(d.onEdit())}),t(26,"mat-icon",18),i(27,"edit"),e(),i(28," Edit "),e()()}if(r&2){let n=V(8),a=m().roomType();l(),h("ngClass",E(6,se,a.active,!a.active)),l(),h("ngClass",E(9,pe,a.active,!a.active)),l(),y(" ",a.active?"Active":"Inactive"," "),l(),h("matMenuTriggerFor",n),l(12),c(a.active?"toggle_off":"toggle_on"),l(2),c(a.active?"Deactivate":"Activate")}}function ye(r,o){r&1&&(t(0,"div",7),T(1,"mat-spinner",19),t(2,"span",20),i(3,"Loading room type details..."),e()())}function _e(r,o){if(r&1){let n=S();t(0,"div",8)(1,"div",21)(2,"mat-icon",22),i(3,"error"),e()(),t(4,"h3",23),i(5,"Error Loading Room Type"),e(),t(6,"p",24),i(7),e(),t(8,"button",25),x("click",function(){u(n);let d=m();return g(d.goBack())}),t(9,"mat-icon",18),i(10,"arrow_back"),e(),i(11," Go Back "),e()()}if(r&2){let n=m();l(7),c(n.error())}}function ve(r,o){if(r&1&&(t(0,"div")(1,"label",35),i(2,"Description"),e(),t(3,"div",63),i(4),e()()),r&2){m();let n=f(0);l(4),c(n.description)}}function Ce(r,o){if(r&1&&(t(0,"div")(1,"label",35),i(2,"Room Size"),e(),t(3,"div",36),i(4),e()()),r&2){m();let n=f(0);l(4),y("",n.size," sq ft")}}function be(r,o){if(r&1&&(t(0,"div")(1,"label",35),i(2,"Bed Configuration"),e(),t(3,"div",36),i(4),e()()),r&2){m();let n=f(0);l(4),c(n.bedConfiguration)}}function he(r,o){if(r&1&&(t(0,"div",47)(1,"div",64),i(2),e(),t(3,"div",35),i(4,"Infants"),e()()),r&2){m();let n=f(0);l(2),c(n.capacity.infants||0)}}function Te(r,o){if(r&1&&(t(0,"div",65)(1,"mat-icon",66),i(2,"check_circle"),e(),t(3,"span"),i(4),e()()),r&2){let n=o.$implicit;l(4),c(n)}}function Se(r,o){if(r&1&&(t(0,"div",49),w(1,Te,5,1,"div",65,R),e()),r&2){let n=m(2);l(),k(n.roomFeatures())}}function Ee(r,o){r&1&&(t(0,"div",50)(1,"mat-icon",67),i(2,"star_outline"),e(),t(3,"p"),i(4,"No specific features configured"),e()())}function Re(r,o){if(r&1&&(t(0,"mat-chip",68),i(1),e()),r&2){let n=o.$implicit;l(),y(" ",n," ")}}function we(r,o){if(r&1&&(t(0,"div",52),w(1,Re,2,1,"mat-chip",68,R),e()),r&2){m();let n=f(0);l(),k(n.amenities)}}function ke(r,o){r&1&&(t(0,"div",50)(1,"mat-icon",67),i(2,"local_offer"),e(),t(3,"p"),i(4,"No amenities configured"),e()())}function De(r,o){if(r&1&&(t(0,"div")(1,"label",55),i(2,"Sort Order"),e(),t(3,"div",36),i(4),e()()),r&2){m();let n=f(0);l(4),c(n.sortOrder)}}function Ie(r,o){if(r&1&&(t(0,"div")(1,"label",55),i(2,"Created"),e(),t(3,"div",69),i(4),D(5,"date"),e()()),r&2){m();let n=f(0);l(4),c(I(5,1,n.createdAt,"medium"))}}function Me(r,o){if(r&1&&(t(0,"div")(1,"label",55),i(2,"Last Updated"),e(),t(3,"div",69),i(4),D(5,"date"),e()()),r&2){m();let n=f(0);l(4),c(I(5,1,n.updatedAt,"medium"))}}function Be(r,o){if(r&1){let n=S();F(0),t(1,"div",9)(2,"div",26)(3,"div",27)(4,"div",28)(5,"mat-card",29)(6,"mat-card-header",30)(7,"mat-card-title",31)(8,"mat-icon",32),i(9,"info"),e(),i(10," Basic Information "),e()(),t(11,"mat-card-content",33)(12,"div",34)(13,"div")(14,"label",35),i(15,"Room Type Name"),e(),t(16,"div",36),i(17),e()(),s(18,ve,5,1,"div"),t(19,"div",37)(20,"div")(21,"label",35),i(22,"Base Price per Night"),e(),t(23,"div",38),i(24),e()(),s(25,Ce,5,1,"div"),e(),s(26,be,5,1,"div"),e()()(),t(27,"mat-card",29)(28,"mat-card-header",30)(29,"mat-card-title",31)(30,"mat-icon",39),i(31,"people"),e(),i(32," Capacity & Occupancy "),e()(),t(33,"mat-card-content",33)(34,"div",40)(35,"div")(36,"label",35),i(37,"Base Capacity"),e(),t(38,"div",36),i(39),e(),t(40,"div",41),i(41),e()(),t(42,"div")(43,"label",35),i(44,"Maximum Occupancy"),e(),t(45,"div",36),i(46),e(),t(47,"div",41),i(48,"Including extra beds"),e()()(),t(49,"div",42)(50,"div",43)(51,"div",44),i(52),e(),t(53,"div",35),i(54,"Adults"),e()(),t(55,"div",45)(56,"div",46),i(57),e(),t(58,"div",35),i(59,"Children"),e()(),s(60,he,5,1,"div",47),e()()(),t(61,"mat-card",29)(62,"mat-card-header",30)(63,"mat-card-title",31)(64,"mat-icon",48),i(65,"star"),e(),i(66," Room Features "),e()(),t(67,"mat-card-content",33),s(68,Se,3,0,"div",49)(69,Ee,5,0,"div",50),e()(),t(70,"mat-card",29)(71,"mat-card-header",30)(72,"mat-card-title",31)(73,"mat-icon",51),i(74,"local_offer"),e(),i(75," Amenities "),e()(),t(76,"mat-card-content",33),s(77,we,3,0,"div",52)(78,ke,5,0,"div",50),e()()(),t(79,"div",53)(80,"mat-card",29)(81,"mat-card-header",30)(82,"mat-card-title",31)(83,"mat-icon",54),i(84,"analytics"),e(),i(85," Quick Stats "),e()(),t(86,"mat-card-content",33)(87,"div",34)(88,"div")(89,"label",55),i(90,"Room Type ID"),e(),t(91,"div",56),i(92),e()(),s(93,De,5,1,"div"),s(94,Ie,6,4,"div"),s(95,Me,6,4,"div"),e()()(),t(96,"mat-card",29)(97,"mat-card-header",30)(98,"mat-card-title",31)(99,"mat-icon",57),i(100,"settings"),e(),i(101," Actions "),e()(),t(102,"mat-card-content",33)(103,"div",58)(104,"button",59),x("click",function(){u(n);let d=m();return g(d.onEdit())}),t(105,"mat-icon",18),i(106,"edit"),e(),i(107," Edit Room Type "),e(),t(108,"button",60),x("click",function(){u(n);let d=m();return g(d.onToggleActive())}),t(109,"mat-icon",18),i(110),e(),i(111),e(),t(112,"button",61),x("click",function(){u(n);let d=m();return g(d.onDelete())}),t(113,"mat-icon",18),i(114,"delete"),e(),i(115," Delete Room Type "),e()()()(),t(116,"mat-card",29)(117,"mat-card-content",33)(118,"button",62),x("click",function(){u(n);let d=m();return g(d.goBack())}),t(119,"mat-icon",18),i(120,"arrow_back"),e(),i(121," Back to Room Types "),e()()()()()()()}if(r&2){let n=m(),a=$(n.roomType());l(17),c(a.name),l(),p(a.description?18:-1),l(6),c(n.formatPrice(a.basePrice)),l(),p(a.size?25:-1),l(),p(a.bedConfiguration?26:-1),l(13),c(n.getCapacityText()),l(2),y("Total: ",n.totalCapacity()," guests"),l(5),y("",a.maxOccupancy," guests"),l(6),c(a.capacity.adults||0),l(5),c(a.capacity.children||0),l(3),p(a.capacity.infants!==void 0?60:-1),l(8),p(n.roomFeatures().length>0?68:69),l(9),p(a.amenities&&a.amenities.length>0?77:78),l(15),c(a._id||a.id),l(),p(a.sortOrder!==void 0?93:-1),l(),p(a.createdAt?94:-1),l(),p(a.updatedAt?95:-1),l(13),h("ngClass",E(21,xe,!a.active,a.active)),l(2),c(a.active?"toggle_off":"toggle_on"),l(),y(" ",a.active?"Deactivate":"Activate"," ")}}var ce=class r{route=C(N);router=C(P);roomsService=C(me);snackBar=C(H);destroy$=new B;roomType=b(null);loading=b(!0);error=b(null);roomTypeId=b(null);totalCapacity=M(()=>{let o=this.roomType();return o?.capacity?(o.capacity.adults||0)+(o.capacity.children||0):0});roomFeatures=M(()=>{let o=this.roomType();if(!o?.features)return[];let n=[],a={hasPrivateBathroom:"Private Bathroom",hasAirConditioning:"Air Conditioning",hasWifi:"WiFi",hasTv:"Television",hasRefrigerator:"Refrigerator",hasBalcony:"Balcony",hasKitchenette:"Kitchenette",hasWorkDesk:"Work Desk",hasSafe:"Safe",hasHairdryer:"Hair Dryer",hasIroning:"Iron & Board",hasSeatingArea:"Seating Area"};for(let[d,_]of Object.entries(a))o.features[d]&&n.push(_);return n});ngOnInit(){this.route.params.pipe(v(this.destroy$)).subscribe(o=>{let n=o.id;n&&(this.roomTypeId.set(n),this.loadRoomType(n))})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}loadRoomType(o){this.loading.set(!0),this.error.set(null),this.roomsService.getRoomType(o).pipe(v(this.destroy$)).subscribe({next:n=>{this.roomType.set(n),this.loading.set(!1)},error:n=>{console.error("Error loading room type:",n),this.error.set("Failed to load room type details"),this.loading.set(!1)}})}onEdit(){let o=this.roomTypeId();o&&this.router.navigate(["/menu/hms/rooms-management/room-types/",o,"edit"])}onDelete(){let o=this.roomType();if(!o)return;let n=o._id||o.id;n&&confirm(`Are you sure you want to delete "${o.name}"? This action cannot be undone.`)&&this.roomsService.deleteRoomType(n).pipe(v(this.destroy$)).subscribe({next:()=>{this.snackBar.open("Room type deleted successfully","Close",{duration:3e3}),this.router.navigate(["/menu/hms/rooms-management/room-types/room-types"])},error:a=>{console.error("Error deleting room type:",a),this.snackBar.open("Failed to delete room type","Close",{duration:3e3})}})}onToggleActive(){let o=this.roomType();if(!o)return;let n=o._id||o.id;if(!n)return;let a=!o.active,d=a?"activate":"deactivate";this.roomsService.updateRoomType(n,{active:a}).pipe(v(this.destroy$)).subscribe({next:_=>{this.roomType.set(_),this.snackBar.open(`Room type ${d}d successfully`,"Close",{duration:3e3})},error:_=>{console.error(`Error ${d}ing room type:`,_),this.snackBar.open(`Failed to ${d} room type`,"Close",{duration:3e3})}})}goBack(){this.router.navigate(["/menu/hms/rooms-management/room-types/room-types"])}formatPrice(o){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(o)}getCapacityText(){let o=this.roomType();if(!o?.capacity)return"Not specified";let n=[];return o.capacity.adults&&n.push(`${o.capacity.adults} Adult${o.capacity.adults>1?"s":""}`),o.capacity.children&&n.push(`${o.capacity.children} Child${o.capacity.children>1?"ren":""}`),n.join(", ")||"Not specified"}static \u0275fac=function(n){return new(n||r)};static \u0275cmp=A({type:r,selectors:[["app-room-type-details"]],decls:14,vars:5,consts:[["actionsMenu","matMenu"],[1,"bg-gradient-to-r","from-blue-50","to-indigo-50","border-b","border-blue-100"],[1,"max-w-6xl","mx-auto","px-4","sm:px-6","lg:px-8"],[1,"flex","justify-between","items-center","py-6"],[1,"flex","items-center","gap-4"],[1,"p-2","text-gray-600","hover:text-gray-900","hover:bg-white/60","rounded-lg","transition-all","duration-200",3,"click"],[1,"flex","items-center","gap-3"],[1,"flex","justify-center","items-center","py-16","bg-white"],[1,"bg-red-50","border","border-red-200","rounded-lg","p-6","m-6","text-center"],[1,"bg-gray-50","min-h-screen"],[1,"text-3xl","font-bold","text-gray-900","mb-1"],[1,"text-sm","text-gray-600"],[1,"inline-flex","items-center","px-4","py-2","text-sm","font-bold","rounded-full","shadow-sm","ring-2",3,"ngClass"],[1,"w-2","h-2","rounded-full","mr-2",3,"ngClass"],["mat-icon-button","",1,"!text-gray-600","hover:!text-gray-900","hover:!bg-white/60",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],["mat-menu-item","",1,"!text-red-600",3,"click"],[1,"!bg-gradient-to-r","!from-blue-600","!to-blue-700","hover:!from-blue-700","hover:!to-blue-800","!text-white","px-6","py-3","rounded-lg","font-medium","transition-all","duration-200","shadow-lg","hover:shadow-xl","transform","hover:scale-105","flex","items-center","gap-2",3,"click"],[1,"text-lg"],["diameter","40",1,"!text-blue-600"],[1,"ml-3","text-gray-600"],[1,"w-16","h-16","bg-red-200","rounded-full","flex","items-center","justify-center","mx-auto","mb-4"],[1,"text-4xl","text-red-500"],[1,"text-lg","font-semibold","text-gray-900","mb-2"],[1,"text-gray-500","mb-6"],[1,"!bg-gradient-to-r","!from-blue-600","!to-blue-700","hover:!from-blue-700","hover:!to-blue-800","!text-white","px-6","py-3","rounded-lg","font-medium","transition-all","duration-200","shadow-lg","hover:shadow-xl","transform","hover:scale-105","inline-flex","items-center","gap-2",3,"click"],[1,"max-w-6xl","mx-auto","px-4","sm:px-6","lg:px-8","py-8"],[1,"grid","grid-cols-1","lg:grid-cols-3","gap-8"],[1,"lg:col-span-2","space-y-6"],[1,"shadow-sm","border","border-gray-200"],[1,"!bg-gradient-to-r","!from-gray-50","!to-gray-100","!border-b","!border-gray-200"],[1,"!text-lg","!font-semibold","!text-gray-900","flex","items-center","gap-2"],[1,"text-blue-600"],[1,"!pt-6"],[1,"space-y-4"],[1,"text-sm","font-medium","text-gray-600"],[1,"text-lg","font-semibold","text-gray-900","mt-1"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-4"],[1,"text-2xl","font-bold","text-green-600","mt-1"],[1,"text-green-600"],[1,"grid","grid-cols-1","md:grid-cols-2","gap-6"],[1,"text-sm","text-gray-500","mt-1"],[1,"mt-6","grid","grid-cols-2","md:grid-cols-3","gap-4"],[1,"bg-blue-50","border","border-blue-200","rounded-lg","p-4","text-center"],[1,"text-2xl","font-bold","text-blue-600"],[1,"bg-green-50","border","border-green-200","rounded-lg","p-4","text-center"],[1,"text-2xl","font-bold","text-green-600"],[1,"bg-purple-50","border","border-purple-200","rounded-lg","p-4","text-center"],[1,"text-purple-600"],[1,"grid","grid-cols-2","md:grid-cols-3","gap-3"],[1,"text-center","py-8","text-gray-500"],[1,"text-orange-600"],[1,"flex","flex-wrap","gap-2"],[1,"space-y-6"],[1,"text-indigo-600"],[1,"text-xs","font-medium","text-gray-500","uppercase","tracking-wider"],[1,"text-sm","font-mono","text-gray-900","mt-1","bg-gray-50","px-2","py-1","rounded","border"],[1,"text-red-600"],[1,"space-y-3"],[1,"w-full","!bg-gradient-to-r","!from-blue-600","!to-blue-700","hover:!from-blue-700","hover:!to-blue-800","!text-white","px-4","py-3","rounded-lg","font-medium","transition-all","duration-200","shadow-sm","hover:shadow-md","flex","items-center","justify-center","gap-2",3,"click"],[1,"w-full","border","border-gray-300","hover:bg-gray-50","text-gray-700","px-4","py-3","rounded-lg","font-medium","transition-all","duration-200","flex","items-center","justify-center","gap-2",3,"click","ngClass"],[1,"w-full","!bg-red-600","hover:!bg-red-700","!text-white","px-4","py-3","rounded-lg","font-medium","transition-all","duration-200","shadow-sm","hover:shadow-md","flex","items-center","justify-center","gap-2",3,"click"],[1,"w-full","border","border-gray-300","hover:bg-gray-50","text-gray-700","px-4","py-3","rounded-lg","font-medium","transition-all","duration-200","flex","items-center","justify-center","gap-2",3,"click"],[1,"text-gray-900","mt-1","leading-relaxed"],[1,"text-2xl","font-bold","text-purple-600"],[1,"flex","items-center","gap-2","text-sm","text-gray-900"],[1,"text-green-500","text-base"],[1,"text-4xl","text-gray-300","mb-2"],[1,"!bg-gradient-to-r","!from-blue-50","!to-blue-100","!text-blue-800","!border","!border-blue-200"],[1,"text-sm","text-gray-900","mt-1"]],template:function(n,a){n&1&&(t(0,"div",1)(1,"div",2)(2,"div",3)(3,"div",4)(4,"button",5),x("click",function(){return a.goBack()}),t(5,"mat-icon"),i(6,"arrow_back"),e()(),t(7,"div"),s(8,ue,4,1)(9,ge,4,0),e()(),s(10,fe,29,12,"div",6),e()()(),s(11,ye,4,0,"div",7),s(12,_e,12,1,"div",8),s(13,Be,122,24,"div",9)),n&2&&(l(8),p(a.roomType()?8:9),l(2),p(a.roomType()?10:-1),l(),p(a.loading()?11:-1),l(),p(a.error()?12:-1),l(),p(a.roomType()&&!a.loading()&&!a.error()?13:-1))},dependencies:[j,L,O,U,z,W,Y,X,J,K,G,Q,q,ae,re,de,le,oe,ie,te,ne,ee,Z],encapsulation:2})};export{ce as RoomTypeDetailsComponent};
